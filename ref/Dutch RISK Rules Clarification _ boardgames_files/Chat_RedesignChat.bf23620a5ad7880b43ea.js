(window.webpackJsonp=window.webpackJsonp||[]).push([["Chat~RedesignChat"],{"./src/chat/actions/apiRequestHeaders.ts":function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n("./src/lib/makeActionCreator/index.ts"),a="API_REQUEST_HEADERS__set";Object(r.a)(a)},"./src/chat/actions/channel.ts":function(e,t,n){"use strict";n.d(t,"f",function(){return G}),n.d(t,"d",function(){return K}),n.d(t,"e",function(){return V}),n.d(t,"p",function(){return z}),n.d(t,"o",function(){return J}),n.d(t,"q",function(){return Q}),n.d(t,"g",function(){return q}),n.d(t,"c",function(){return W}),n.d(t,"w",function(){return Z}),n.d(t,"x",function(){return Y}),n.d(t,"y",function(){return X}),n.d(t,"u",function(){return $}),n.d(t,"j",function(){return ee}),n.d(t,"k",function(){return te}),n.d(t,"h",function(){return ne}),n.d(t,"i",function(){return re}),n.d(t,"a",function(){return ae}),n.d(t,"b",function(){return ce}),n.d(t,"t",function(){return se}),n.d(t,"r",function(){return ie}),n.d(t,"m",function(){return oe}),n.d(t,"v",function(){return ue}),n.d(t,"n",function(){return de}),n.d(t,"l",function(){return le}),n.d(t,"s",function(){return he}),n.d(t,"M",function(){return be}),n.d(t,"L",function(){return pe}),n.d(t,"z",function(){return ve}),n.d(t,"D",function(){return ge}),n.d(t,"T",function(){return ye}),n.d(t,"S",function(){return we}),n.d(t,"R",function(){return Ne}),n.d(t,"O",function(){return Me}),n.d(t,"K",function(){return Le}),n.d(t,"C",function(){return Be}),n.d(t,"B",function(){return Fe}),n.d(t,"I",function(){return Ge}),n.d(t,"P",function(){return Je}),n.d(t,"F",function(){return et}),n.d(t,"G",function(){return nt}),n.d(t,"H",function(){return rt}),n.d(t,"E",function(){return ct}),n.d(t,"A",function(){return st}),n.d(t,"N",function(){return it}),n.d(t,"J",function(){return ot}),n.d(t,"Q",function(){return lt});var r=n("./node_modules/babel-runtime/helpers/defineProperty.js"),a=n.n(r),c=n("./node_modules/babel-runtime/regenerator/index.js"),s=n.n(c),i=n("./node_modules/babel-runtime/helpers/asyncToGenerator.js"),o=n.n(i),u=n("./node_modules/lodash/isEqual.js"),d=n.n(u),l=n("./node_modules/react-router-redux/es/index.js"),h=n("./src/lib/makeActionCreator/index.ts"),b=n("./src/chat/actions/channel/moderator.ts"),f=n("./src/chat/actions/channel/subreddit.ts"),p=n("./src/chat/actions/members.ts"),m=n("./src/chat/actions/message/index.ts"),v=n("./src/chat/actions/message/unreadCount.ts"),j=n("./src/chat/actions/tracking.ts"),g=n("./src/chat/actions/user.ts"),O=n("./src/chat/actions/sidebar.ts"),x=n("./src/chat/constants/batchSizes.ts"),y=n("./src/chat/constants/channels.ts"),C=n("./src/chat/constants/sendbird.ts"),E=n("./src/chat/endpoints/sendbird/index.ts"),_=n("./src/chat/helpers/errors.ts"),I=n("./src/chat/helpers/urls/index.ts"),w=n("./src/chat/models/Channel/index.ts"),k=n("./src/chat/models/Channel/moderator.ts"),S=n("./src/chat/models/Channel/platform.ts"),N=n("./src/chat/models/Channel/utils.ts"),A=n("./src/chat/models/Message/index.ts"),T=n("./src/chat/models/Subreddit/index.ts"),D=n("./src/chat/selectors/channels.ts"),M=n("./src/chat/selectors/channels/next.tsx"),L=n("./src/chat/selectors/experiments.ts"),R=n("./src/chat/selectors/platform.ts"),U=n("./src/chat/selectors/promos.ts"),P=n("./src/chat/selectors/sidebar.ts"),H=n("./src/chat/selectors/subreddit.ts"),B=n("./src/chat/singleton/SendbirdSDK.ts"),F=void 0,G="CHANNEL__ADD_SUCCESS",K="CHANNEL__ADD_FAIL",V="CHANNEL__CREATE_CHANNEL_START",z="CHANNEL__SELECT_BEGIN",J="CHANNEL__RESET_UNREAD_COUNT",Q="CHANNEL__SELECT_END",q="CHANNEL__EXPAND_INVITE_LIST",W="CHANNEL__COLLAPSE_INVITE_LIST",Z="CHANNEL__UPDATE_MODEL",Y="CHANNEL__INVITED_UPDATE",X="CHANNEL__JOINED_UPDATE",$="CHANNEL__SET_UPDATED_CHANNEL_ON_TOP",ee="CHANNEL__FETCHING_JOINED_CHANNELS",te="CHANNEL__FETCHING_JOINED_CHANNELS_FAILED",ne="CHANNEL__FETCHING_INVITED_CHANNELS",re="CHANNEL__FETCHING_INVITED_CHANNELS_FAILED",ae="CHANNEL__ADD_EXISTING_INVITED_CHANNELS",ce="CHANNEL__ADD_EXISTING_JOINED_CHANNELS",se="CHANNEL__SET_INVITED_CHANNEL_TO_JOINED",ie="CHANNEL__SET_EXISTING_CHANNELS_END",oe="CHANNEL__REMOVE_CHANNEL",ue="CHANNEL__UNSORT_CHANNEL",de="CHANNEL__RESET_CHANNEL_MESSAGE_LIST",le="CHANNEL__FETCH_FIRST_MESSAGE",he="CHANNEL__SET_FIRST_MESSAGE_ID",be=Object(h.a)(oe),fe=Object(h.a)(ue),pe=function(e,t){return n=o()(s.a.mark(function n(r,a){var c,i;return s.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:c=a(),i=Object(D.L)(c,e),r(i?fe({channelId:e,subredditName:t}):be({channelId:e,subredditName:t}));case 3:case"end":return n.stop()}},n,F)})),function(e,t){return n.apply(this,arguments)};var n},me=Object(h.a)(se),ve=function(e){return t=o()(s.a.mark(function t(n,r){var a,c,i,o,u,d,h,b,f;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=r(),c=a.channels.selected,i=a.contacts.models,o=e||c.channelId){t.next=5;break}throw new _.a("accepted channelId",e);case 5:if(u=Object(D.k)(a),d=u&&u.firstMessageId,h=!!(u&&d&&u.hasMoreMessages),b=Object(D.b)(a,i),f=Object(U.a)(a),!b||!f){t.next=13;break}return n(Object(l.b)(Object(I.b)(o,y.a.VIEW_NSFW_CONFIRMATION))),t.abrupt("return");case 13:return t.next=15,B.b.acceptChannelInvite().then(function(){return h&&n(Object(m.p)(d))}).then(function(){return n(me({channelId:o}))}).then(function(){return n(Object(l.b)(Object(I.c)(o)))});case 15:case"end":return t.stop()}},t,F)})),function(e,n){return t.apply(this,arguments)};var t},je=function(e,t){return n=o()(s.a.mark(function n(r){return s.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",r(pe(e,t)));case 1:case"end":return n.stop()}},n,F)})),function(e){return n.apply(this,arguments)};var n},ge=function(e){return t=o()(s.a.mark(function t(n,r){var a,c,i,o;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=r(),c=Object(D.B)(a,"channelState"),i=Object(D.B)(a,"channelId"),o=a.channels.models[i],i){t.next=6;break}throw new _.a("declinedChannelId",i);case 6:if(c){t.next=8;break}throw new _.a("declinedChannelType",c);case 8:return t.prev=8,t.next=11,B.b.declineChannelInvite();case 11:t.next=16;break;case 13:return t.prev=13,t.t0=t.catch(8),t.abrupt("return",Object(_.b)("Error declining channel: "+t.t0.message));case 16:n(Le(i)),n(je(i,e)),n(Ke(o.channelState));case 19:case"end":return t.stop()}},t,F,[[8,13]])})),function(e,n){return t.apply(this,arguments)};var t},Oe=Object(h.a)(Y),xe=Object(h.a)(X),ye=Object(h.a)(Z),Ce=function(e){return t=o()(s.a.mark(function t(n,r){var a,c;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a=r().user.account.id,c=e.members.filter(function(e){return e.id!==a}).map(function(e){return e.id}),n(Object(g.w)(c));case 3:case"end":return t.stop()}},t,F)})),function(e,n){return t.apply(this,arguments)};var t},Ee=function(e){if(e.type===w.a.Subreddit){var t=e.customData.subreddit;return t&&t.name}},_e=function(e){return t=o()(s.a.mark(function t(n){var r;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.type!==w.a.Subreddit){t.next=7;break}return r=Object(T.c)([e]),t.next=4,n(Object(f.o)(r));case 4:n(Object(f.w)({channel:e})),t.next=10;break;case 7:return t.next=9,n(Oe({channel:e}));case 9:n(Ce(e));case 10:case"end":return t.stop()}},t,F)})),function(e){return t.apply(this,arguments)};var t},Ie=function(e){return t=o()(s.a.mark(function t(n,r){var a,c,i,o;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=r(),c=e.channelId,i=Ee(e),!(o=Object(D.x)(a))||o.channelId!==e.channelId){t.next=10;break}return t.next=7,n(be({channelId:c,subredditName:i}));case 7:return t.next=9,n(ye({channel:e}));case 9:n(Ke(o.channelState));case 10:case"end":return t.stop()}},t,F)})),function(e,n){return t.apply(this,arguments)};var t},we=function(e,t){return n=o()(s.a.mark(function n(r,a){var c,i;return s.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!e){n.next=23;break}if(c=a(),i=Object(D.h)(c,e.channelId),(e.channelState===y.b.INVITED||i)&&!t){n.next=5;break}return n.abrupt("return");case 5:if(e=ke(c,e),!d()(e,i)){n.next=8;break}return n.abrupt("return");case 8:n.t0=e.channelState,n.next=n.t0===y.b.INVITED?11:n.t0===y.b.UNSORTED?14:n.t0===y.b.JOINED?17:20;break;case 11:return n.next=13,r(_e(e));case 13:return n.abrupt("break",22);case 14:return n.next=16,r(Ie(e));case 16:return n.abrupt("break",22);case 17:return n.next=19,r(xe({channel:e}));case 19:return n.abrupt("break",22);case 20:return Object(_.b)("Error updating channel. ChannelState not found."),n.abrupt("break",22);case 22:r(Object(v.b)());case 23:case"end":return n.stop()}},n,F)})),function(e,t){return n.apply(this,arguments)};var n},ke=function(e,t){var n=Object(R.d)(e),r=Object(D.h)(e,t.channelId),a=n===t.channelId,c=t.type===w.a.Subreddit;return a&&(t.unreadMessageCount=0),!a&&c&&(t.unreadMessageCount=t.unreadMessageCount?1:0),r&&c&&(t.lastMessage=r.lastMessage,t.isMessageListLoaded=r.isMessageListLoaded,t.hasMoreMessages=r.hasMoreMessages,r.moderators&&(t.moderators=r.moderators)),t},Se=Object(h.a)($),Ne=function(e){return t=o()(s.a.mark(function t(n,r){var a;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a=e.channelId,e.type!==w.a.Subreddit&&n(Se({channelId:a}));case 2:case"end":return t.stop()}},t,F)})),function(e,n){return t.apply(this,arguments)};var t},Ae=Object(h.a)(J),Te=Object(h.a)(z),De=Object(h.a)(Q),Me=function(){return e=o()(s.a.mark(function e(t,n){var r,a,c,i,o,u,d,h,f,v,j,g,x,E,_,w,S,N,A;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n(),a=Object(R.d)(r),c=Object(R.c)(r),i=y.a.DENY,o=y.a.VIEW_JOIN,r.platform.currentPage){e.next=6;break}return e.abrupt("return");case 6:if(u=r.sidebarTabs.activeIndex,a&&t(Object(O.e)({channelId:a,tabIndex:u})),d=a&&Object(D.h)(r,a),h=d&&Object(H.b)(r,d.channelId),f=h&&h.name||void 0,d||c!==i){e.next=13;break}return e.abrupt("return");case 13:if(v=!(!d||d.channelState!==y.b.UNSORTED),!(j=!(!a||!Object(D.M)(r,a)))&&!v){e.next=19;break}if(!d||c){e.next=19;break}return t(Object(l.b)(Object(I.b)(d.channelId,o,f))),e.abrupt("return");case 19:if(g=!(!d||d.channelState!==y.b.JOINED),!d||!g){e.next=24;break}if(!c||!y.g.includes(c)){e.next=24;break}return t(Object(l.b)(Object(I.c)(d.channelId,f))),e.abrupt("return");case 24:if(!d||!a){e.next=46;break}return t(Te({channelId:a})),x=j||v,e.next=29,B.b.enterChannel(d,!1,x);case 29:if(!(E=e.sent)||E.error){e.next=42;break}return _=E.data,w=_.messageListData,S=_.moderators,e.next=34,t(Object(m.m)(w));case 34:return e.next=36,t(Object(b.b)(Object(k.a)(S)));case 36:return e.next=38,t(De());case 38:t(Le(a)),t(Object(p.f)()),e.next=44;break;case 42:t(Object(m.y)()),t(De());case 44:e.next=56;break;case 46:if(N=r.sendbird.sdk.connectionStatus===C.b.Open,d||!a||!N){e.next=54;break}return e.next=50,B.b.addChannelModelByChannelId(a);case 50:if(!(A=e.sent)||c){e.next=54;break}return t(Object(l.b)(Object(I.b)(A.channelId,o,f))),e.abrupt("return");case 54:t(Je()),t(Object(m.y)());case 56:case"end":return e.stop()}},e,F)})),function(t,n){return e.apply(this,arguments)};var e},Le=(Object(h.a)("MESSAGE__MARK_AS_READ"),function(e){return t=o()(s.a.mark(function t(n,r){var a,c;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=r(),!(c=e||Object(R.d)(a))){t.next=8;break}return t.next=5,n(Ae(c));case 5:return t.next=7,B.b.markChannelAsRead();case 7:n(Object(v.b)());case 8:case"end":return t.stop()}},t,F)})),function(e,n){return t.apply(this,arguments)};var t}),Re=Object(h.a)(V),Ue=Object(h.a)(G),Pe=Object(h.a)(K),He=function(e,t,n){var r=e.map(function(e){return{user_id:e,nickname:t[e].name}});if(n){var a=n.id,c=n.name;-1===r.findIndex(function(e){return e.user_id===a})&&r.unshift({user_id:a,nickname:c})}return r},Be=function(e,t,n){return r=o()(s.a.mark(function r(c,i,o){var u,d,h,b,f,p,m,v,g,O,x,C,_,w=o.apiContext;return s.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(u=i(),d=u.user,h=d.account,b=d.session,f=u.contacts.models,p=u.channels,m=p.joined,v=p.invited,!h||!b){r.next=31;break}if(c(Re()),!((g=He(e,f,h)).length<2)){r.next=7;break}return r.abrupt("return");case 7:return r.next=9,Object(E.c)(w(),b,g,t);case 9:if(!(O=r.sent).ok){r.next=29;break}if(x=O.body,C=Object(S.a)(x,y.b.JOINED),_=C.channelId,!v.sortedKeys.includes(_)){r.next=19;break}c(ve(_)),c(Object(j.h)(e,_)),r.next=27;break;case 19:if(!m.sortedKeys.includes(_)){r.next=23;break}n&&(c(Object(l.b)(Object(I.c)(_))),c(Object(j.h)(e,_))),r.next=27;break;case 23:return r.next=25,c(Ue(a()({},_,C)));case 25:c(Object(j.h)(e,_)),n&&c(Object(l.b)(Object(I.c)(_)));case 27:r.next=31;break;case 29:c(Pe()),c(Object(j.x)(e));case 31:case"end":return r.stop()}},r,F)})),function(e,t,n){return r.apply(this,arguments)};var r},Fe=function(e,t){return n=o()(s.a.mark(function n(r,a){return s.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return e.length>1&&(e=[e[0]]),n.next=3,r(Object(g.w)(e));case 3:r(Be(e,t,!0));case 4:case"end":return n.stop()}},n,F)})),function(e,t){return n.apply(this,arguments)};var n},Ge=function(e){return t=o()(s.a.mark(function t(n,r,a){var c,i,o,u,d,h,b,f=a.apiContext;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(c=r(),i=c.user,o=i.account,u=i.session,d=c.contacts.models,h=Object(D.B)(c,"channelSendbirdUrl"),!o||!u){t.next=9;break}return b=He(e,d),t.next=7,Object(E.i)(f(),u,b,h);case 7:t.sent.body?(n(Object(j.b)()),n(Object(l.a)())):Object(_.b)("Error inviting user to existing channel");case 9:case"end":return t.stop()}},t,F)})),function(e,n,r){return t.apply(this,arguments)};var t},Ke=function(e){return t=o()(s.a.mark(function t(n,r){var a,c,i,o,u,d,l,h;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=r(),c=Object(P.b)(a),i=e===y.b.INVITED,o=Object(M.d)(a),u=Object(M.f)(a),d=Object(M.g)(a),l=Object(M.c)(a),h=Object(M.e)(a),!(c&&i&&Object(L.b)(a))){t.next=11;break}return o.channelId?n(ze(o)):n(ze(u)),t.abrupt("return");case 11:if(!c||i||!Object(L.b)(a)){t.next=14;break}return u.channelId?n(ze(u)):n(ze(d)),t.abrupt("return");case 14:if(c||!i){t.next=17;break}return l.channelId?n(ze(l)):n(ze(h)),t.abrupt("return");case 17:if(c||i){t.next=20;break}return h.channelId?n(ze(h)):n(Ve()),t.abrupt("return");case 20:n(Ve());case 21:case"end":return t.stop()}},t,F)})),function(e,n){return t.apply(this,arguments)};var t},Ve=function(){return e=o()(s.a.mark(function e(t,n){var r,a,c;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:(r=n()).channels.firstLoaded&&(a=!!r.platform.currentPage,c=Object(M.b)(r,a),t(ze(c)));case 2:case"end":return e.stop()}},e,F)})),function(t,n){return e.apply(this,arguments)};var e},ze=function(e){return t=o()(s.a.mark(function t(n,r){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e||!e.channelId){t.next=3;break}return e.channelAction?n(Object(l.c)(Object(I.b)(e.channelId,e.channelAction,e.subredditName))):n(Object(l.c)(Object(I.c)(e.channelId,e.subredditName))),t.abrupt("return");case 3:n(Object(l.c)(I.i));case 4:case"end":return t.stop()}},t,F)})),function(e,n){return t.apply(this,arguments)};var t},Je=function(e){return t=o()(s.a.mark(function t(n,r){var a,c,i;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=r(),!(c=a.platform.currentPage)||!c.urlParams.userIds){t.next=4;break}return i=c.urlParams.userIds.split(","),t.abrupt("return",n(Fe(i,name)));case 4:if(!e){t.next=6;break}return t.abrupt("return",n(Ke(e)));case 6:return t.abrupt("return",n(Ve()));case 7:case"end":return t.stop()}},t,F)})),function(e,n){return t.apply(this,arguments)};var t},Qe=Object(h.a)(ne),qe=Object(h.a)(re),We=Object(h.a)(ee),Ze=Object(h.a)(te),Ye=Object(h.a)(ae),Xe=Object(h.a)(ce),$e=Object(h.a)(ie),et=function(){return e=o()(s.a.mark(function e(t,n){var r;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([t(at()),t(Object(f.r)()),t(Object(f.q)()),t(Object(f.p)()),t(nt()),t(rt())]);case 2:return r=n().channels.models,e.next=5,t(tt(r));case 5:t($e()),t(Me());case 7:case"end":return e.stop()}},e,F)})),function(t,n){return e.apply(this,arguments)};var e},tt=function(e){return t=o()(s.a.mark(function t(n){var r,a,c,i;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=Object(N.c)(e,[w.a.Direct,w.a.Group,w.a.Subreddit])){t.next=3;break}return t.abrupt("return");case 3:for(c in a={},r)(i=r[c]).channelState!==y.b.PARTIAL&&(a[i.channelId]=i);a&&function(){var e=[];for(var t in a)a[t].members.map(function(t){return e.push(t.id)});n(Object(g.w)(e))}();case 6:case"end":return t.stop()}},t,F)})),function(e){return t.apply(this,arguments)};var t},nt=function(){return e=o()(s.a.mark(function e(t,n){var r,a,c;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t(Qe()),e.next=3,B.b.getExistingChannels(y.b.INVITED,y.f.NonSuper).catch(function(){return null});case 3:if(!(r=e.sent)){e.next=10;break}return a=r.hasMoreChannels,c=Object(w.c)(r.channels,y.b.INVITED),t(tt(c)),t(Ye({channels:c,hasMoreChannels:a})),e.abrupt("return");case 10:t(qe()),Object(_.b)("Error fetching invited channels");case 12:case"end":return e.stop()}},e,F)})),function(t,n){return e.apply(this,arguments)};var e},rt=function e(){return t=o()(s.a.mark(function t(n,r){var a,c,i,o;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n(We()),t.next=3,B.b.getExistingChannels(y.b.JOINED,y.f.NonSuper).catch(function(){return null});case 3:if(!(a=t.sent)){t.next=11;break}return c=a.hasMoreChannels,i=Object(w.c)(a.channels,y.b.JOINED),o=Object(D.r)(r()),n(Xe({channels:i,hasMoreChannels:c})),c&&o<x.a.InitChannels&&n(e()),t.abrupt("return");case 11:n(Ze()),Object(_.b)("Error fetching joined channels");case 13:case"end":return t.stop()}},t,F)})),function(e,n){return t.apply(this,arguments)};var t},at=function(){return e=o()(s.a.mark(function e(t,n){var r,a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n(),!(a=Object(R.d)(r))){e.next=5;break}return e.next=5,B.b.addChannelModelByChannelId(a);case 5:case"end":return e.stop()}},e,F)})),function(t,n){return e.apply(this,arguments)};var e},ct=Object(h.a)(q),st=Object(h.a)(W),it=(Object(h.a)("CHANNEL__MESSAGES_LOADED"),Object(h.a)(de)),ot=function(e,t){return n=o()(s.a.mark(function n(r,a){var c,i;return s.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:c=a(),i=Object(D.B)(c,"channelState"),B.b.leaveChannel().then(function(){return r(pe(e,t))}).then(function(){return r(Ke(i))}).catch(function(e){return Object(_.b)("Error leaving channels: "+e.message)});case 3:case"end":return n.stop()}},n,F)})),function(e,t){return n.apply(this,arguments)};var n},ut=Object(h.a)(le),dt=Object(h.a)(he),lt=function(e){return t=o()(s.a.mark(function t(n,r){var c,i;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:c=r(),i=Object(D.k)(c),n(ut({channelId:e})),B.b.getFirstMessage().then(function(e){var t=e[0];if(t){if(i&&i.hasMoreMessages){var r=Object(A.b)(t);n(Object(m.s)(a()({},t.messageId,r)))}return t.messageId}}).then(function(t){return t&&n(dt({channelId:e,firstMessageId:t}))}).catch(function(e){return Object(_.b)("Error setting of first message: "+e.message)});case 4:case"end":return t.stop()}},t,F)})),function(e,n){return t.apply(this,arguments)};var t}},"./src/chat/actions/channel/dropdown.ts":function(e,t,n){"use strict";n.d(t,"b",function(){return x}),n.d(t,"c",function(){return y}),n.d(t,"d",function(){return C}),n.d(t,"g",function(){return E}),n.d(t,"j",function(){return _}),n.d(t,"i",function(){return I}),n.d(t,"a",function(){return w}),n.d(t,"h",function(){return S}),n.d(t,"e",function(){return N}),n.d(t,"f",function(){return A});var r=n("./node_modules/babel-runtime/regenerator/index.js"),a=n.n(r),c=n("./node_modules/babel-runtime/helpers/asyncToGenerator.js"),s=n.n(c),i=n("./node_modules/react-router-redux/es/index.js"),o=n("./src/lib/makeActionCreator/index.ts"),u=n("./src/chat/actions/tooltip.ts"),d=n("./src/chat/actions/tracking.ts"),l=n("./src/chat/constants/channels.ts"),h=n("./src/chat/helpers/errors.ts"),b=n("./src/chat/helpers/urls/index.ts"),f=n("./src/chat/selectors/channels.ts"),p=n("./src/chat/selectors/subreddit.ts"),m=n("./src/chat/singleton/SendbirdSDK.ts"),v=l.a.INVITE_MEMBERS,j=l.a.LEAVE,g=l.a.LOCK_CHANNEL_CONFIRMATION,O=l.a.VIEW_MEMBERS,x=function(){return e=s()(a.a.mark(function e(t,n){var r,c,s,o,u;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=n(),c=Object(f.x)(r),s=c.channelId,o=Object(p.b)(r),u=o&&o.name,t(Object(i.b)(Object(b.b)(s,v,u)));case 5:case"end":return e.stop()}},e,void 0)})),function(t,n){return e.apply(this,arguments)};var e},y=function(){return e=s()(a.a.mark(function e(t,n){var r,c,s,o,u;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=n(),c=Object(f.x)(r),s=c.channelId,o=Object(p.b)(r),u=o&&o.name,t(Object(i.b)(Object(b.b)(s,j,u)));case 5:case"end":return e.stop()}},e,void 0)})),function(t,n){return e.apply(this,arguments)};var e},C=function(){return e=s()(a.a.mark(function e(t,n){var r,c,s,o,u;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=n(),c=Object(f.x)(r),s=c.channelId,o=Object(p.b)(r),u=o&&o.name,t(Object(i.b)(Object(b.b)(s,g,u)));case 5:case"end":return e.stop()}},e,void 0)})),function(t,n){return e.apply(this,arguments)};var e},E=function(e){return t=s()(a.a.mark(function t(n,r){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n(Object(u.a)({tooltipId:e})),n(Object(d.A)());case 2:case"end":return t.stop()}},t,void 0)})),function(e,n){return t.apply(this,arguments)};var t},_=function(e){return t=s()(a.a.mark(function t(n,r){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e&&(n(Object(d.m)()),n(Object(d.p)()).then(function(){window.open(Object(b.k)(e))}));case 1:case"end":return t.stop()}},t,void 0)})),function(e,n){return t.apply(this,arguments)};var t},I=function(){return e=s()(a.a.mark(function e(t,n){var r,c,s,o,u;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=n(),c=Object(f.x)(r),s=c.channelId,o=Object(p.b)(r),u=o&&o.name,t(Object(i.b)(Object(b.b)(s,O,u)));case 5:case"end":return e.stop()}},e,void 0)})),function(t,n){return e.apply(this,arguments)};var e},w="CHANNEL__UPDATE_CHANNEL_NAME",k=Object(o.a)(w),S=function(e){return t=s()(a.a.mark(function t(n,r){var c,s,i;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(c=Object(f.x)(r()))){t.next=7;break}return s=Object.assign({},c,{name:e}),i=Object.assign({},c),n(k(s)),t.next=7,m.b.updateChannel(s).catch(function(e){Object(h.b)(e),n(k(i))});case 7:case"end":return t.stop()}},t,void 0)})),function(e,n){return t.apply(this,arguments)};var t},N=function(){return e=s()(a.a.mark(function e(t,n){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:m.b.setMyCountPreference(l.c.Off);case 1:case"end":return e.stop()}},e,void 0)})),function(t,n){return e.apply(this,arguments)};var e},A=function(){return e=s()(a.a.mark(function e(t,n){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:m.b.setMyCountPreference(l.c.All);case 1:case"end":return e.stop()}},e,void 0)})),function(t,n){return e.apply(this,arguments)};var e}},"./src/chat/actions/channel/moderator.ts":function(e,t,n){"use strict";n.d(t,"a",function(){return d}),n.d(t,"b",function(){return h}),n.d(t,"c",function(){return f});var r=n("./node_modules/babel-runtime/regenerator/index.js"),a=n.n(r),c=n("./node_modules/babel-runtime/helpers/asyncToGenerator.js"),s=n.n(c),i=n("./node_modules/react-router-redux/es/index.js"),o=n("./src/lib/makeActionCreator/index.ts"),u=n("./src/chat/singleton/SendbirdSDK.ts"),d="MODERATOR__ADD_MODERATOR",l=Object(o.a)(d),h=function(e){return t=s()(a.a.mark(function t(n,r){var c,s;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:c=r(),(s=c.channels.selected.channelId)&&n(l({channelId:s,moderators:e}));case 3:case"end":return t.stop()}},t,void 0)})),function(e,n){return t.apply(this,arguments)};var t},b=Object(o.a)("MODERATOR__KICK_USER"),f=function(e,t){return n=s()(a.a.mark(function n(r,c){return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u.b.kickUserFromChannel(e,t,"Temporary ban from room").then(function(){r(b({userId:e})),r(Object(i.a)())});case 2:case"end":return n.stop()}},n,void 0)})),function(e,t){return n.apply(this,arguments)};var n}},"./src/chat/actions/channel/subreddit.ts":function(e,t,n){"use strict";n.d(t,"d",function(){return I}),n.d(t,"o",function(){return w}),n.d(t,"l",function(){return k}),n.d(t,"g",function(){return S}),n.d(t,"r",function(){return D}),n.d(t,"k",function(){return M}),n.d(t,"j",function(){return L}),n.d(t,"f",function(){return R}),n.d(t,"q",function(){return B}),n.d(t,"i",function(){return F}),n.d(t,"h",function(){return G}),n.d(t,"e",function(){return K}),n.d(t,"p",function(){return Q}),n.d(t,"m",function(){return q}),n.d(t,"w",function(){return W}),n.d(t,"b",function(){return Z}),n.d(t,"t",function(){return X}),n.d(t,"n",function(){return $}),n.d(t,"u",function(){return te}),n.d(t,"c",function(){return ne}),n.d(t,"a",function(){return ae}),n.d(t,"s",function(){return ie}),n.d(t,"v",function(){return oe});var r=n("./node_modules/babel-runtime/regenerator/index.js"),a=n.n(r),c=n("./node_modules/babel-runtime/helpers/asyncToGenerator.js"),s=n.n(c),i=n("./node_modules/react-router-redux/es/index.js"),o=n("./src/lib/makeActionCreator/index.ts"),u=n("./src/chat/actions/channel.ts"),d=n("./src/chat/actions/channel/moderator.ts"),l=n("./src/chat/actions/message/index.ts"),h=n("./src/chat/actions/user.ts"),b=n("./src/chat/constants/channels.ts"),f=n("./src/chat/endpoints/sendbird/index.ts"),p=n("./src/chat/helpers/errors.ts"),m=n("./src/chat/helpers/urls/index.ts"),v=n("./src/chat/models/Channel/index.ts"),j=n("./src/chat/models/Channel/moderator.ts"),g=n("./src/chat/models/Channel/subreddit.ts"),O=n("./src/chat/models/Subreddit/index.ts"),x=n("./src/chat/selectors/channels.ts"),y=n("./src/chat/selectors/subreddit.ts"),C=n("./src/chat/selectors/user.ts"),E=n("./src/chat/singleton/SendbirdSDK.ts"),_=n("./src/chat/tracking/events/chatPreview.ts"),I="SUBREDDIT__ADD_SUBREDDIT_COLLECTION",w=Object(o.a)(I),k="SUBREDDIT_CHANNELS__FETCH_RECOMMENDED",S="SUBREDDIT_CHANNELS__ADD_RECOMMENDED_COLLECTION",N=Object(o.a)("SUBREDDIT_CHANNELS__FETCH_RECOMMENDED_FAILED"),A=Object(o.a)(k),T=Object(o.a)(S),D=function(){return e=s()(a.a.mark(function e(t,n,r){var c,s,i,o,u,d,l,h,b,p=r.apiContext;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(c=n(),s=c.user,i=s.account,o=s.session,u=c.channels.subreddit.recommended.fetchingChannels,i&&o&&!u){e.next=3;break}return e.abrupt("return");case 3:return t(A()),e.next=6,Object(f.e)(p(),o);case 6:if(d=e.sent,!(l=d.ok&&d.body)||!l.length){e.next=17;break}return h=Object(O.a)(l),e.next=12,t(w(h));case 12:return b=Object(g.a)(l),t(T(b)),e.abrupt("return");case 17:t(N(d.error));case 18:case"end":return e.stop()}},e,void 0)})),function(t,n,r){return e.apply(this,arguments)};var e},M="SUBREDDIT_CHANNELS__FETCH_JOINED_FAILED",L="SUBREDDIT_CHANNELS__FETCH_JOINED",R="SUBREDDIT_CHANNELS__ADD_JOINED_COLLECTION",U=Object(o.a)(M),P=Object(o.a)(L),H=Object(o.a)(R),B=function e(){return t=s()(a.a.mark(function t(n,r){var c,s,i,o,u,d,l,h;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(c=r(),s=b.b.JOINED,Object(C.f)(c)){t.next=4;break}return t.abrupt("return");case 4:return n(P()),t.next=7,E.b.getExistingChannels(s,b.f.Super).catch(function(){return null});case 7:if(!(i=t.sent)){t.next=20;break}return o=i.channels,u=Object(O.c)(o),t.next=13,n(w(u));case 13:return d=r(),l=Object(g.c)(o,s),h=Object(x.t)(d,l),t.next=18,n(H(Object.assign({},l,{sortedKeys:h})));case 18:return i.hasMoreChannels&&n(e()),t.abrupt("return");case 20:n(U());case 21:case"end":return t.stop()}},t,void 0)})),function(e,n){return t.apply(this,arguments)};var t},F="SUBREDDIT_CHANNELS__FETCH_INVITED_FAILED",G="SUBREDDIT_CHANNELS__FETCH_INVITED",K="SUBREDDIT_CHANNELS__ADD_INVITED_COLLECTION",V=Object(o.a)(F),z=Object(o.a)(G),J=Object(o.a)(K),Q=function(){return e=s()(a.a.mark(function e(t,n){var r,c,s,i,o,u,d,l;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n(),c=r.user,s=c.account,i=c.session,o=r.channels.subreddit.invited.fetchingChannels,s&&i&&!o){e.next=3;break}return e.abrupt("return");case 3:return t(z()),e.next=6,E.b.getExistingChannels(b.b.INVITED,b.f.Super).catch(function(){return null});case 6:if(!(u=e.sent)){e.next=14;break}return d=Object(O.c)(u.channels),l=Object(g.c)(u.channels,b.b.INVITED),e.next=12,t(w(d));case 12:return t(J(l)),e.abrupt("return");case 14:t(V());case 15:case"end":return e.stop()}},e,void 0)})),function(t,n){return e.apply(this,arguments)};var e},q="SUBREDDIT_CHANNELS__UPDATE_INVITED",W=Object(o.a)(q),Z="SET__INVITED_SUBREDDIT_CHANNEL_TO_JOINED",Y=Object(o.a)(Z),X=function(e,t){return n=s()(a.a.mark(function n(r,c){var s,o,u,h,f,g,O,y,C;return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(s=c(),o=s.channels,u=e||o.selected.channelId){n.next=5;break}throw new p.a("joinedChannelId",u);case 5:if(!(h=Object(x.h)(s,u))||h.type!==v.a.Subreddit){n.next=15;break}return Object(_.a)(s),f=Object(x.t)(s,void 0,[h]),n.next=11,E.b.enterChannel(h,!0);case 11:g=n.sent,O=g.data,y=O.messageListData,C=O.moderators,y&&C?(r(Object(l.m)(y)),r(Object(d.b)(Object(j.a)(C))),r(Y({channelId:u,sortedKeys:f})),r(ee(u)),r(Object(i.b)(Object(m.c)(u,t)))):O===E.a.KICKED||O===E.a.BANNED?r(se(O,t)):r(Object(i.b)(Object(m.b)(u,b.a.VIEW_PRIVATE,t)));case 15:case"end":return n.stop()}},n,void 0)})),function(e,t){return n.apply(this,arguments)};var n},$=function(e,t){return n=s()(a.a.mark(function n(r,c,s){var o,u,d,l,h,v,j=s.apiContext;return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(o=c(),u=o.channels,d=e||u.selected.channelId,l=Object(C.c)(o),d){n.next=6;break}throw new p.a("requestChannelId",d);case 6:if(h=Object(x.h)(o,d),v=Object(x.t)(o,void 0,[h]),!h||!l){n.next=13;break}return n.next=11,Object(f.a)(j(),l,h.channelSendbirdUrl);case 11:n.sent.error?r(Object(i.b)(Object(m.b)(d,b.a.VIEW_PRIVATE,t))):(r(Y({channelId:d,sortedKeys:v})),r(ee(d)),r(Object(i.b)(Object(m.c)(d,t))));case 13:case"end":return n.stop()}},n,void 0)})),function(e,t,r){return n.apply(this,arguments)};var n},ee=function(e){return t=s()(a.a.mark(function t(n,r){var c,s,i;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:c=r(),(s=Object(x.h)(c,e))&&(i=[],s.members.map(function(e){return i.push(e.id)}),n(Object(h.w)(i)));case 3:case"end":return t.stop()}},t,void 0)})),function(e,n){return t.apply(this,arguments)};var t},te=function(e,t){return n=s()(a.a.mark(function n(r,c,i){var o,u,d,l,h=i.apiContext;return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(o=c(),u=o.user,d=u.account,l=u.session,!d||!l){n.next=4;break}return n.abrupt("return",new Promise(function(){var n=s()(a.a.mark(function n(r){return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(f.j)(h(),l,e,t).then(function(e){r(e)}).catch(function(e){r(e)});case 2:case"end":return n.stop()}},n,void 0)}));return function(e){return n.apply(this,arguments)}}()));case 4:case"end":return n.stop()}},n,void 0)})),function(e,t,r){return n.apply(this,arguments)};var n},ne="SUBREDDIT_CHANNEL__SET_KICKED_CHANNEL",re=Object(o.a)(ne),ae="SUBREDDIT_CHANNEL__SET_BANNED_CHANNEL",ce=Object(o.a)(ae),se=function(e,t){return n=s()(a.a.mark(function n(r,c){var s,o,u;return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:s=c(),o=Object(x.k)(s),(u=o&&o.channelId)&&(e===E.a.KICKED?r(re({channelId:u})):e===E.a.BANNED&&r(ce({channelId:u})),r(Object(i.b)(Object(m.b)(u,b.a.DENY,t))));case 4:case"end":return n.stop()}},n,void 0)})),function(e,t){return n.apply(this,arguments)};var n},ie=function(e,t){return n=s()(a.a.mark(function n(r,c){var s,o,d,l,h;return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:s=c(),o=e.channelId,d=Object(x.y)(s),l=Object(y.b)(s,o),h=Object(C.a)(s),l&&t===h&&(r(Object(u.L)(o,l.name)),o===d&&r(Object(i.b)(Object(m.b)(o,b.a.DENY,l.name))));case 7:case"end":return n.stop()}},n,void 0)})),function(e,t){return n.apply(this,arguments)};var n},oe=function(e){return t=s()(a.a.mark(function t(n,r){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e;case 2:if(!t.sent){t.next=6;break}E.b.lockChannel(),t.next=7;break;case 6:E.b.unlockChannel();case 7:case"end":return t.stop()}},t,void 0)})),function(e,n){return t.apply(this,arguments)};var t}},"./src/chat/actions/members.ts":function(e,t,n){"use strict";n.d(t,"b",function(){return b}),n.d(t,"e",function(){return m}),n.d(t,"c",function(){return v}),n.d(t,"a",function(){return g}),n.d(t,"d",function(){return y}),n.d(t,"f",function(){return E});var r=n("./node_modules/babel-runtime/regenerator/index.js"),a=n.n(r),c=n("./node_modules/babel-runtime/helpers/asyncToGenerator.js"),s=n.n(c),i=n("./src/lib/makeActionCreator/index.ts"),o=n("./src/chat/endpoints/users/index.ts"),u=n("./src/chat/helpers/errors.ts"),d=n("./src/chat/models/User/index.ts"),l=n("./src/chat/selectors/channels.ts"),h=n("./src/chat/singleton/SendbirdSDK.ts"),b="MEMBERS__FETCHING_MEMBERS",f=Object(i.a)(b),p=Object(i.a)("MEMBERS__FETCHING_MEMBERS_FAILED"),m=function(e){return t=s()(a.a.mark(function t(n,r){var c,s,i,o,d;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(c=r(),!(s=Object(l.y)(c))){t.next=15;break}if(n(f({channelId:s})),!e){t.next=10;break}return t.next=7,h.b.getChannelMembersStartsWith(e).catch(function(e){return Object(u.b)("Error getting channel members: "+e.message)});case 7:t.t0=t.sent,t.next=13;break;case 10:return t.next=12,h.b.getSubredditChannelMembers().catch(function(e){return Object(u.b)("Error getting subreddit channel members: "+e.message)});case 12:t.t0=t.sent;case 13:(i=t.t0)?(o=i.hasMoreMembers,d=i.members.map(function(e){return e.userId}),n(x(s,d,o))):n(p());case 15:case"end":return t.stop()}},t,void 0)})),function(e,n){return t.apply(this,arguments)};var t},v="MEMBERS__FETCHING_MEMBERS_COMPLETED",j=Object(i.a)(v),g="MEMBERS__ADD_CHANNEL_MEMBERS",O=Object(i.a)(g),x=function(e,t,n){return r=s()(a.a.mark(function r(c,s,i){var u,l,h=i.apiContext;return a.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(o.d)(h(),t);case 2:(u=r.sent).ok&&(l=Object(d.a)(u.body),c(O({channelId:e,members:l}))),c(j({channelId:e,hasMoreMembers:n}));case 5:case"end":return r.stop()}},r,void 0)})),function(e,t,n){return r.apply(this,arguments)};var r},y="MEMBERS__REMOVE_CHANNEL_MEMBERS",C=Object(i.a)(y),E=function(){return e=s()(a.a.mark(function e(t,n){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t(C());case 1:case"end":return e.stop()}},e,void 0)})),function(t,n){return e.apply(this,arguments)};var e}},"./src/chat/actions/message/inboxScroller.ts":function(e,t,n){"use strict";n.d(t,"c",function(){return f}),n.d(t,"a",function(){return p}),n.d(t,"b",function(){return v});var r=n("./node_modules/babel-runtime/regenerator/index.js"),a=n.n(r),c=n("./node_modules/babel-runtime/helpers/asyncToGenerator.js"),s=n.n(c),i=n("./node_modules/lodash/sortBy.js"),o=n.n(i),u=n("./src/lib/makeActionCreator/index.ts"),d=n("./src/chat/constants/batchSizes.ts"),l=n("./src/chat/selectors/channels.ts"),h=n("./src/chat/singleton/SendbirdSDK.ts"),b=function(e){return o()(e,"createAt").splice(0,e.length-d.a.Messages).map(function(e){return e.messageId})},f=function(e){return t=s()(a.a.mark(function t(n,r){var c,s;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:c=Object(l.y)(r()),s=b(e),c&&(n(m({messageIdList:s})),n(j({channelId:c})),h.c.resetChannelMessageListQuery());case 3:case"end":return t.stop()}},t,void 0)})),function(e,n){return t.apply(this,arguments)};var t},p="MESSAGE__REMOVE_MESSAGES_FROM_CURRENT_CHANNEL",m=Object(u.a)(p),v="CHANNEL__RESET_HAS_MORE_MESSAGES",j=Object(u.a)(v)},"./src/chat/actions/message/index.ts":function(e,t,n){"use strict";var r,a=n("./node_modules/babel-runtime/helpers/toConsumableArray.js"),c=n.n(a),s=n("./node_modules/babel-runtime/helpers/defineProperty.js"),i=n.n(s),o=n("./node_modules/babel-runtime/regenerator/index.js"),u=n.n(o),d=n("./node_modules/babel-runtime/helpers/asyncToGenerator.js"),l=n.n(d),h=n("./node_modules/lodash/flatten.js"),b=n.n(h),f=n("./node_modules/lodash/sortBy.js"),p=n.n(f),m=n("./node_modules/react-router-redux/es/index.js"),v=n("./src/lib/linkMatchers/index.ts"),j=n("./src/lib/makeActionCreator/index.ts"),g=n("./src/chat/actions/channel.ts"),O=n("./src/chat/actions/tracking.ts"),x=n("./src/chat/constants/messages.ts"),y=n("./node_modules/lodash/isEmpty.js"),C=n.n(y),E=n("./src/config.ts"),_=n("./src/lib/constants/index.ts"),I=n("./src/lib/makeRequest/index.ts"),w=E.a.embedlyApiKey,k=function(e){return e.filter(function(e){return!C()(e)}).map(function(e){return{name:e.provider_name,title:e.title,description:e.description,faviconUrl:e.favicon_url,imageUrl:(t=e.images,t&&t.length>0&&t[0]?t[0].url:void 0),url:e.url};var t})},S=(r=l()(u.a.mark(function e(t){var n=t.chars,r=t.scheme,a=t.url;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(I.a)({endpoint:"https://api.embed.ly/1/extract",method:_.Ca.GET,data:{key:w,url:a,scheme:r,chars:n}}).then(function(e){return e.ok&&Array.isArray(e.body)?e.body:[e.body]}).then(k));case 1:case"end":return e.stop()}},e,void 0)})),function(e){return r.apply(this,arguments)}),N=n("./src/chat/endpoints/users/index.ts"),A=n("./src/chat/helpers/linkParser/index.ts"),T=n("./src/chat/models/Message/index.ts"),D=n("./src/chat/models/Message/adapter.ts"),M=n("./src/chat/models/Message/report.ts"),L=n("./src/chat/selectors/app.ts"),R=n("./src/chat/selectors/channels.ts"),U=n("./src/chat/selectors/contacts.ts"),P=n("./src/chat/selectors/messages.ts"),H=n("./src/chat/singleton/SendbirdSDK.ts");n.d(t,"v",function(){return G}),n.d(t,"w",function(){return K}),n.d(t,"a",function(){return V}),n.d(t,"c",function(){return q}),n.d(t,"n",function(){return Z}),n.d(t,"x",function(){return Y}),n.d(t,"l",function(){return X}),n.d(t,"j",function(){return ee}),n.d(t,"u",function(){return te}),n.d(t,"h",function(){return re}),n.d(t,"s",function(){return ae}),n.d(t,"r",function(){return ce}),n.d(t,"b",function(){return se}),n.d(t,"m",function(){return oe}),n.d(t,"k",function(){return ue}),n.d(t,"y",function(){return de}),n.d(t,"d",function(){return le}),n.d(t,"p",function(){return he}),n.d(t,"o",function(){return be}),n.d(t,"i",function(){return fe}),n.d(t,"t",function(){return me}),n.d(t,"g",function(){return ve}),n.d(t,"e",function(){return je}),n.d(t,"f",function(){return ge}),n.d(t,"q",function(){return Ce});var B,F,G=function(e,t){return n=l()(u.a.mark(function n(r,a,c){var s,i=c.apiContext;return u.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:(s=Object(M.b)(e,t))&&Object(N.b)(i(),s).then(function(){return r(Object(m.a)())});case 2:case"end":return n.stop()}},n,void 0)})),function(e,t,r){return n.apply(this,arguments)};var n},K=function(e,t,n){return r=l()(u.a.mark(function r(a,c,s){var i,o,d,l,h,b,f,v,j=s.apiContext;return u.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:i=20,o=p()(n,["createdAt"]),d=o.findIndex(function(t){return t.messageId===e.messageId}),l=Math.max(d-i,0),h=d+i,b=o.slice(l,h),f=Object(M.a)(b,t),(v=f.length&&Object(M.c)(f,e))&&Object(N.b)(j(),v,f).then(function(){return a(Object(m.a)())});case 9:case"end":return r.stop()}},r,void 0)})),function(e,t,n){return r.apply(this,arguments)};var r},V="MESSAGE__ADD_ONE",z=Object(j.a)(V),J=function(e,t){return n=l()(u.a.mark(function n(r,a){var c,s,o;return u.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return c=a(),s=Object(D.b)(t),n.next=4,Q(e,c,r);case 4:o=n.sent,H.b.addMessage(e,t,o).then(function(e){var t=Object(R.B)(c,"channelId"),n=i()({},e.messageId,e);t&&(r(z({message:n,channelId:t,clientMessageId:s})),r(Object(O.v)(e.messageId)))}).catch(function(){s&&(r(Object(O.z)(s)),r($({clientMessageId:s,toggle:!0})))});case 6:case"end":return n.stop()}},n,void 0)})),function(e,t){return n.apply(this,arguments)};var n},Q=(B=l()(u.a.mark(function e(t,n,r){var a,s,i,o,d;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((a=Object(v.b)(t)).length){e.next=3;break}return e.abrupt("return",[]);case 3:if(s=[],i=a.map(function(e){var t=Object(U.g)(n,e);return t||s.push(e),t&&t.id}).filter(function(e){return e}),e.t1=s.length,!e.t1){e.next=12;break}return e.t2=b.a,e.next=10,Promise.all(s.slice(0,3).map(function(e){return H.b.searchMemberByName(e,!0)}));case 10:e.t3=e.sent,e.t1=(0,e.t2)(e.t3);case 12:if(e.t0=e.t1,e.t0){e.next=15;break}e.t0=[];case 15:return o=e.t0,d=o.map(function(e){return e&&e.id}).filter(function(e){return e}),e.abrupt("return",[].concat(c()(i),c()(d)));case 18:case"end":return e.stop()}},e,void 0)})),function(e,t,n){return B.apply(this,arguments)}),q="MESSAGE__ADD_PENDING_ONE",W=Object(j.a)(q),Z=function(e,t){return n=l()(u.a.mark(function n(r,a){var c,s,i,o;return u.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(c=a(),s=Object(A.b)(e),!(s&&1===e.split(" ").length)){n.next=6;break}return ne(r,c,e),n.abrupt("return");case 6:(i=Object(T.a)(c,e,t))&&(o=t===x.b.TEXT?e:"",r(W(i)),r(J(o,i.data)));case 8:case"end":return n.stop()}},n,void 0)})),function(e,t){return n.apply(this,arguments)};var n},Y=function(e){return t=l()(u.a.mark(function t(n,r){var a,c;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a=r(),(c=Object(P.h)(a,e))&&(n($({clientMessageId:e,toggle:!1})),n(J(c.messageData.value,c.data)));case 3:case"end":return t.stop()}},t,void 0)})),function(e,n){return t.apply(this,arguments)};var t},X="MESSAGE__TOGGLE_PENDING_MESSAGE_ERROR",$=Object(j.a)(X),ee="MESSAGE__REMOVE_PENDING_ONE",te=Object(j.a)(ee),ne=(F=l()(u.a.mark(function e(t,n,r){var a,c,s,i,o,d,l;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=v.c.match(r).map(function(e){return e.url}).join(""),c=x.b.EMBED,s={url:r},!(i=Object(T.a)(n,JSON.stringify(s),c))){e.next=10;break}return t(W(i)),e.next=8,S({url:a,scheme:"https",chars:140});case 8:(o=e.sent)&&(s=Object.assign({},s,{embed:o[0]}),d=JSON.stringify(s),l=JSON.stringify(Object(D.a)(d,c,i.clientMessageId)),t(J(s.url,l)));case 10:case"end":return e.stop()}},e,void 0)})),function(e,t,n){return F.apply(this,arguments)}),re="MESSAGE__RECEIVE_ADD_ONE",ae=Object(j.a)(re),ce=function(e){return t=l()(u.a.mark(function t(n,r,a){var c,s;a.apiContext;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:c=r(),s=Object(R.y)(c)===e.channelId,Object(L.c)(c)&&s&&n(Object(g.K)(e.channelId)),n(ae(i()({},e.messageId,e)));case 5:case"end":return t.stop()}},t,void 0)})),function(e,n,r){return t.apply(this,arguments)};var t},se="MESSAGE__ADD_LIST",ie=Object(j.a)(se),oe=function(e){return t=l()(u.a.mark(function t(n,r,a){var c;a.apiContext;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:c=Object(R.B)(r(),"channelId"),n(ie(Object.assign({channelId:c},e)));case 2:case"end":return t.stop()}},t,void 0)})),function(e,n,r){return t.apply(this,arguments)};var t},ue="MESSAGE__SET_MESSAGE_LIST_IS_LOADED",de=Object(j.a)(ue),le="MESSAGE__DELETE_ONE",he=Object(j.a)(le),be=function(e){return t=l()(u.a.mark(function t(n,r){var a,c;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a=r(),(c=Object(P.d)(a,e))&&H.b.deleteMessage(c).then(function(){return n(he(c.messageId))}).then(function(){return n(Object(m.a)())});case 3:case"end":return t.stop()}},t,void 0)})),function(e,n){return t.apply(this,arguments)};var t},fe="MESSAGE__RECEIVE_DELETE_ONE",pe=Object(j.a)(fe),me=function(e){return t=l()(u.a.mark(function t(n,r){return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n(pe(e));case 1:case"end":return t.stop()}},t,void 0)})),function(e,n){return t.apply(this,arguments)};var t},ve="MESSAGE__GET_PREVIOUS_MESSAGES_START",je="MESSAGE__GET_PREVIOUS_MESSAGES_END",ge="MESSAGE__GET_PREVIOUS_MESSAGES_ERROR",Oe=Object(j.a)(ve),xe=Object(j.a)(je),ye=Object(j.a)(ge),Ce=function(e){return t=l()(u.a.mark(function t(n,r){var a;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=Object(R.B)(r(),"channelId"),n(Oe(a)),n(Object(O.B)()),!a){t.next=6;break}return t.next=6,H.b.getPreviousMessages(x.c.USER,e).then(function(e){return n(xe(Object.assign({channelId:a},e)))}).catch(function(){return n(ye(a))});case 6:case"end":return t.stop()}},t,void 0)})),function(e,n){return t.apply(this,arguments)};var t}},"./src/chat/actions/message/unreadCount.ts":function(e,t,n){"use strict";n.d(t,"a",function(){return v}),n.d(t,"b",function(){return x});var r,a=n("./node_modules/babel-runtime/regenerator/index.js"),c=n.n(a),s=n("./node_modules/babel-runtime/helpers/asyncToGenerator.js"),i=n.n(s),o=n("./node_modules/lodash/debounce.js"),u=n.n(o),d=n("./node_modules/lodash/isEqual.js"),l=n.n(d),h=n("./src/lib/constants/index.ts"),b=n("./src/lib/makeActionCreator/index.ts"),f=n("./src/chat/endpoints/sendbird/index.ts"),p=n("./src/chat/helpers/errors.ts"),m=n("./src/chat/selectors/user.ts"),v="MESSAGE__SET_UNREAD_COUNT",j=Object(b.a)(v),g=function(e){return{basicChannelCount:e&&Number(e.unread_count)||0,subredditChannelCount:e&&Number(e.subreddit_unread_count)?1:0}},O=(r=i()(c.a.mark(function e(t,n){var r,a;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=Object(m.c)(t))){e.next=6;break}return e.next=4,Object(f.h)(n(),r).catch(function(e){return Object(p.b)("Error getting proxy unread count: "+e)});case 4:return a=e.sent,e.abrupt("return",g(a&&a.body));case 6:case"end":return e.stop()}},e,void 0)})),function(e,t){return r.apply(this,arguments)}),x=u()(function(e,t){return n=i()(c.a.mark(function n(r,a,s){var i,o,u,d=s.apiContext;return c.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(i=a(),o={basicChannelCount:e||0,subredditChannelCount:t||0},"number"==typeof e||"number"==typeof t){n.next=8;break}return n.next=6,O(i,d);case 6:u=n.sent,o=u||o;case 8:l()(i.messages.unread,o)||r(j(o));case 9:case"end":return n.stop()}},n,void 0)})),function(e,t,r){return n.apply(this,arguments)};var n},h.nb,{leading:!0})},"./src/chat/actions/page.ts":function(e,t,n){"use strict";n.d(t,"b",function(){return b}),n.d(t,"a",function(){return f}),n.d(t,"c",function(){return p}),n.d(t,"d",function(){return m});var r=n("./node_modules/babel-runtime/regenerator/index.js"),a=n.n(r),c=n("./node_modules/babel-runtime/helpers/asyncToGenerator.js"),s=n.n(c),i=n("./src/chat/actions/channel.ts"),o=n("./src/chat/actions/sidebar.ts"),u=n("./src/chat/actions/tracking.ts"),d=n("./src/chat/actions/user.ts"),l=n("./src/chat/selectors/platform.ts");function h(e){var t=this;return function(n){return r=s()(a.a.mark(function r(c,s,i){var u;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return u=Object(l.f)(s()),c(Object(o.d)(u)),t.next=4,Object(d.l)()(c,s,i);case 4:return t.next=6,Object(d.p)()(c,s,i);case 6:return t.next=8,e(n)(c,s,i);case 8:case"end":return t.stop()}},r,t)})),function(e,t,n){return r.apply(this,arguments)};var r}}var b=h(function(e){return t=s()(a.a.mark(function e(t,n,r){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e,void 0)})),function(e,n,r){return t.apply(this,arguments)};var t}),f=h(function(e){return t=s()(a.a.mark(function e(t,n,r){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e,void 0)})),function(e,n,r){return t.apply(this,arguments)};var t}),p=h(function(e){return t=s()(a.a.mark(function e(t,n,r){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e,void 0)})),function(e,n,r){return t.apply(this,arguments)};var t}),m=h(function(e){return t=s()(a.a.mark(function e(t,n,r){var c,s,o;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(c=n(),s=c.platform.currentPage,!(o=s&&s.urlParams.userIds.split(","))){e.next=7;break}return t(Object(u.i)(o)),t(Object(i.B)(o,name)),e.abrupt("return");case 7:case"end":return e.stop()}},e,void 0)})),function(e,n,r){return t.apply(this,arguments)};var t})},"./src/chat/actions/platform.ts":function(e,t,n){"use strict";n.d(t,"a",function(){return h}),n.d(t,"b",function(){return b}),n.d(t,"c",function(){return f}),n.d(t,"d",function(){return p}),n.d(t,"e",function(){return m});var r=n("./node_modules/babel-runtime/regenerator/index.js"),a=n.n(r),c=n("./node_modules/babel-runtime/helpers/asyncToGenerator.js"),s=n.n(c),i=(n("./src/config.ts"),n("./src/lib/areUrlsEqual/index.ts")),o=(n("./src/lib/constants/index.ts"),n("./src/lib/logs/timing.js")),u=n("./src/lib/makeActionCreator/index.ts"),d=(n("./src/chat/strings/index.ts"),n("./src/chat/actions/channel.ts")),l=n("./src/chat/actions/sendbird/index.ts"),h="PLATFORM__HISTORY_LOCATION_SET",b="PLATFORM__INITIAL_REFERRER_SET",f="PLATFORM__PAGE_META_SET",p=function(e,t,n){return r=s()(a.a.mark(function r(c,s,u){var h,b,f,p,v,j;return a.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(h=Date.now(),b=s(),f=b.platform.currentPage,n){r.next=5;break}return r.abrupt("return");case 5:if(c(m({action:t,location:e,routeMatch:n})),!f||!Object(i.a)(f.url,e)){r.next=8;break}return r.abrupt("return");case 8:if(!n){r.next=14;break}return p=n.match,r.next=12,n.route.action(p)(c,s,u);case 12:(v=n.route.meta)&&(j=Date.now()-h,Object(o.b)({duration:j,meta:v}));case 14:n.match.params.subredditName&&c(Object(l.l)()),n.match.params.channelId&&c(Object(d.O)());case 17:case"end":return r.stop()}},r,void 0)})),function(e,t,n){return r.apply(this,arguments)};var r},m=Object(u.a)(h);Object(u.a)(b),Object(u.a)(f),Object(u.a)("PLATFORM__MODAL_TOGGLED")},"./src/chat/actions/sendbird/config.ts":function(e,t,n){"use strict";n.d(t,"c",function(){return u}),n.d(t,"b",function(){return l}),n.d(t,"a",function(){return b}),n.d(t,"d",function(){return p});var r=n("./node_modules/babel-runtime/regenerator/index.js"),a=n.n(r),c=n("./node_modules/babel-runtime/helpers/asyncToGenerator.js"),s=n.n(c),i=n("./src/lib/makeActionCreator/index.ts"),o=n("./src/chat/endpoints/sendbird/index.ts"),u="SENDBIRD_CONFIG__PROXY",d=Object(i.a)(u),l="SENDBIRD_CONFIG__GLOBAL_SETTINGS",h=Object(i.a)(l),b="SENDBIRD_CONFIG__USER_EXPERIMENTS",f=Object(i.a)(b),p=function(){return e=s()(a.a.mark(function e(t,n,r){var c,s=r.apiContext;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(o.d)(s());case 2:if(!(c=e.sent).ok){e.next=6;break}return e.next=6,Promise.all([t(d({host:c.body.proxy_host})),t(h({maxMessageLength:parseInt(c.body.max_message_length,10)})),t(f({userSubredditChatEnabled:c.body.user_subreddit_chat_enabled}))]);case 6:case"end":return e.stop()}},e,void 0)})),function(t,n,r){return e.apply(this,arguments)};var e}},"./src/chat/actions/sendbird/index.ts":function(e,t,n){"use strict";n.d(t,"c",function(){return m}),n.d(t,"a",function(){return v}),n.d(t,"j",function(){return j}),n.d(t,"h",function(){return g}),n.d(t,"m",function(){return x}),n.d(t,"b",function(){return y}),n.d(t,"i",function(){return C}),n.d(t,"g",function(){return E}),n.d(t,"n",function(){return w}),n.d(t,"d",function(){return k}),n.d(t,"e",function(){return S}),n.d(t,"k",function(){return T}),n.d(t,"f",function(){return D}),n.d(t,"l",function(){return L});var r=n("./node_modules/babel-runtime/regenerator/index.js"),a=n.n(r),c=n("./node_modules/babel-runtime/helpers/asyncToGenerator.js"),s=n.n(c),i=n("./src/lib/cache/index.ts"),o=n("./src/lib/constants/index.ts"),u=n("./src/lib/makeActionCreator/index.ts"),d=n("./src/chat/actions/tracking.ts"),l=n("./src/chat/endpoints/accounts/index.ts"),h=n("./src/chat/endpoints/sendbird/index.ts"),b=n("./src/chat/models/Contact/index.ts"),f=n("./src/chat/selectors/contacts.ts"),p=n("./src/chat/selectors/experiments.ts"),m="SENDBIRD__DEACTIVATE_SENDBIRD_SESSION",v="SENDBIRD__ACTIVATE_SENDBIRD_SESSION",j=Object(u.a)(m),g=(Object(u.a)(v),"SENDBIRD__SET_SENDBIRD_SESSION"),O=Object(u.a)(g),x=function(){var e,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return e=s()(a.a.mark(function e(n,r,c){var s,u,d,l,b,f,p,m,v,g,x,y=c.apiContext;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s=r(),u=s.user,d=u.account,!(l=u.session)||!d){e.next=17;break}if(b=void 0,f=Object(i.c)(o.o.CHAT,"session",d.id),!(p=Object(i.b)(f))||!p.token){e.next=10;break}b=p,e.next=14;break;case 10:return e.next=12,Object(h.g)(y(),l);case 12:(m=e.sent).ok&&(v=m.body,g=v.valid_until,x=v.sb_access_token,b={expires:g,token:x},Object(i.d)(f,b,new Date(g)));case 14:if(!b){e.next=17;break}return n(O(Object.assign({},b,{active:t}))),e.abrupt("return");case 17:n(j());case 18:case"end":return e.stop()}},e,void 0)})),function(t,n,r){return e.apply(this,arguments)}},y="SENDBIRD__ADD_MEMBERS_TO_KNOWN_CONTACTS",C=Object(u.a)(y),E="SENDBIRD__SET_REDDIT_CONTACT_LIST",_=6*o.H,I=Object(u.a)(E),w=function(){return e=s()(a.a.mark(function e(t,n,r){var c,s,u,d,l,f,p,m,v,j=r.apiContext;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(c=n(),s=c.contacts.models,u=Object(i.c)(o.o.CHAT,"contacts",c.user.account.id),!(d=Object(i.b)(u))||d.version!==b.a){e.next=7;break}return t(I(d.data)),e.abrupt("return");case 7:if(l=n().user.session){e.next=10;break}return e.abrupt("return");case 10:return e.next=12,Object(h.f)(j(),l,25);case 12:f=e.sent,p=Object(b.c)(f.body),m=p.map(function(e){return s[e.id]?s[e.id]:e}),v={version:b.a,data:m},Object(i.d)(u,v,_),t(I(m));case 18:case"end":return e.stop()}},e,void 0)})),function(t,n,r){return e.apply(this,arguments)};var e},k="SENDBIRD__IDENTIFY_CONTACT_BEGIN",S="SENDBIRD__IDENTIFY_CONTACT_END",N=Object(u.a)(k),A=Object(u.a)(S),T=function(e){return t=s()(a.a.mark(function t(n,r,c){var s=c.apiContext;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:Object(f.c)(r(),e.username)||(n(N({username:e.username})),Object(l.b)(s(),e.username).then(function(t){if(t.ok){var r=Object(b.d)(t.body.data);if(r)return n(A({username:e.username,contact:r,valid:!0}))}else n(Object(d.y)(e.username));n(A({username:e.username,valid:!1}))}));case 2:case"end":return t.stop()}},t,void 0)})),function(e,n,r){return t.apply(this,arguments)};var t},D="SENDBIRD__OPT_IN",M=Object(u.a)(D),L=function(){return e=s()(a.a.mark(function e(t,n,r){var c=r.apiContext;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!Object(p.b)(n())){e.next=2;break}return e.abrupt("return");case 2:t(M({userSubredditChatEnabled:!0})),Object(h.k)(c());case 4:case"end":return e.stop()}},e,void 0)})),function(t,n,r){return e.apply(this,arguments)};var e}},"./src/chat/actions/sendbird/sdk.ts":function(e,t,n){"use strict";n.d(t,"c",function(){return j}),n.d(t,"a",function(){return g}),n.d(t,"b",function(){return O}),n.d(t,"d",function(){return x}),n.d(t,"e",function(){return E}),n.d(t,"f",function(){return I}),n.d(t,"h",function(){return w}),n.d(t,"g",function(){return k});var r=n("./node_modules/babel-runtime/regenerator/index.js"),a=n.n(r),c=n("./node_modules/babel-runtime/helpers/asyncToGenerator.js"),s=n.n(c),i=n("./src/lib/makeActionCreator/index.ts"),o=n("./src/chat/actions/channel.ts"),u=n("./src/chat/actions/message/index.ts"),d=n("./src/chat/actions/message/unreadCount.ts"),l=n("./src/chat/actions/sendbird/index.ts"),h=n("./src/chat/actions/toast.ts"),b=n("./src/chat/constants/sendbird.ts"),f=n("./src/chat/constants/toast.ts"),p=n("./src/chat/selectors/sendbird.ts"),m=n("./src/chat/selectors/user.ts"),v=n("./src/chat/singleton/SendbirdSDK.ts"),j="SENDBIRD_SDK__CONNECT_FAIL",g="SENDBIRD_SDK__CONNECT_SUCCESS",O="SENDBIRD_SDK__DISCONNECT",x="SENDBIRD_SDK__UPDATE_CONNECTION_STATUS",y=Object(i.a)(j),C=Object(i.a)(g),E=function(e){return t=s()(a.a.mark(function t(n,r){var c,s,i,l,j,g,O,x,E;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:c=r(),s=Object(p.d)(c),i=Object(p.c)(c),l=Object(p.a)(c),j=Object(m.d)(c),g={connectionStatus:b.b.Closed},O=3,j&&l&&i&&(x=j.id,E=j.name,s&&n(Object(h.e)({toast:f.a.ConnectionPending})),v.b.connect(l,e||i.token,x,E,n).then(function(e){e.error?(n(y(e.error)),n(w(Object.assign({},g))),n(Object(h.e)({toast:f.a.ConnectionClosed}))):(n(C()),s&&(n(Object(u.q)(!0)),n(Object(h.e)({toast:f.a.ConnectionOpen})),n(Object(h.c)(O))),n(Object(d.b)()),n(Object(o.F)()))}));case 8:case"end":return t.stop()}},t,void 0)})),function(e,n){return t.apply(this,arguments)};var t},_=Object(i.a)(O),I=function(){return e=s()(a.a.mark(function e(t){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:v.b.disconnect().then(function(){t(_()),t(Object(l.j)())});case 1:case"end":return e.stop()}},e,void 0)})),function(t){return e.apply(this,arguments)};var e},w=Object(i.a)(x),k=function(){return v.b.reconnect()}},"./src/chat/actions/session.ts":function(e,t,n){"use strict";var r=n("./node_modules/babel-runtime/regenerator/index.js"),a=n.n(r),c=n("./node_modules/babel-runtime/helpers/asyncToGenerator.js"),s=n.n(c),i=n("./src/lib/makeActionCreator/index.ts"),o=n("./src/lib/constants/index.ts"),u=n("./src/lib/makeApiRequest/index.ts"),d=function(e,t){return Object(u.b)(e,{data:t,endpoint:"/refreshproxy",method:o.Ca.POST})};n.d(t,"a",function(){return l}),n.d(t,"b",function(){return h}),n.d(t,"c",function(){return b}),n.d(t,"d",function(){return m});var l="SESSION__USER_AUTHENTICATED",h="SESSION__USER_LOGGED_OUT",b="SESSION__USER_REAUTHENTICATED",f=(Object(i.a)(l),Object(i.a)(b)),p=Object(i.a)(h),m=function(){return e=s()(a.a.mark(function e(t,n,r){var c,s,i,o=r.apiContext;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(c=n().user.session)){e.next=11;break}return e.next=4,d(o(),c);case 4:if(!(s=e.sent).ok){e.next=11;break}if(!(i=s.body).unsafeLoggedOut){e.next=10;break}return c.unsafeLoggedOut||t(p()),e.abrupt("return");case 10:t(f(i));case 11:case"end":return e.stop()}},e,void 0)})),function(t,n,r){return e.apply(this,arguments)};var e}},"./src/chat/actions/sidebar.ts":function(e,t,n){"use strict";n.d(t,"b",function(){return f}),n.d(t,"d",function(){return m}),n.d(t,"a",function(){return v}),n.d(t,"e",function(){return j}),n.d(t,"c",function(){return O});var r=n("./node_modules/babel-runtime/regenerator/index.js"),a=n.n(r),c=n("./node_modules/babel-runtime/helpers/asyncToGenerator.js"),s=n.n(c),i=n("./node_modules/react-router-redux/es/index.js"),o=n("./src/lib/makeActionCreator/index.ts"),u=n("./src/chat/constants/sidebar.ts"),d=n("./src/chat/helpers/urls/index.ts"),l=n("./src/chat/selectors/channels.ts"),h=n("./src/chat/selectors/channels/next.tsx"),b=n("./src/chat/selectors/subreddit.ts"),f="SIDEBAR__SET_SIDEBAR_ACTIVE_INDEX",p=Object(o.a)(f),m=function(e){return t=s()(a.a.mark(function t(n,r){var c;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:c=r(),e!==c.sidebarTabs.activeIndex&&n(p({activeIndex:e}));case 2:case"end":return t.stop()}},t,void 0)})),function(e,n){return t.apply(this,arguments)};var t},v="SIDEBAR__SET_LAST_CHANNEL_ID_PER_TAB",j=Object(o.a)(v),g=function(e,t){switch(t){case u.a.SubredditChannels:return Object(h.a)(e,u.a.SubredditChannels);case u.a.DirectChannels:return Object(h.a)(e,u.a.DirectChannels)}},O=function(e){return t=s()(a.a.mark(function t(n,r){var c,s,o,u,h,f,p;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(c=r(),s=c.sidebarTabs.lastChannelIdPerTab,o=s[e]||g(c,e),n(m(e)),!o){t.next=12;break}if(!(u=Object(l.h)(c,o))){t.next=12;break}return h=Object(b.b)(c,o),f=h&&h.name,p=Object(d.e)(u,f),n(Object(i.b)(p)),t.abrupt("return");case 12:case"end":return t.stop()}},t,void 0)})),function(e,n){return t.apply(this,arguments)};var t}},"./src/chat/actions/toast.ts":function(e,t,n){"use strict";n.d(t,"a",function(){return u}),n.d(t,"d",function(){return d}),n.d(t,"b",function(){return l}),n.d(t,"e",function(){return h}),n.d(t,"c",function(){return b});var r=n("./node_modules/babel-runtime/regenerator/index.js"),a=n.n(r),c=n("./node_modules/babel-runtime/helpers/asyncToGenerator.js"),s=n.n(c),i=n("./src/lib/makeActionCreator/index.ts"),o=n("./src/lib/constants/index.ts"),u="TOAST__RESET_TOAST",d=Object(i.a)(u),l="TOAST__UPDATE_TOAST",h=Object(i.a)(l),b=function(e){return t=s()(a.a.mark(function t(n,r){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:setTimeout(function(){return n(d())},e*o.nb);case 1:case"end":return t.stop()}},t,void 0)})),function(e,n){return t.apply(this,arguments)};var t}},"./src/chat/actions/tooltip.ts":function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n("./src/lib/makeActionCreator/index.ts"),a=Object(r.a)("TOOLTIP__DROPDOWN_TOGGLED")},"./src/chat/actions/tracking.ts":function(e,t,n){"use strict";var r=n("./node_modules/babel-runtime/regenerator/index.js"),a=n.n(r),c=n("./node_modules/babel-runtime/helpers/asyncToGenerator.js"),s=n.n(c),i=n("./src/telemetry/models/Event.ts"),o=n("./src/chat/constants/channels.ts"),u=n("./src/chat/selectors/channels.ts"),d=n("./src/chat/selectors/contacts.ts"),l=n("./src/chat/selectors/platform.ts"),h=n("./src/chat/selectors/sidebar.ts"),b=n("./src/chat/tracking/fields/chat.ts"),f=n("./src/chat/tracking/fields/common.ts"),p=n("./src/chat/tracking/fields/subreddit.ts"),m=n("./src/chat/tracking/sendEvent.ts"),v=function(e){Object(m.a)(Object.assign({noun:"snoomoji",source:i.b.ChatKeyboard,action:i.a.View,chat:Object.assign({},Object(b.y)(e),Object(b.o)(e),Object(b.g)(e)),subreddit:Object.assign({},Object(p.a)(e),Object(p.b)(e))},Object(f.a)(e)))},j=function(e,t){return Object(m.a)(Object.assign({noun:"chat_member_block",source:i.b.ChatSettings,action:i.a.Submit,chat:Object.assign({},Object(b.y)(e),Object(b.o)(e),Object(b.g)(e),Object(b.b)(t)),subreddit:Object.assign({},Object(p.a)(e),Object(p.b)(e))},Object(f.a)(e)))},g=function(e){Object(m.a)(Object.assign({noun:"view_member",source:i.b.ChatSettings,action:i.a.Click,chat:Object.assign({},Object(b.y)(e),Object(b.o)(e),Object(b.t)(e),Object(b.g)(e))},Object(f.a)(e)))},O=n("./src/chat/tracking/events/chatView.ts"),x=n("./src/chat/tracking/events/contactsList.ts"),y=n("./src/chat/tracking/events/invitationInbox.ts"),C=n("./src/chat/tracking/events/messagesInbox.ts"),E=n("./src/chat/selectors/telemetry.ts"),_=function(e,t,n){Object(m.a)(Object.assign({noun:"user",source:n,action:i.a.Kick,chat:Object.assign({},Object(b.y)(e),Object(b.o)(e),Object(b.g)(e),Object(b.r)(e),Object(b.m)(e),Object(b.v)(e)),subreddit:Object.assign({},Object(p.a)(e),Object(p.b)(e))},Object(f.a)(e),{actionInfo:Object.assign({settingValue:t},Object(E.a)(e))}))},I=function(e,t){Object(m.a)(Object.assign({noun:"ban_user",source:t,action:i.a.Click,chat:Object.assign({},Object(b.y)(e),Object(b.o)(e),Object(b.g)(e),Object(b.r)(e),Object(b.m)(e),Object(b.v)(e)),subreddit:Object.assign({},Object(p.a)(e),Object(p.b)(e))},Object(f.a)(e)))},w=function(e,t){Object(m.a)(Object.assign({noun:"create_chat",source:i.b.UserProfile,action:i.a.Click,chat:Object.assign({},Object(b.C)(e,t),Object(b.A)(e,t),Object(b.B)(e,t)),user:Object.assign({},function(e){return{id:e.user.account.id}}(e))},Object(f.a)(e)))};n.d(t,"g",function(){return S}),n.d(t,"v",function(){return N}),n.d(t,"z",function(){return A}),n.d(t,"w",function(){return T}),n.d(t,"B",function(){return D}),n.d(t,"A",function(){return M}),n.d(t,"t",function(){return L}),n.d(t,"p",function(){return R}),n.d(t,"n",function(){return U}),n.d(t,"u",function(){return P}),n.d(t,"f",function(){return H}),n.d(t,"y",function(){return B}),n.d(t,"x",function(){return F}),n.d(t,"h",function(){return G}),n.d(t,"d",function(){return K}),n.d(t,"b",function(){return V}),n.d(t,"k",function(){return z}),n.d(t,"l",function(){return J}),n.d(t,"m",function(){return Q}),n.d(t,"j",function(){return q}),n.d(t,"e",function(){return W}),n.d(t,"i",function(){return Z}),n.d(t,"c",function(){return Y}),n.d(t,"o",function(){return X}),n.d(t,"D",function(){return $}),n.d(t,"r",function(){return ee}),n.d(t,"C",function(){return te}),n.d(t,"q",function(){return ne}),n.d(t,"s",function(){return ae}),n.d(t,"a",function(){return ce});var k=void 0,S=function(){return e=s()(a.a.mark(function e(t,n){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:Object(C.b)(n());case 1:case"end":return e.stop()}},e,k)})),function(t,n){return e.apply(this,arguments)};var e},N=function(e){return t=s()(a.a.mark(function t(n,r){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:Object(O.a)(r(),e);case 1:case"end":return t.stop()}},t,k)})),function(e,n){return t.apply(this,arguments)};var t},A=function(e){return t=s()(a.a.mark(function t(n,r){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:Object(O.d)(r(),e);case 1:case"end":return t.stop()}},t,k)})),function(e,n){return t.apply(this,arguments)};var t},T=function(e){return t=s()(a.a.mark(function t(n,r){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:Object(O.b)(r(),e);case 1:case"end":return t.stop()}},t,k)})),function(e,n){return t.apply(this,arguments)};var t},D=function(){return e=s()(a.a.mark(function e(t,n){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:Object(O.e)(n());case 1:case"end":return e.stop()}},e,k)})),function(t,n){return e.apply(this,arguments)};var e},M=function(){return e=s()(a.a.mark(function e(t,n){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=n(),Object(m.a)(Object.assign({noun:"chat_settings",source:i.b.ChatSettings,action:i.a.View,chat:Object.assign({},Object(b.y)(t),Object(b.o)(t),Object(b.g)(t)),subreddit:Object.assign({},Object(p.a)(t),Object(p.b)(t))},Object(f.a)(t)));case 1:case"end":return e.stop()}var t},e,k)})),function(t,n){return e.apply(this,arguments)};var e},L=function(){return e=s()(a.a.mark(function e(t,n){var r,c;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:(r=Object(u.v)(n()))&&r.length&&(c=r[0].id,j(n(),c));case 2:case"end":return e.stop()}},e,k)})),function(t,n){return e.apply(this,arguments)};var e},R=function(){return e=s()(a.a.mark(function e(t,n){var r;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=n(),Object(l.c)(r)!==o.a.VIEW_INVITE&&g(r);case 2:case"end":return e.stop()}},e,k)})),function(t,n){return e.apply(this,arguments)};var e},U=function(){return e=s()(a.a.mark(function e(t,n){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=n(),Object(m.a)(Object.assign({noun:"leave_group",source:i.b.ChatSettings,action:i.a.Click,chat:Object.assign({},Object(b.y)(t),Object(b.o)(t),Object(b.g)(t),Object(b.w)(t)),subreddit:Object.assign({},Object(p.a)(t),Object(p.b)(t))},Object(f.a)(t)));case 1:case"end":return e.stop()}var t},e,k)})),function(t,n){return e.apply(this,arguments)};var e},P=function(e){return t=s()(a.a.mark(function t(n,r){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=r(),a=e,Object(m.a)(Object.assign({noun:"chat_member_report",source:i.b.ChatSettings,action:i.a.Submit,chat:Object.assign({},Object(b.y)(n),Object(b.o)(n),Object(b.g)(n),Object(b.u)(a)),subreddit:Object.assign({},Object(p.a)(n),Object(p.b)(n))},Object(f.a)(n)));case 1:case"end":return t.stop()}var n,a},t,k)})),function(e,n){return t.apply(this,arguments)};var t},H=function(e){return t=s()(a.a.mark(function t(n,r){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:Object(x.c)(r(),e);case 1:case"end":return t.stop()}},t,k)})),function(e,n){return t.apply(this,arguments)};var t},B=function(e){return t=s()(a.a.mark(function t(n,r){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:Object(d.c)(r(),e)&&Object(x.f)(r());case 2:case"end":return t.stop()}},t,k)})),function(e,n){return t.apply(this,arguments)};var t},F=function(e){return t=s()(a.a.mark(function t(n,r){var c,s,i,o,u,l;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:c=r(),s=e&&e.filter(function(e){return e!==c.user.account.id}),i=s&&s[0],o=c.contacts.models[i],u=o&&o.name,(l=Object(d.a)(r(),u))&&Object(x.e)(r(),l);case 7:case"end":return t.stop()}},t,k)})),function(e,n){return t.apply(this,arguments)};var t},G=function(e,t){return n=s()(a.a.mark(function e(n,r){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:Object(x.d)(r(),t);case 1:case"end":return e.stop()}},e,k)})),function(e,t){return n.apply(this,arguments)};var n},K=function(){return e=s()(a.a.mark(function e(t,n){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:Object(x.b)(n());case 1:case"end":return e.stop()}},e,k)})),function(t,n){return e.apply(this,arguments)};var e},V=function(){return e=s()(a.a.mark(function e(t,n){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:Object(x.a)(n());case 1:case"end":return e.stop()}},e,k)})),function(t,n){return e.apply(this,arguments)};var e},z=function(){return e=s()(a.a.mark(function e(t,n){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:Object(y.c)(n());case 1:case"end":return e.stop()}},e,k)})),function(t,n){return e.apply(this,arguments)};var e},J=function(){return e=s()(a.a.mark(function e(t,n){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:Object(y.d)(n());case 1:case"end":return e.stop()}},e,k)})),function(t,n){return e.apply(this,arguments)};var e},Q=function(){return e=s()(a.a.mark(function e(t,n){var r;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=n(),Object(l.c)(r)===o.a.VIEW_INVITE&&Object(y.e)(r);case 2:case"end":return e.stop()}},e,k)})),function(t,n){return e.apply(this,arguments)};var e},q=function(){return e=s()(a.a.mark(function e(t,n){var r;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=n(),Object(y.b)(r),Object(h.b)(r)&&Object(y.f)(n());case 3:case"end":return e.stop()}},e,k)})),function(t,n){return e.apply(this,arguments)};var e},W=function(){return e=s()(a.a.mark(function e(t,n){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:Object(y.a)(n());case 1:case"end":return e.stop()}},e,k)})),function(t,n){return e.apply(this,arguments)};var e},Z=function(e){return t=s()(a.a.mark(function t(n,r){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:w(r(),e);case 1:case"end":return t.stop()}},t,k)})),function(e,n){return t.apply(this,arguments)};var t},Y=function(){return e=s()(a.a.mark(function e(t,n){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:Object(C.a)(n());case 1:case"end":return e.stop()}},e,k)})),function(t,n){return e.apply(this,arguments)};var e},X=function(){return e=s()(a.a.mark(function e(t,n){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:Object(C.c)(n());case 1:case"end":return e.stop()}},e,k)})),function(t,n){return e.apply(this,arguments)};var e},$=function(){return e=s()(a.a.mark(function e(t,n){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:Object(C.g)(n());case 1:case"end":return e.stop()}},e,k)})),function(t,n){return e.apply(this,arguments)};var e},ee=function(){return e=s()(a.a.mark(function e(t,n){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:Object(C.d)(n());case 1:case"end":return e.stop()}},e,k)})),function(t,n){return e.apply(this,arguments)};var e},te=function(e){return t=s()(a.a.mark(function t(n,r){var c;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:(c=r()).tooltipId!==e&&v(c);case 2:case"end":return t.stop()}},t,k)})),function(e,n){return t.apply(this,arguments)};var t},ne=function(){return e=s()(a.a.mark(function e(t,n){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=n(),Object(m.a)(Object.assign({noun:"other_message",source:i.b.ChatView,action:i.a.ModDelete,chat:Object.assign({},Object(b.y)(t),Object(b.o)(t),Object(b.g)(t),Object(b.r)(t),Object(b.m)(t),Object(b.v)(t)),subreddit:Object.assign({},Object(p.a)(t),Object(p.b)(t))},Object(f.a)(t)));case 1:case"end":return e.stop()}var t},e,k)})),function(t,n){return e.apply(this,arguments)};var e},re=function(e){switch(e){case i.b.ChatSettings:return i.b.ChatSettings;default:return i.b.ChatView}},ae=function(e){return t=s()(a.a.mark(function t(n,r){var c,s,i,o;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:c=r(),s=Object(l.b)(c),i=s&&s.source,o=re(i),_(r(),e,o);case 5:case"end":return t.stop()}},t,k)})),function(e,n){return t.apply(this,arguments)};var t},ce=function(e){return t=s()(a.a.mark(function t(n,r){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:I(r(),e);case 1:case"end":return t.stop()}},t,k)})),function(e,n){return t.apply(this,arguments)};var t}},"./src/chat/actions/typingIndicator.ts":function(e,t,n){"use strict";n.d(t,"a",function(){return l}),n.d(t,"b",function(){return b});var r=n("./node_modules/babel-runtime/regenerator/index.js"),a=n.n(r),c=n("./node_modules/babel-runtime/helpers/asyncToGenerator.js"),s=n.n(c),i=n("./node_modules/lodash/isEqual.js"),o=n.n(i),u=n("./src/lib/makeActionCreator/index.ts"),d=n("./src/chat/selectors/channels.ts"),l="TYPING_INDICATOR__UPDATE",h=Object(u.a)(l),b=function(e){var t,n=e.channelId,r=e.usernames;return t=s()(a.a.mark(function e(t,c){var s,i,u,l,b;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:s=Object(d.B)(c(),"channelId"),i=c().typingIndicator.usernames,u=n===s,l=r.length>3&&i.length>3,b=!o()(r,i),u&&b&&!l&&t(h({usernames:r}));case 7:case"end":return e.stop()}},e,void 0)})),function(e,n){return t.apply(this,arguments)}}},"./src/chat/actions/user.ts":function(e,t,n){"use strict";var r=n("./node_modules/babel-runtime/regenerator/index.js"),a=n.n(r),c=n("./node_modules/babel-runtime/helpers/asyncToGenerator.js"),s=n.n(c),i=n("./node_modules/lodash/chunk.js"),o=n.n(i),u=n("./node_modules/react-router-redux/es/index.js"),d=n("./src/lib/makeActionCreator/index.ts"),l=n("./src/chat/actions/channel.ts"),h=n("./src/chat/actions/theme.ts"),b=n("./src/chat/actions/tracking.ts"),f=n("./src/chat/constants/channels.ts"),p=n("./src/chat/endpoints/accounts/index.ts"),m=n("./src/chat/endpoints/sendbird/index.ts"),v=n("./src/chat/endpoints/users/index.ts"),j=n("./src/chat/helpers/errors.ts"),g=n("./src/chat/models/Channel/index.ts"),O=n("./src/chat/models/Contact/index.ts"),x=n("./node_modules/babel-runtime/helpers/typeof.js"),y=n.n(x),C=function(e){return Object.keys(e).reduce(function(t,n){var r=e[n];return"boolean"==typeof r&&(t[n]=r),"object"===(void 0===r?"undefined":y()(r))&&(t[n]=E(r)),t},{})},E=function(e){return{experimentId:e.experiment_id,owner:e.owner,variant:e.variant}},_=n("./src/chat/models/User/index.ts"),I=n("./src/chat/selectors/channels.ts"),w=n("./src/chat/selectors/user.ts"),k=n("./src/chat/singleton/SendbirdSDK.ts");n.d(t,"a",function(){return N}),n.d(t,"f",function(){return A}),n.d(t,"e",function(){return T}),n.d(t,"g",function(){return D}),n.d(t,"d",function(){return M}),n.d(t,"q",function(){return L}),n.d(t,"r",function(){return H}),n.d(t,"v",function(){return B}),n.d(t,"l",function(){return G}),n.d(t,"i",function(){return K}),n.d(t,"w",function(){return Q}),n.d(t,"h",function(){return q}),n.d(t,"m",function(){return Z}),n.d(t,"k",function(){return Y}),n.d(t,"t",function(){return X}),n.d(t,"j",function(){return $}),n.d(t,"s",function(){return ee}),n.d(t,"c",function(){return te}),n.d(t,"o",function(){return ae}),n.d(t,"u",function(){return ce}),n.d(t,"b",function(){return se}),n.d(t,"p",function(){return ue}),n.d(t,"n",function(){return le});var S=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&(n[r[a]]=e[r[a]])}return n},N="USER__ACCOUNT_FETCH_COMPLETED",A="USER__REDDAID_RECEIVED",T="USER__LOID_RECEIVED",D="USER__SESSION_TRACKER_RECEIVED",M="FETCH_EXPERIMENTS_COMPLETED",L=Object(d.a)(T),R=Object(d.a)("USER__ACCOUNT_FETCH_PENDING"),U=Object(d.a)(N),P=Object(d.a)("USER__ACCOUNT_FETCH_FAILED"),H=Object(d.a)(A),B=Object(d.a)(D),F=Object(d.a)(M),G=function(){return e=s()(a.a.mark(function e(t,n,r){var c,s,i,o,u,d,l,b=r.apiContext;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((c=n()).user.session&&!c.user.account){e.next=3;break}return e.abrupt("return");case 3:return t(R()),e.next=6,Object(p.c)(b());case 6:(s=e.sent).ok?(i=s.body,o=s.body.features,u=Object(_.b)(i),d=C(o),l=!!u.prefNightmode,t(U(u)),t(F(d)),t(Object(h.b)(l))):t(P(s.error));case 8:case"end":return e.stop()}},e,void 0)})),function(t,n,r){return e.apply(this,arguments)};var e},K="USER__USERS_FETCH_COMPLETED",V=Object(d.a)("USER__USERS_FETCH_PENDING"),z=Object(d.a)(K),J=Object(d.a)("USER__USERS_FETCH_FAILED"),Q=function(e){return t=s()(a.a.mark(function t(n,r,c){var s,i,u,d,l,h,b,f,p,m,j,g,O=c.apiContext;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s=100,i=r().contacts.models,u=e.filter(function(e){return!i[e]}),d=o()(u,s),u.length){t.next=6;break}return t.abrupt("return");case 6:return n(V(e)),t.next=9,Promise.all(d.map(function(e){return Object(v.d)(O(),e)})).catch(function(){return[]});case 9:for(l=t.sent,h=!0,b=!1,f=void 0,t.prev=13,p=l[Symbol.iterator]();!(h=(m=p.next()).done);h=!0)(j=m.value).ok?(g=Object(_.a)(j.body),n(z(g))):n(J());t.next=21;break;case 17:t.prev=17,t.t0=t.catch(13),b=!0,f=t.t0;case 21:t.prev=21,t.prev=22,!h&&p.return&&p.return();case 24:if(t.prev=24,!b){t.next=27;break}throw f;case 27:return t.finish(24);case 28:return t.finish(21);case 29:case"end":return t.stop()}},t,void 0,[[13,17,21,29],[22,,24,28]])})),function(e,n,r){return t.apply(this,arguments)};var t},q="USERS__USERS_ADD_SELECTED",W=Object(d.a)(q),Z=function(e){return t=s()(a.a.mark(function t(n,r){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n(W(e)),n(Object(b.f)(e));case 2:case"end":return t.stop()}},t,void 0)})),function(e,n){return t.apply(this,arguments)};var t},Y="USERS__USERS_REMOVE_SELECTED",X=Object(d.a)(Y),$="USERS__USERS_REMOVE_ALL_SELECTED",ee=Object(d.a)($),te="USERS__BLOCK_USER_COMPLETED",ne=Object(d.a)(te),re=Object(d.a)("USERS__BLOCK_USER_FAILED"),ae=function(e){return t=s()(a.a.mark(function t(n,r,c){var s,i,o,d,h,b,m,v,O,x=c.apiContext;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s=r(),i=s.contacts.models[e],o=i&&i.name,d=Object(I.x)(s),h=Object(I.i)(s)||f.b.JOINED,b=d&&d.type===g.a.Direct,m=Object(I.k)(s)){t.next=9;break}throw new j.a("currentChannel",m);case 9:if(v=m.channelId){t.next=12;break}throw new j.a("blockedChannelId",v);case 12:return t.next=14,Object(p.a)(x(),e);case 14:(O=t.sent)&&O.ok&&b?k.b.hideChannel().then(function(){return n(ne({userId:e,username:o}))}).then(function(){return n(Object(l.L)(v))}).then(function(){return n(Object(l.P)(h))}):O&&O.ok&&!b?(n(ne({userId:e,username:o})),n(Object(u.a)())):O&&n(re(O.error));case 16:case"end":return t.stop()}},t,void 0)})),function(e,n,r){return t.apply(this,arguments)};var t},ce=function(e){return t=s()(a.a.mark(function t(n,r,c){var s,i,o,d=c.apiContext;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:s=e.user,i=e.reason,o={reason:i,userNickname:s.name},Object(v.a)(d(),o).then(function(){return n(Object(u.a)())});case 3:case"end":return t.stop()}},t,void 0)})),function(e,n,r){return t.apply(this,arguments)};var t},se="BLOCKED_USER_LIST_FETCH_COMPLETED",ie=Object(d.a)("BLOCKED_USER_LIST_FETCH_FAILED"),oe=Object(d.a)(se),ue=function(){return e=s()(a.a.mark(function e(t,n,r){var c,s,i,o,u,d,l=r.apiContext;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(c=n(),(s=c.contacts).fetchedBlockedUsers){e.next=6;break}return e.next=4,Object(v.c)(l());case 4:(i=e.sent).ok&&i.body&&i.body.data?(o=i.body.data.children,u=s.models,d={},o.forEach(function(e){if(u[e.id])d[e.id]=Object.assign({},u[e.id],{isBlocked:!0});else{e.date;var t=S(e,["date"]);d[e.id]=Object.assign({},O.b,t,{isBlocked:!0})}}),t(oe({blockedContacts:d}))):t(ie(i.error));case 6:case"end":return e.stop()}},e,void 0)})),function(t,n,r){return e.apply(this,arguments)};var e},de=function(e){return{chat_ban:e.chatBan,delete_all_messages:e.deleteAllMessages,subreddit_id:e.subredditId,user_id:e.userId}},le=function(e){return t=s()(a.a.mark(function t(n,r,c){var s,i,o,d=c.apiContext;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s=r(),!(i=Object(w.c)(s))){t.next=9;break}return o=de(e),t.next=6,Object(m.b)(d(),i,o);case 6:t.sent.ok||Object(j.b)("Error with ban user and delete all messages"),n(Object(u.a)());case 9:case"end":return t.stop()}},t,void 0)})),function(e,n,r){return t.apply(this,arguments)};var t}},"./src/chat/components/CloseIcon/index.tsx":function(e,t,n){"use strict";var r=n("./node_modules/babel-runtime/helpers/jsx.js"),a=n.n(r),c=(n("./node_modules/react/index.js"),n("./node_modules/react-redux/es/index.js")),s=n("./node_modules/reselect/lib/index.js"),i=n("./bundled-modules/styled-components/styled-components.min.js"),o=n.n(i),u=n("./src/chat/actions/container.ts"),d=n("./src/chat/actions/tracking.ts"),l=n("./src/chat/constants/container.ts"),h=n("./src/chat/controls/Button/index.tsx"),b=n("./src/chat/helpers/dom.ts"),f=n("./src/chat/helpers/styles/mixins/index.tsx"),p=n("./src/chat/icons/svgs/NavClose/index.tsx"),m=n("./src/chat/strings/index.ts"),v=o()(h.d).withConfig({componentId:"s10llmio-0"})(["","right: 1em;top: 1em;position: absolute;z-index: 3;"],f.e),j=Object(c.connect)(function(){return Object(s.createStructuredSelector)({containerSize:function(e){return e.container.size}})},function(e){return{close:function(){e(Object(u.c)(l.a.HIDDEN)),e(Object(d.c)())}}});t.a=j(function(e){var t=e.className,n=e.close,r=e.containerSize;return r===l.a.EMBED||r===l.a.MINIMIZED?a()(v,{onClick:Object(b.b)(n),title:Object(m.a)("en","app.layout.header.close"),className:t},void 0,a()(p.a,{})):null})},"./src/chat/components/EmptyState/index.tsx":function(e,t,n){"use strict";var r=n("./node_modules/babel-runtime/helpers/jsx.js"),a=n.n(r),c=n("./src/chat/strings/index.ts"),s=n("./src/config.ts"),i=(n("./node_modules/react/index.js"),n("./bundled-modules/styled-components/styled-components.min.js")),o=n.n(i),u=n("./src/chat/components/CloseIcon/index.tsx"),d=n("./src/chat/controls/Button/index.tsx"),l=n("./src/chat/helpers/styles/components/index.tsx"),h=n("./src/chat/icons/svgs/ChatNew/index.tsx"),b=n("./src/chat/helpers/urls/index.ts"),f=n("./node_modules/react-router-dom/es/index.js"),p=o.a.div.withConfig({componentId:"s19o1wft-0"})(["display: inline-block;padding: 10px;"]),m=o.a.img.withConfig({componentId:"s19o1wft-1"})(["vertical-align: middle;display: inline-block;height: 180px;width: 180px;"]),v=o.a.div.withConfig({componentId:"s19o1wft-2"})(["vertical-align: middle;display: inline-block;max-width: 250px;padding: 20px 0 20px 30px;text-align: left;"]),j=o()(l.b).withConfig({componentId:"s19o1wft-3"})(["padding-bottom: 10px;font-weight: bold;"]),g=o()(d.a).withConfig({componentId:"s19o1wft-4"})(["font-size: 1em;height: 2.4em;margin-top: 1em;padding: 0.2em 2em;"]);t.a=function(){return a()(l.a,{},void 0,a()(u.a,{}),a()(p,{},void 0,a()(m,{src:s.a.assetPath+"/img/chat/empty-hero.png"}),a()(v,{},void 0,a()(j,{},void 0,Object(c.a)("en","app.chat.emptyState.title")),a()(l.c,{},void 0,Object(c.a)("en","app.chat.emptyState.main"),a()(f.a,{to:Object(b.c)("create")},void 0,a()(g,{primary:!0},void 0,a()(h.a,{width:"1em"})," ",Object(c.a)("en","app.chat.actions.new")))))))}},"./src/chat/components/OverlayCreateChannel/index.tsx":function(e,t,n){"use strict";var r=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),a=n.n(r),c=n("./node_modules/babel-runtime/helpers/createClass.js"),s=n.n(c),i=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),o=n.n(i),u=n("./node_modules/babel-runtime/helpers/inherits.js"),d=n.n(u),l=n("./node_modules/babel-runtime/helpers/jsx.js"),h=n.n(l),b=n("./node_modules/lodash/noop.js"),f=n.n(b),p=n("./node_modules/lodash/uniqBy.js"),m=n.n(p),v=n("./node_modules/react/index.js"),j=n.n(v),g=n("./node_modules/react-redux/es/index.js"),O=n("./node_modules/react-router-redux/es/index.js"),x=n("./node_modules/reselect/lib/index.js"),y=n("./bundled-modules/styled-components/styled-components.min.js"),C=n.n(y),E=n("./src/chat/actions/channel.ts"),_=n("./src/chat/actions/sendbird/index.ts"),I=n("./src/chat/actions/tracking.ts"),w=n("./src/chat/actions/user.ts"),k=n("./src/chat/components/Scroller/index.tsx"),S=n("./node_modules/lodash/last.js"),N=n.n(S),A=n("./node_modules/react-dom/index.js"),T=n("./src/chat/constants/keys.ts"),D=n("./src/chat/helpers/dom.ts"),M=n("./src/chat/helpers/styles/functions/index.tsx"),L=n("./src/chat/helpers/styles/mixins/index.tsx"),R=n("./src/chat/strings/index.ts"),U=C()(k.b).withConfig({componentId:"jjmtjk-0"})(["","width: 100%;height: auto;display: flex;flex: 0 0 auto;min-height: 2.7em;max-height: 5.3em;border-bottom: 1px solid ",";"],L.a.titleFontH5,function(e){return e.theme.layout.colsBorder}),P=C.a.span.withConfig({componentId:"jjmtjk-1"})(["padding: 0.725em 0.1875em 0 1em;"]),H=C.a.span.withConfig({componentId:"jjmtjk-2"})(["display: flex;flex-wrap: wrap;width: 100%;"]),B=C.a.input.withConfig({componentId:"jjmtjk-3"})(["flex: 1 1;min-width: 0;outline: none;padding: 0.125em;background: transparent;color: ",";"],function(e){return e.theme.activity.text.regular}),F=C.a.span.withConfig({componentId:"jjmtjk-4"})(["align-self: start;border-radius: 3px;cursor: pointer;margin: 0.2734375em;padding: 0.390625em;outline: 0;white-space: nowrap;",";color: ",";background-color: ",";&:active,&:focus {color: ",";background-color: ",";}"],Object(M.a)("all","0.1s"),function(e){return e.theme.activity.text.regular},function(e){return e.theme.activity.input.ownerBg},function(e){return e.theme.activity.input.focusColor},function(e){return e.theme.activity.input.focusBg}),G=function(e){function t(e){a()(this,t);var n=o()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.bubbleRefs={},n.searchBarInputRef={},n.timeoutToken=null,n.onBubbleKey=function(e){return function(t){switch(t.key){case T.f:case T.e:return Object(A.findDOMNode)(n.searchBarInputRef).focus(),n.props.onUnselect(e.id);case T.b:var r=t.target;if(r.previousElementSibling)r.previousElementSibling.focus();break;case T.c:var a=t.target;if(a.nextElementSibling)a.nextElementSibling.focus()}}},n.onBubbleKey=n.onBubbleKey.bind(n),n.onFilterChange=n.onFilterChange.bind(n),n.stopEnter=n.stopEnter.bind(n),n.searchKeyHandler=n.searchKeyHandler.bind(n),n}return d()(t,e),s()(t,[{key:"stopEnter",value:function(e){e.key===T.g&&e.preventDefault()}},{key:"onFilterChange",value:function(e){this.props.onFilterContacts(e.currentTarget.value)}},{key:"searchKeyHandler",value:function(e){var t=this.props,n=t.onFilterContacts,r=t.onIdentifyContact,a=t.onIdentifyContactTimeout,c=e.currentTarget,s=function(){return c.value};switch(this.timeoutToken&&clearTimeout(this.timeoutToken),this.timeoutToken=setTimeout(function(){s()&&r(s())},a),e.key){case T.g:return r(c.id);case T.b:case T.f:case T.e:if(0===s().length){var i=N()(this.props.selectedContacts);i&&i.name&&Object(A.findDOMNode)(this.bubbleRefs[i.name]).focus()}}return n(s())}},{key:"render",value:function(){var e=this,t=this.props,n=t.filter,r=t.innerRef,a=t.resetFilter,c=t.selectedContacts,s=t.onFilterReset,i=a?"":n;return h()(U,{autoScrollBottom:!0},void 0,h()(P,{},void 0,Object(R.a)("en","app.chat.contactList.to")),h()(H,{},void 0,c&&c.length>0&&c.map(function(t,n){return j.a.createElement(F,{key:"selected-contact-"+n,tabIndex:0,onKeyDown:Object(D.a)(e.onBubbleKey(t)),ref:function(n){e.bubbleRefs[t.name]=n}},t.name)}),j.a.createElement(B,{key:"search-bar",type:"text",autoFocus:!0,value:i,onFocus:s,onChange:this.onFilterChange,onKeyDown:this.stopEnter,onKeyUp:this.searchKeyHandler,ref:function(t){e.searchBarInputRef=t},innerRef:function(e){return r(e)}})))}}]),t}(j.a.Component),K=G;G.defaultProps={onIdentifyContactTimeout:1e3};var V=n("./src/chat/controls/Checkbox/index.tsx"),z=n("./src/chat/icons/Userpic/index.tsx"),J=C()(V.a).withConfig({componentId:"s5r3kx-0"})(["padding: 0.625em 0;width: 100%;&:focus,&:hover {background-color: ",";}"],function(e){return e.theme.layout.colsBorder}),Q=C()(z.a).withConfig({componentId:"s5r3kx-1"})(["display: inline-block;margin-right: 0.625em;height: 1.875em;width: 1.875em;"]),q=C.a.span.withConfig({componentId:"s5r3kx-2"})(["display: inline-block;vertical-align: middle;overflow: hidden;white-space: nowrap;text-overflow: ellipsis;width: calc(100% - 3.2em);"]),W=function(e){function t(){a()(this,t);var e=o()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.CONTACT_FORM_NAME="contactForm",e}return d()(t,e),s()(t,[{key:"render",value:function(){var e=this.props,t=e.contact,n=t.id,r=t.name,a=e.formName,c=e.isChecked,s=e.onChange;return h()(J,{type:"checkbox",name:a,value:r,onChange:s,checked:c(n),id:n},void 0,h()(Q,{userId:n}),h()(q,{},void 0,r))}}]),t}(v.Component),Z=C.a.span.withConfig({componentId:"sgv4bv-0"})(["display: flex;align-items: center;justify-content: space-between;height: 2.8em;padding: 0 0.9375em;opacity: 0.6;"]),Y=C.a.span.withConfig({componentId:"sgv4bv-1"})(["","align-items: center;display: flex;padding-right: 1em;min-width: 0;"],L.a.titleFontH5),X=C()(z.a).withConfig({componentId:"sgv4bv-2"})(["margin-right: 0.625em;height: 1.875em;min-width: 1.875em;"]),$=C.a.span.withConfig({componentId:"sgv4bv-3"})(["overflow: hidden;white-space: nowrap;text-overflow: ellipsis;"]),ee=C.a.span.withConfig({componentId:"sgv4bv-4"})(["",""],L.a.titleFontH5),te=function(e){function t(){return a()(this,t),o()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return d()(t,e),s()(t,[{key:"render",value:function(){var e=this.props,t=e.contact,n=t.id,r=t.name,a=e.context;return h()(Z,{},void 0,h()(Y,{},void 0,h()(X,{userId:n}),h()($,{},void 0,r)),h()(ee,{},void 0,a))}}]),t}(v.Component),ne=n("./src/chat/controls/ChannelNameInput/index.tsx"),re=n("./src/chat/controls/Counter/index.tsx"),ae=n("./src/chat/controls/Overlay/index.tsx"),ce=n("./src/chat/controls/OverlayControlBar/index.tsx"),se=n("./src/chat/controls/OverlayHeader/index.tsx"),ie=n("./src/chat/constants/channels.ts"),oe=n("./src/chat/models/Channel/index.ts"),ue=n("./src/chat/selectors/channels.ts"),de=n("./src/chat/selectors/contacts.ts"),le=n("./src/chat/selectors/platform.ts"),he=C.a.div.withConfig({componentId:"nqsb5d-0"})(["align-content: center;align-items: center;display: flex;flex-grow: 1;flex: 1 1 auto;flex-direction: column;overflow: hidden;"]),be=C()(V.a).withConfig({componentId:"nqsb5d-1"})(["padding: 10px 0;width: 100%;&:focus,&:hover {background-color: ",";}"],function(e){return e.theme.layout.colsBorder}),fe=C()(k.b).withConfig({componentId:"nqsb5d-2"})(["width: 100%;height: 100%;max-height: calc(100vh - 7.313em);"]),pe=C.a.div.withConfig({componentId:"nqsb5d-3"})(["border-bottom: 1px solid ",";cursor: pointer;&:last-of-type {border-bottom: 0;}&:hover {background-color: ",";}"],function(e){return e.theme.layout.colsBorder},function(e){return e.theme.layout.colsBorder}),me=C.a.div.withConfig({componentId:"nqsb5d-4"})(["border-bottom: 1px solid ",";cursor: pointer;&:hover {background: initial;cursor: initial;}"],function(e){return e.theme.layout.colsBorder}),ve=C.a.h4.withConfig({componentId:"nqsb5d-5"})(["","font-weight: bold;padding: 10px 15px;"],L.a.titleFontH5),je=C.a.span.withConfig({componentId:"nqsb5d-6"})(["display: inline-block;vertical-align: middle;overflow: hidden;white-space: nowrap;text-overflow: ellipsis;width: calc(100% - 3.2em);"]),ge=C.a.span.withConfig({componentId:"nqsb5d-7"})(["","display: block;color: ",";"],L.a.bodyFontH5,function(e){return e.theme.activity.input.error}),Oe=C()(ne.a).withConfig({componentId:"nqsb5d-8"})(["padding-left: 0.390625em;border: 0;"]),xe=C.a.div.withConfig({componentId:"nqsb5d-9"})(["height: 100%;display: flex;flex-direction: column;"]),ye=C()(function(e){return h()("div",{className:e.className},void 0,e.children)}).withConfig({componentId:"nqsb5d-10"})(["","display: flex;flex: 0 0 auto;align-items: center;width: 100%;overflow: hidden;border-bottom: 1px solid;height: ",";border-color: ",";transition: all 0.3s;"],L.a.bodyFontH5,function(e){return e.isShown?"2.7em":"0"},function(e){return e.isShown?e.theme.layout.colsBorder:"transparent"});ye.displayName="ChannelNameWrapper";var Ce=function(e){return e.toLocaleLowerCase()},Ee=Object(x.createStructuredSelector)({channelAction:function(e){return Object(le.c)(e)},channel:function(e){return Object(ue.k)(e)},contacts:de.i,isCreatingChannel:ue.J,loadedContacts:de.j,knownContacts:de.h,memberCount:function(e){return Object(ue.B)(e,"memberCount")},existingGroupUsers:function(e){var t=Object(ue.B)(e,"members");return t&&t.map(function(e){return e.id})},selectedUsers:de.k,selectedUsersCount:de.l}),_e=Object(g.connect)(Ee,function(e){return{onCreateNewChannel:function(t,n){return e(Object(E.C)(t,n,!0))},onInviteUsersToExistingChannel:function(t){return e(Object(E.I)(t))},onIdentifyContact:function(t){return e(Object(_.k)({username:t}))},onCancelAndGoBack:function(){e(Object(O.a)()),e(Object(I.d)())},onSelectUser:function(t){return e(Object(w.m)(t))},onUnselectUser:function(t){return e(Object(w.t)(t))},removeAllSelectedUsers:function(){return e(Object(w.s)())},requestSuggestedContacts:function(){return e(Object(_.n)())}}}),Ie=function(e){function t(e){a()(this,t);var n=o()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.searchBarElement=null,n.isUserSelected=function(e){return n.props.selectedUsers.includes(e)},n.isCreateChannelURLAction=function(){return n.props.channelAction===ie.a.CREATE},n.isInviteMembersURLAction=function(){return n.props.channelAction===ie.a.INVITE_MEMBERS},n.isSubredditChannel=function(){return!(!n.props.channel||n.props.channel.type!==oe.a.Subreddit)},n.isExistingGroupUser=function(e){return!(!(n.isInviteMembersURLAction()&&n.props.existingGroupUsers&&n.props.existingGroupUsers.includes(e))||n.isUserSelected(e))},n.hasTooManyMembers=function(){var e=n.props,t=e.isCreatingChannel,r=e.memberCount,a=e.selectedUsersCount;return t?a>ie.e:(a||0)+(r||0)>ie.e},n.isSubmitDisabled=function(e){var t=n.props,r=t.isCreatingChannel,a=t.selectedUsersCount,c=n.isCreateChannelURLAction(),s=e<0||e===ie.d,i=a>1,o=n.hasTooManyMembers();return!n.isSubredditChannel()&&(!a||r||c&&i&&(s||o)||!c&&o)},n.getInviteMembersText=function(){return n.isSubredditChannel()?Object(R.a)("en","app.chat.channels.addToRoom"):Object(R.a)("en","app.chat.channels.addToGroup")},n.primaryButtonText=function(){return n.isInviteMembersURLAction()?n.getInviteMembersText():Object(R.a)("en","app.button.init")},n.getBlockedContactText=function(e){return e?Object(R.a)("en","app.chat.contactList.blockedContact"):n.isSubredditChannel()?Object(R.a)("en","app.chat.contactList.existingRoomContact"):Object(R.a)("en","app.chat.contactList.existingGroupContact")},n.getOverlayTitle=function(){return n.isCreateChannelURLAction()?Object(R.a)("en","app.chat.channels.createGroup"):n.getInviteMembersText()},n.getOverlayMessage=function(){var e=n.props,t=e.memberCount,r=e.selectedUsersCount,a=r+(n.isCreateChannelURLAction()?1:t),c=(ie.e-a).toString();return r===ie.e?n.isSubredditChannel()?Object(R.a)("en","app.chat.channels.addGroupMembers").replace("%0",c):Object(R.a)("en","app.chat.channels.maxGroupSize"):""},n.getSelectedContacts=n.getSelectedContacts.bind(n),n.onContactsSelect=n.onContactsSelect.bind(n),n.onFilterContacts=n.onFilterContacts.bind(n),n.onFilterReset=n.onFilterReset.bind(n),n.onSubmit=n.onSubmit.bind(n),n.onCancel=n.onCancel.bind(n),n.handleChannelNameInput=n.handleChannelNameInput.bind(n),n.state={filter:"",resetFilter:!1,groupName:""},n}return d()(t,e),s()(t,[{key:"componentWillMount",value:function(){this.props.requestSuggestedContacts()}},{key:"componentWillUnmount",value:function(){this.props.removeAllSelectedUsers()}},{key:"onContactsSelect",value:function(e){var t=e.target.id,n=this.props,r=n.onSelectUser,a=n.onUnselectUser,c=n.selectedUsers,s=n.selectedUsersCount;c.includes(t)?a(t):(s<ie.e||s<1)&&(this.setState(function(e){return Object.assign({},e,{resetFilter:!0})}),r(t)),this.searchBarElement&&this.searchBarElement.focus()}},{key:"onFilterContacts",value:function(e){this.setState({filter:e})}},{key:"onFilterReset",value:function(){this.setState({filter:"",resetFilter:!1})}},{key:"handleChannelNameInput",value:function(e){this.setState({groupName:e})}},{key:"onSubmit",value:function(){var e=this.props,t=e.onCreateNewChannel,n=e.onInviteUsersToExistingChannel,r=this.state.groupName,a=this.getSelectedContacts().map(function(e){return e.id});a&&a.length&&(this.isCreateChannelURLAction()?t(a,r.trim()):n(a))}},{key:"onCancel",value:function(){this.props.onCancelAndGoBack()}},{key:"getSelectedContacts",value:function(){var e=this.props,t=e.loadedContacts,n=[];return e.selectedUsers.map(function(e){for(var r in t)Ce(t[r].id)===e&&n.push(t[r])}),n}},{key:"getFilteredContacts",value:function(){var e=this.props.contacts,t=this.state.filter;return t?e.filter(function(e){return Ce(e.name).includes(Ce(t))&&!e.isBlocked}):e}},{key:"getLoadedContact",value:function(){var e=this;return this.props.loadedContacts.find(function(t){return t&&Ce(t.name)===Ce(e.state.filter)})}},{key:"getIsValidUser",value:function(e){var t=this.props.knownContacts[Ce(e)];return!t||!t.loaded||t.valid}},{key:"availableCharacters",value:function(e){return ie.d-e.length}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,r=t.onIdentifyContact,a=t.selectedUsersCount,c=this.state,s=c.filter,i=c.resetFilter,o=c.groupName,u=this.isUserSelected,d=this.isExistingGroupUser,l=this.onFilterReset,b=this.onFilterContacts,p=this.onContactsSelect,v=this.onSubmit,j=this.onCancel,g=this.getSelectedContacts(),O=this.getFilteredContacts(),x=this.getLoadedContact(),y=!!s&&!x,C=!!x,E=!this.getIsValidUser(s),_=this.handleChannelNameInput,I=this.availableCharacters(o),w=this.isSubmitDisabled(I),k=this.primaryButtonText(),S=this.isCreateChannelURLAction(),N=a>=ie.e&&!this.isSubredditChannel();return h()(ae.a,{className:n,onSubmit:Object(D.a)(v),innerContent:!0,form:!0},void 0,h()(xe,{},void 0,h()(se.a,{message:this.getOverlayMessage(),title:this.getOverlayTitle(),warning:N}),h()(he,{},void 0,S&&h()(ye,{isShown:a>1},void 0,h()(Oe,{handleChannelNameInput:_,placeholder:Object(R.a)("en","app.chat.channels.groupName")},void 0,h()(re.a,{count:I}))),h()(K,{innerRef:function(t){return e.searchBarElement=t},filter:s,resetFilter:i,selectedContacts:g,onFilterReset:l,onFilterContacts:b,onIdentifyContact:r,onUnselect:this.props.onUnselectUser}),h()(fe,{loadMoreRows:f.a,threshold:0},void 0,m()(O,function(e){return e.name}).map(function(t){return h()(pe,{},t.name,d(t.id)||t.isBlocked?h()(te,{contact:t,context:e.getBlockedContactText(!!t.isBlocked)}):h()(W,{formName:"contactForm",contact:t,onChange:p,isChecked:u}))}),(y||C)&&h()(me,{},void 0,h()(ve,{},void 0,Object(R.a)("en","app.chat.contactList.potentialsHeader"))),y&&!C&&h()(pe,{},void 0,h()(be,{type:"checkbox",disabled:!0,name:"contactForm",value:s,onChange:p},void 0,h()(je,{},void 0,s,E&&h()(ge,{},void 0,Object(R.a)("en","app.chat.contactList.invalidUser"))))),C&&x&&h()(pe,{},void 0,S||!d(x.id)&&!x.isBlocked?h()(W,{formName:"contactForm",contact:x,onChange:p,isChecked:u}):h()(te,{contact:x,context:this.getBlockedContactText(!!x.isBlocked)})))),h()(ce.a,{primaryButtonText:k,primaryButtonDisabled:w,secondaryButtonAction:j})))}}]),t}(j.a.Component);Ie.displayName="OverlayCreateChannel";t.a=_e(Ie)},"./src/chat/components/Root/index.tsx":function(e,t,n){"use strict";var r=n("./node_modules/babel-runtime/helpers/jsx.js"),a=n.n(r),c=n("./node_modules/react/index.js"),s=n.n(c),i=n("./node_modules/react-router/es/index.js"),o=n("./bundled-modules/styled-components/styled-components.min.js"),u=n.n(o),d=(n("./assets/fonts/IBMPlexSans/font.less"),n("./assets/fonts/NotoSans/font.less"),n("./node_modules/react-redux/es/index.js")),l=n("./node_modules/reselect/lib/index.js"),h=n("./src/chat/icons/Loader/index.tsx"),b=n("./src/chat/components/CloseIcon/index.tsx"),f=n("./src/chat/selectors/app.ts"),p=Object(l.createStructuredSelector)({isHidden:f.e,isReady:f.f,alert:f.b,experiments:f.a}),m=Object(d.connect)(p)(function(e){return e.isHidden?null:e.isReady&&e.experiments?e.children:a()(s.a.Fragment,{},void 0,a()(b.a,{}),a()(h.a,{textType:e.alert||"",isFadeOut:e.isReady,zIndex:2}))}),v=n("./src/chat/components/ThemeProvider/index.tsx"),j=n("./src/chat/constants/page.ts");n.d(t,"a",function(){return O});var g=u.a.main.withConfig({componentId:"wt632n-0"})(["height: 100%;background: ",";"],function(e){return e.theme.layout.body});function O(e,t){return a()(v.a,{},void 0,a()(e,{},void 0,a()(i.b,{component:function(e){return a()(g,{role:"main",id:j.a},void 0,a()(m,{},void 0,a()(i.d,{location:e.location},void 0,t)))}})))}},"./src/chat/components/Scroller/index.tsx":function(e,t,n){"use strict";n.d(t,"a",function(){return j});var r=n("./node_modules/babel-runtime/helpers/jsx.js"),a=n.n(r),c=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),s=n.n(c),i=n("./node_modules/babel-runtime/helpers/createClass.js"),o=n.n(i),u=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),d=n.n(u),l=n("./node_modules/babel-runtime/helpers/inherits.js"),h=n.n(l),b=n("./node_modules/lodash/debounce.js"),f=n.n(b),p=n("./node_modules/react/index.js"),m=n.n(p),v=n("./bundled-modules/styled-components/styled-components.min.js"),j=n.n(v).a.div.withConfig({componentId:"mf8872-0"})(["overflow-y: auto;overflow-x: hidden;height: 100%;::-webkit-scrollbar {width: .625em;}::-webkit-scrollbar-track {-webkit-box-shadow: inset 0 0 6px rgba(0,0,0,0.3);-webkit-border-radius: 0;border-radius: 0;}::-webkit-scrollbar-thumb {-webkit-border-radius: 0;border-radius: 0;background: ",";-webkit-box-shadow: inset 0 0 0 rgba(0,0,0,0.5);}"],function(e){return e.theme.layout.scrollbar});j.displayName="ScrollList";var g=function(e){function t(e){s()(this,t);var n=d()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.isBatchLoading=!1,n.isScrolling=!1,n.previousScrollHeight=0,n.scrollToBottom=f()(function(){this.list&&(this.list.scrollTop=this.list.scrollHeight)},1,{leading:!1,trailing:!0}),n.scrollToTop=f()(function(){this.list&&(this.list.scrollTop=0)},1,{leading:!1,trailing:!0}),n.addScrollListener=n.addScrollListener.bind(n),n.removeScrollListener=n.removeScrollListener.bind(n),n.onScroll=n.onScroll.bind(n),n.scrollCapture=n.scrollCapture.bind(n),n.scrollRelease=n.scrollRelease.bind(n),n.resetScrollPosition=n.resetScrollPosition.bind(n),n}return h()(t,e),o()(t,[{key:"componentDidMount",value:function(){this.scrollCapture(),this.resetScrollPosition()}},{key:"componentWillUpdate",value:function(){if(this.list){var e=this.list,t=e.clientHeight,n=e.scrollTop,r=e.scrollHeight;this.props.isScrolling&&this.props.isScrolling(this.isScrolling),this.isScrolling=n+t!==r}}},{key:"componentDidUpdate",value:function(){if(this.list){var e=this.list,t=e.scrollHeight,n=e.scrollTop,r=this.props.autoScrollBottom;r&&this.isScrolling&&this.isBatchLoading&&(this.list.scrollTop=n+(t-this.previousScrollHeight),this.isBatchLoading=!1),r&&!this.isScrolling&&this.scrollToBottom()}}},{key:"componentWillUnmount",value:function(){this.scrollRelease()}},{key:"addScrollListener",value:function(e,t){e&&e.addEventListener("wheel",t,!1)}},{key:"removeScrollListener",value:function(e,t){e&&e.removeEventListener("wheel",t,!1)}},{key:"onScroll",value:function(e){if(this.list){var t=this.list,n=t.clientHeight,r=t.scrollHeight,a=t.scrollTop,c=this.props,s=c.autoScrollBottom,i=c.loadMoreRows,o=c.threshold,u=e.deltaY,d=u>0;if(void 0!==o&&i)(s&&a<=o||!s&&a>=r-n-o)&&(this.isBatchLoading=!0,this.previousScrollHeight=r,i());d&&u>r-n-a?(this.scrollToBottom(),e.preventDefault()):!d&&-u>a&&(this.scrollToTop(),e.preventDefault())}}},{key:"scrollCapture",value:function(){this.list&&this.addScrollListener(this.list,this.onScroll)}},{key:"scrollRelease",value:function(){this.list&&this.removeScrollListener(this.list,this.onScroll)}},{key:"resetScrollPosition",value:function(){return this.props.autoScrollBottom?this.scrollToBottom():this.isScrolling||this.scrollToTop(),!1}},{key:"render",value:function(){var e=this,t=this.props,n=t.children,r=t.className;return a()(j,{innerRef:function(t){return e.list=t},className:r},void 0,n)}}]),t}(m.a.Component);g.displayName="Scroller",t.b=g},"./src/chat/components/ThemeProvider/index.tsx":function(e,t,n){"use strict";var r=n("./node_modules/react-redux/es/index.js"),a=n("./node_modules/reselect/lib/index.js"),c=n("./bundled-modules/styled-components/styled-components.min.js"),s=Object(a.createSelector)(function(e){return e.themes.current},function(e){return{theme:e}}),i=c.ThemeProvider;t.a=Object(r.connect)(s)(i)},"./src/chat/components/ToastNotification/index.tsx":function(e,t,n){"use strict";var r=n("./node_modules/babel-runtime/helpers/jsx.js"),a=n.n(r),c=n("./node_modules/react/index.js"),s=n.n(c),i=n("./node_modules/react-redux/es/index.js"),o=n("./node_modules/reselect/lib/index.js"),u=n("./bundled-modules/styled-components/styled-components.min.js"),d=n.n(u),l=n("./src/chat/actions/sendbird/sdk.ts"),h=n("./src/chat/constants/toast.ts"),b=n("./src/chat/helpers/styles/mixins/index.tsx"),f=n("./node_modules/babel-runtime/helpers/extends.js"),p=n.n(f),m=n("./src/chat/controls/Svg/index.tsx"),v="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAAAlwSFlzAAALEwAACxMBAJqcGAAAAVlpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDUuNC4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KTMInWQAAB/FJREFUWAnFWFtolUcQ/nMxprUp9MFGUZJgSaqlahSRNm2KTUoetD4oKppWxBJsfbAiRQhY0SL4EA2WoJRCrVYMwVta8IJVo9LEaC410ZpYxcQ7ao0arTEn57b9vjn//Oc/yUmiEu3A/Du7Ozvz7ezO7p4TY708ioGrONsd5SA4YNf/94KAopECjtYnbb0N7HXAc3TEYgyjRfocnAVuB5eCm8DuflRfDtFpvM0ahPJVq1aZU6dOmd27dxv0EXQOmNRvJENqA/ON5uyjefPmGa/X6zPGeMGdx48fJ8hjtktOKCpxlgNJjBY3/kjwDPCElJSUtGvXrmUmJSVZgwYNigkEAvFxcXGxw4YNQ7f1Oj8ggn3hpJErgKc2cAP4GMD8lJGR8Q3khydPnkTwjCcYDHauWbOGoIrApIEOVMiq66tLlIS2J+B8V5+KX0EwJSUlZtmyZQTXvGTJEo2gjlfdAS81etz018GaGIMgK1sjRozIRf17cOHixYvfQEl64eDohCBIheBqkUJtCpRN0YBEa7OHh4p+FSK0Iyscy70Tt3r1atnk2PjpiJIC9KGP7apHmZHmGDLB6/kI8fmIRpTVAp24I6Ptr0GoAm8Bp4PTADwRpZsUmLutTzmaIw4gCJL7rmQbo6CzzoD8AZg3w4TMzMyMoUOHJg0ePNh68uSJ1dra2nHlypV/0Mds/tXmDpQkAqUt+neXbn/o6kkcoOCkF8dC921AQL/Pnj07UFpaas6ePWtu375tHj16ZDo6OoIAF3z8+LG5f/++AUBz4sQJU1xcbIYPH34d43jcJIjh6B/66i1o4U2cmJiYDcXN4Dow78tqROZHlL8tXbrUNDU1ma6uLp5pejP4IQfYYFMQJetsp46vvb3d7Nu3z6Smpv4NO19Onz49D+V34B3gkvHjx3+IUqkHSHeUNkHLbN261TQ2NhrcAmblypVcBokGDln4k+sqiFvBKLO9O7v7MIZgvQ8fPjTr168Xe7yTKysrzYYNG6QOH8WKEKUDkoJWSvPz883NmzfFGI1WVFT4586d67tx4wbvUEZDgNlAUX06UrDQlqiWl5f7161bpza7sCp+XIsE+q0NkvtUSIVlWVlZ5sGDB1w7CZP96pD9RBh+v1+iRPl5iUB1cvv37zdbtmxRU/6GhgYC9EydOjXVxhZa2cLCQp7qbTU1NVSWvXThwgUJ+71798QAwQ0UESCBkg4ePGjOnDmjpn32mfq1DVAvAOvTmTNncuM7KLZt22ZOnz4tA93gNAJuJ2q9r1KX2D1e9flG7OzsZNV39OhRBoZ5QIrX5R0+adIkKyEhgUpWTEyMhWPEQjZbrONFIiVHxMaG84l6qs++vsg9jnocp2MnTpxo+Xy8eCyLzzKQlx9QjAL8FxGRBjrFOWbxwFVSQ6xfvHjRqqqqkq7s7GwrPZ2XRv907tw5C49UC+ehlZeXJ0AUJN6JfCvSSMzVq1dZVvIDYjSF3p02bVoAhyzGmOChQ4cMD1uphI4VkcvKymRfzpkzx+Tm5orMJemuJw346D7bs2eP6HJ/paWlmfnz5zuJogkDXT8mbsaNG8ezV0lOFz1iqplF2IdenoHqVJ3U1dWJE5ZKBw4cMJi57h/HqY5liaUzGzduNIiMDKM9HmWHDx+WOvtJSEY/UNHHZzY6J0F0mXNmzJghaY8ZS4rRmM5w4cKFZvPmzWJM21jBmSkgpCPKRyfILk02XoNuwOgK3L1714wcOfJ+cnLymzbA8GZHg9y/o0aN+gKy2bFjB+3JgUyBhL0XESmCdAMNaUX/Uk+Buse42v28z+G7xgbHQlZWUfIVEd/a2vozyl8wGyr4mTBKTAbNarZrH5yoSp+l6rPENJwMtgfxgqB4kx/sVeIi4PADAbKiaaytrbUwYwFBY6QoRqWfx0dfINnnnhBtda/TPILDrr/4sQFSjCBZ5rFjx36CVg5w9mH0hQtnqfZzGbsz+5gIiJCqOSWXGIQiGMQPKEbiPRuRYIlAh4pEcOfOna9AvmJnsl/3jmM1ZFGqe/fuNUwePr9sZ241kW/dumWYfBUVFVJ369m2vZcvXya4P1yAdDWdZdU+ZrQ/Pj5+OTKuCBvXi6xKgCG5TVQJnmSZ+HKurq628KiwhgwZYuFNx19uIrOPh25zc7PcSpMnT9bhUto2CMysWLEidu3atR9DPg5m9Hp9WQtyDGb55/LlyzlrDz96RFCORoxUfX294SHPBwAP3ZaWlv6y12PfvfwpSoq6tKGu8FeUFi1alIKmu0VFRXRCkM4DVQFyuaJtAe3X0q1jy9x8Hvt5dTTsuseKuroiRTm8FyxY8BaaWwoKCpg0NOo8WOnIvZ8ULNvdzHbts/VpI3DkyBHZd1OmTNFffnrkRSLpoyYgN23axJ+T/H1itm/fbtra2giUL2E+zeAzFEUF1b1OHZsJzMebB3uO4Da6fD/V0rr0HdEZOHr0aP6aO4iflvJ7hfvL45HtyeNInPdSBvgD69KlS/K/DGzUg3McD5Fnsas5JDrp3KMn3MDQU08z633IvNBzZ82alZ6TkxM3ZswYC/8qSPbiTSlvO2bxnTt3rPPnz1tYzq5du3bVYswP4DIwiZPnNcRo9kpPA1AHRxhEtGJxI7yNznfAb4GTwa+C+SrxgB+D74GvgvnTVa4KlCQ5zkLiwH8JVPbnM5pmMDjuWYLybMrdANGRLj9lg4x0VPB6ViBcQi4l+ZnpP8ZJaQD2wM13AAAAAElFTkSuQmCC",j="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAAAlwSFlzAAALEwAACxMBAJqcGAAAAVlpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDUuNC4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KTMInWQAACPtJREFUWAm9WHtQVscVX+DjIVAzRqStVAnUCc7UBx2jKEarFeNYJrHVxvQPtSPTaDL1UbWVf4IZJ6Rm1DQdH4Dji1oZJ1BHJiMyU3V8iw98piWjOID4accCWhEEvtf299vvnpvL55c0NDFn5tzdPXvuOb89u3t2741S3xxFwpQOMedCO8Li0L4Q1fDNqPDi/0tKABPAueDvgJvAATDlZIJl+1snGeS7hYWFurm5WR8/fpyADoAnDBw48Kcon7dQMZrfKnFaSemLFy/2eb1eDfKA/Xv37iVIz7Bhw5pRPgS/Ayb1CaQ4CL7a96e8nzJy5Mgol8tFcJR509LSaK3q1q1bQ1G+Al4J/i1YphvVZ08SjWi4ulpbW6v9fr9ub2/Xq1atIpA8B4SFqLsdbXnXIXo2VYni92D+L7Nnz67PzMysQ/0PlrsEq5yKsgecbLXlPav5bAunM0bT2RbPFajclQbKrxRBbv2vQ3QiTGDc0d2WwYyoqKiXMeU/QjsX/KJVspt6flaeBREQB/aFg0tISFiHfq7BO+A94DXg4WBSuOgGe/r4lMiwJAmwYAvP8vJyRuIF8I/BWeAM8K8TExP1uHHjlqAeSn0GJ86dhiijY59DSBkjIpSDyq/Ak5DnhmRkZPSLiYlRHo9H1dfXq5s3b/LEYOSqwWfBbjCJdmmHLL6lDdH/pl4jnD9/PnegMTRmzJh41N8AX1i3bp0+c+aMOTUePnyonzx5oru6ukz54MED3dTUFGDK2b59u54+ffp/8A43SDb4i4jLpZfvcIocndq2bRsX++/B58HNo0aNuobyOOtlZWWaAHhSgJmUfVY9gNLJaGoeKz4CJ9gFCxYwUh/NnDlzUF5eHs/q1NGjR6dAx7mWDQb0PUUGfVpa2nfRc3nLli26rq5Ot7S0mIS7cOFCfffuXTolIG8AxIRMRvUpdvZB3wyGx+ChQ4cIksfeHZw8T1C2g2+ANyKxJ6EkOQEbgawFNs6eOnWKQLoI5NixYz6ANaAsR+zrE3EAPh9NmAh7b9y4YdYcwfLEuXbtml67di1l/544ceJLBlEISEE8d+PGjTTUw8fly5fNGmKdREO7S0t1SXGxbmxsNDI6D0fhouoA6r99+7YfuzzgdrsZXaLvqqysJMhHOIlSLZD2dAvATQQB8j5+/FgfOXKEde3H6N/98E9m1HhRl1X8TePaYvr68pDBWNHUV69e1XPnzpXo0lQ31j/9/N0CaM+sAPywoaGBit5Hjx7p7u5u1vWf8VIBgLXMytRtLytd9MbPdSumhiROTcN6EEBra6tua2vTbbBD7sRGcZKAPHDggL548aJ0BZARfKmpqQQ5zQJpsHHXkt68dOkSlb1c5CT3/fv6nQFK658laT0jTutf/FDXAGz1yZOmX/TYELAE99prs7RK7K/fnjRBr/pJtn4le4KutmaEeqLLINTU1Dhtebdu3UqA7xtESkVz98qZ+MmJEyfaOjo6XPRHhY6ubpXCPRfTX3l8OGIjY+2Dlv1OioiIwEi0wg1a5b7+utrV0a6K4j9VfwycVWUdNaokJ0fVNzQq0aNubGysGjt2rNOMQgTZlhu4uVwSDEN5f+XKlQeLiooUDnkDMD1lsGpc9Ka6U9mgYp4fodpq61T5iylqzIgRNGKcmUrIw9fToyZRlvADFRkXp5KGj1K/Q/OzxkZbk0CFsKRUZGQwT/fgXVCL1RcRmr1PiiKmQUW7XOrtgjXqg1mvqo8q/qHyM3LUW5WH1aABAxT7nU5okFEhJSUPUvdZiU1Urujn0BFQhDZk8Pcp7UW0cf78eYU8SXnEuXPnWPKQIAUNoiIbJWfDhg3wY5KrScZsdOAo+6yxyZRsyxpi3UmyJpvdbp0J43Cl3SOU3oVyzXvv2aryvujv27ePOdHbgE0KLLeQfwVPhFQEaSfDDWJkNaPJSCX066eGv5BKuWlLlI3A8aAcKNSQlBT117o6tau8QrW3tqiX8ser/DmzjSb7QyMfHR0dQOJ2VVfzbqHyp06dyosKsdkXFpnq1Dlz5nRiHXC0fhkpS45W2uwMJfYLO/UwDbaqU06hFcHAzp07GSDyW2CS4Am28Px8xeK2cu/ePb5vpxs2BKQADQeGekLMdQJI3pG+kNKzevVqgiu00Mis2uCkIh0reOyAPGJYHIUYtpsEw3zG0wf3QVv+Ze9JHy4knEYdFxc3xQIiOEzTGUqTWiDdWVhY+K/Ozs5orCk/1wsZJ4PC4lWlpaWquLhY7dmzR+G4MmsOacno4K+CKigoUMuWLTP6fA9oLb+9C0seuHDhAs/c1hUrVnxqaUhe7v2C1RL0vykpKWEkvACqef3Kzc01lwekAXOOHjx4UCcnJ+vly5ebyyqVhfApoK1bkawz6TKlRA93xZ5p06ZxBFst//YFISw6CLkWZT1WVVRU6Hnz5nkJkBeIUOJNeujQoXr37t2my/r1YasJEFuACmVcOiAf34O/9iVLlgy2ADln1BI9XUgUs9DFaNnbUDYGSwGDJKsnT55s30ocAAjCJsrlkgChl+uV9sePHx/MP5/n4qcROSQSPYqqeKsGwW5wR9IJ2RKakjpZWVnaSk12PztF34oYRUxdPfv37zfg0tPT8yzfEhQHlPBVUfzl+vXradBH4+KIAhCaBiWRBjZt2qQxRabDGWEHKOrxAum5fv26XrRoEcHdw6Cm9xUc9WUNfCxXL2sqjROsOa/cE4nx6NGj3Pk+7F4CcDI/qNj28/p1+vRpjV1KYA/A72NQ/VGSJCDBVpinU4HTK6kmAxGgug+/1Fhyd7mqqqoU/vup7OxsP/Jd5I4dOyLwQRXFFITdblINloPiccmUc+XKFYVPz25cRPll+PHSpUv3bt68uYVpiPbA9lFGQThyrjn2EwiRfTBjxox8TJ2Kj483H+OHDx8+hbVThr5acCfYNWXKlCT8TU1FndcU/t3i5yQjxa81N5hfbP8EN4GFCIyBkGCIPGwZCpBtOiC9CuY64c+gT8CnwV+H+gRMHIUCpNwJUvR4IuBgMLef0JFTP9w7IqM+By0Dt21+lQqNhCPKJauzTidfegSFM/JNyP4LuTh8ZaAXiQ4AAAAASUVORK5CYII=",g=n("./src/chat/strings/index.ts"),O=d()(function(e){return a()("span",{className:e.className},void 0,e.children)}).withConfig({componentId:"s1si2hm2-0"})(["","background-color: ",";color: ",";height: ",";transition: height 0.3s;position: absolute;width: calc(100% - 2em);display: flex;align-items: center;padding: 0 1em;top: 100%;left: 0;z-index: 1;overflow: hidden;"],b.a.titleFontH6,function(e){var t=function(e){switch(e){case h.a.ConnectionClosed:case h.a.ConnectionPending:return"pending";default:return"success"}}(e.toast);return e.theme.toast[t]},function(e){return e.theme.activity.text.highlight},function(e){return e.toast?"2.5em":"0"}),x=d.a.span.withConfig({componentId:"s1si2hm2-1"})(["padding-top: 2px;padding-left: .5em;"]),y=d.a.img.withConfig({componentId:"s1si2hm2-2"})(["height: 1.5em;width: 1.5em;"]);y.displayName="SnooImg";var C=d.a.button.withConfig({componentId:"s1si2hm2-3"})(["cursor: pointer;outline: none;position: absolute;right: 1em;background: transparent;"]);C.displayName="Button";var E=d()(function(e){return s.a.createElement(m.a,p()({},e,{viewBox:"0 0 20 20"}),a()("path",{d:"M18 9a1 1 0 0 1 1 1v2c0 2.757-2.243 5-5 5H5v1.5a.5.5 0 0 1-.82.384l-3-2.5a.497.497 0 0 1 0-.768l3-2.5A.5.5 0 0 1 5 13.5V15h9c1.654 0 3-1.346 3-3v-2a1 1 0 0 1 1-1zM2 11a1 1 0 0 1-1-1V8c0-2.757 2.243-5 5-5h9V1.5a.5.5 0 0 1 .82-.384l3 2.5a.497.497 0 0 1 0 .768l-3 2.5A.5.5 0 0 1 15 6.5V5H6C4.346 5 3 6.346 3 8v2a1 1 0 0 1-1 1z"}))}).withConfig({componentId:"s1si2hm2-4"})(["height: 1.75em;width: 1.75em;fill: ",";"],function(e){return e.theme.activity.text.highlight}),_=Object(o.createStructuredSelector)({toast:function(e){return e.toast}}),I=Object(i.connect)(_),w=a()(y,{src:""+v}),k=a()(y,{src:""+j}),S=function(e){var t=e.className,n=e.toast;return a()(O,{toast:n,className:t},void 0,n&&function(e){switch(e){case h.a.ConnectionOpen:return w;case h.a.ConnectionPending:case h.a.ConnectionClosed:return k;default:return null}}(n),a()(x,{},void 0,n&&Object(g.a)("en","app.chat.toast."+n)),n&&function(e){return e===h.a.ConnectionClosed?a()(C,{onClick:l.g},void 0,a()(E,{})):null}(n))};S.displayName="ToastNotification";t.a=I(S)},"./src/chat/constants/batchSizes.ts":function(e,t,n){"use strict";var r;n.d(t,"a",function(){return r}),function(e){e[e.Channels=10]="Channels",e[e.InitChannels=50]="InitChannels",e[e.Messages=40]="Messages"}(r||(r={}))},"./src/chat/constants/keys.ts":function(e,t,n){"use strict";n.d(t,"e",function(){return r}),n.d(t,"g",function(){return a}),n.d(t,"b",function(){return c}),n.d(t,"d",function(){return s}),n.d(t,"c",function(){return i}),n.d(t,"a",function(){return o}),n.d(t,"f",function(){return u});var r="Backspace",a="Enter",c="ArrowLeft",s="ArrowUp",i="ArrowRight",o="ArrowDown",u="Delete"},"./src/chat/constants/page.ts":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r="tooltip-container"},"./src/chat/constants/sidebar.ts":function(e,t,n){"use strict";var r;n.d(t,"a",function(){return r}),function(e){e[e.SubredditChannels=0]="SubredditChannels",e[e.DirectChannels=1]="DirectChannels"}(r||(r={}))},"./src/chat/constants/toast.ts":function(e,t,n){"use strict";var r;n.d(t,"a",function(){return r}),function(e){e.ConnectionClosed="connectionClosed",e.ConnectionPending="connectionPending",e.ConnectionOpen="connectionOpen"}(r||(r={}))},"./src/chat/controls/Button/index.tsx":function(e,t,n){"use strict";var r=n("./node_modules/babel-runtime/helpers/jsx.js"),a=n.n(r),c=n("./node_modules/react/index.js"),s=n.n(c),i=n("./bundled-modules/styled-components/styled-components.min.js"),o=n.n(i),u=n("./src/chat/helpers/styles/mixins/index.tsx"),d=n("./src/chat/icons/svgs/Flag/index.tsx"),l=n("./node_modules/babel-runtime/helpers/extends.js"),h=n.n(l),b=n("./src/chat/controls/Svg/index.tsx"),f=function(e){return s.a.createElement(b.a,h()({},e,{viewBox:"0 0 16 16"}),a()("path",{d:"M12.817 7.491a.798.798 0 0 1-.234.566L9.52 11.12a.798.798 0 0 1-1.132 0l-1.13-1.132-4.292 4.291a.797.797 0 0 1-1.132 0 .8.8 0 0 1 0-1.131l4.292-4.291-1.131-1.132a.8.8 0 0 1 0-1.13L8.057 3.53c.3-.3.831-.3 1.131 0l3.395 3.394c.15.15.234.354.234.566zM3.863 6.263a.8.8 0 0 1-.566-1.366L6.36 1.834a.8.8 0 0 1 1.131 1.131L4.43 6.028a.798.798 0 0 1-.566.235zm10.417 2.36a.8.8 0 0 1 0 1.13l-3.063 3.063a.798.798 0 0 1-1.13 0 .8.8 0 0 1 0-1.131l3.061-3.062a.8.8 0 0 1 1.132 0z"}))},p=function(e){return s.a.createElement(b.a,h()({},e,{viewBox:"0 0 16 16"}),a()("path",{d:"M7.634 10.034L8.67 9H1.8a.8.8 0 1 1 0-1.6h6.869L7.634 6.366a.8.8 0 1 1 1.132-1.132l2.399 2.4a.8.8 0 0 1 0 1.132l-2.4 2.4a.798.798 0 0 1-1.13 0 .8.8 0 0 1 0-1.132zM12.2 1c1.323 0 2.4 1.077 2.4 2.4V13c0 1.323-1.077 2.4-2.4 2.4H6.6A2.403 2.403 0 0 1 4.2 13v-.8a.8.8 0 1 1 1.6 0v.8c0 .44.358.8.8.8h5.6a.8.8 0 0 0 .8-.8V3.4a.8.8 0 0 0-.8-.8H6.6a.8.8 0 0 0-.8.8v.8a.8.8 0 1 1-1.6 0v-.8C4.2 2.077 5.277 1 6.6 1h5.6z",fillRule:"evenodd"}))},m=n("./src/chat/icons/svgs/Trash/index.tsx");n.d(t,"a",function(){return E}),n.d(t,"d",function(){return _}),n.d(t,"b",function(){return w}),n.d(t,"f",function(){return k}),n.d(t,"c",function(){return S}),n.d(t,"e",function(){return N});var v=Object(i.css)(["",";vertical-align: middle;border: 1px solid transparent;box-sizing: border-box;border-radius: 4px;cursor: pointer;outline: none;text-align: center;text-transform: uppercase;text-decoration: none;white-space: nowrap;&:focus {outline: none;}"],u.a.smallButtonFont),j=Object(i.css)(["background-color: ",";border-color: ",";color: ",";svg { fill: ","};"],function(e){return e.theme.activity.button.active},function(e){return e.theme.activity.button.active},function(e){return e.theme.activity.text.highlight},function(e){return e.theme.activity.text.highlight}),g=Object(i.css)(["background-color: ",";border-color: ",";color: ",";svg { fill: ","};"],function(e){return e.theme.layout.body},function(e){return e.theme.activity.button.active},function(e){return e.theme.activity.button.active},function(e){return e.theme.activity.text.regular}),O=Object(i.css)(["background: none;border: none;padding: 0;"]),x=Object(i.css)(["","color: ",";"],O,function(e){return e.theme.activity.text.active}),y=Object(i.css)(["","color: ",";"],O,function(e){return e.theme.activity.text.fade}),C=Object(i.css)(["","color: ",";"],O,function(e){return e.theme.activity.text.warning}),E=o()(function(e){return e.href?a()("a",{href:e.href,target:"_blank",rel:"noopener noreferrer",title:e.title,className:e.className,tabIndex:0},void 0,e.children):a()("button",{type:e.type||"button",tabIndex:0,id:e.id,className:e.className,onClick:e.onClick,disabled:e.disabled,title:e.title},void 0,e.children)}).withConfig({componentId:"qs5dnm-0"})(["&[disabled] { opacity: 0.6 };display: inline-block;padding: 0.1em 0.8em;transition: background 0.3s;background: ",";height: ",";width: ",";","",";",";",";",";",";"],function(e){return e.theme.layout.body},function(e){return e.height?e.height:"auto"},function(e){return e.width?e.width:"auto"},v,function(e){return e.primary?j:""},function(e){return e.primaryNoBorder?x:""},function(e){return e.secondary?g:""},function(e){return e.secondaryNoBorder?y:""},function(e){return e.warningNoBorder?C:""}),_=o()(E).withConfig({componentId:"qs5dnm-1"})(["line-height: normal;padding: 0.1em 0.8em 0.2em;height: 100%;svg {height: 100%;vertical-align: middle;}"]),I=o.a.button.withConfig({componentId:"qs5dnm-2"})(["cursor: pointer;height: 1.25em;outline: none;vertical-align: middle;width: 1.25em;line-height: 0;background: transparent;"]),w=function(e){return s.a.createElement(I,e,a()(d.a,{}))},k=function(e){return s.a.createElement(I,e,a()(m.a,{}))},S=function(e){return s.a.createElement(I,e,a()(f,{}))},N=function(e){return s.a.createElement(I,e,a()(p,{}))}},"./src/chat/controls/ChannelNameInput/index.tsx":function(e,t,n){"use strict";var r=n("./node_modules/babel-runtime/helpers/extends.js"),a=n.n(r),c=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),s=n.n(c),i=n("./node_modules/babel-runtime/helpers/createClass.js"),o=n.n(i),u=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),d=n.n(u),l=n("./node_modules/babel-runtime/helpers/inherits.js"),h=n.n(l),b=n("./node_modules/babel-runtime/helpers/jsx.js"),f=n.n(b),p=n("./node_modules/react/index.js"),m=n.n(p),v=n("./bundled-modules/styled-components/styled-components.min.js"),j=n.n(v),g=n("./src/chat/helpers/styles/mixins/index.tsx"),O=j.a.input.withConfig({componentId:"nf2a3q-0"})(["","background: transparent;font-size: 1em;height: 2.1875em;padding-left: .78125em;outline: none;width: 100%;"],g.a.bodyFontH5),x=j()(function(e){return f()("label",{className:e.className},void 0,f()(O,{placeholder:e.placeholder,onChange:e.onChange,value:e.value}),e.children)}).withConfig({componentId:"nf2a3q-1"})(["display: flex;align-items: center;border-radius: 0.3125em;width: 100%;background: transparent;transition: all 0.3s;border: 1px solid ",";"],function(e){return e.theme.layout.colsBorder}),y=function(e){function t(){s()(this,t);var e=d()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.onChange=function(t){var n=t.currentTarget.value;e.props.handleChannelNameInput(n)},e}return h()(t,e),o()(t,[{key:"render",value:function(){return m.a.createElement(x,a()({withBackground:this.props.withBackground,onChange:this.onChange},this.props),this.props.children)}}]),t}(m.a.Component);t.a=y},"./src/chat/controls/Checkbox/index.tsx":function(e,t,n){"use strict";var r=n("./node_modules/babel-runtime/helpers/jsx.js"),a=n.n(r),c=n("./node_modules/react/index.js"),s=n.n(c),i=n("./bundled-modules/styled-components/styled-components.min.js"),o=n.n(i),u=n("./node_modules/babel-runtime/helpers/extends.js"),d=n.n(u),l=n("./src/chat/controls/Svg/index.tsx"),h=o()(function(e){return a()("circle",{className:e.className,cy:"10",cx:"10",r:"10"})}).withConfig({componentId:"s16nrt15-0"})(["fill: ",";"],function(e){return e.theme.activity.checkbox.checked}),b=o()(function(e){return a()("path",{className:e.className,d:"M8.9310375,15.1995 C8.70135,15.41825 8.38963125,15.541375 8.0647875,15.541375 C8.052975,15.541375 8.04181875,15.54075 8.03000625,15.54075 C7.69335,15.531375 7.37506875,15.39075 7.15063125,15.151375 L4.0879125,11.88075 C3.637725,11.400125 3.68169375,10.662625 4.18700625,10.23325 C4.6916625,9.805125 5.4660375,9.846375 5.91688125,10.327625 L8.115975,12.676375 L14.8550063,6.25825 C15.3327563,5.802625 16.1091,5.802625 16.5875063,6.25825 C17.0659125,6.71325 17.0659125,7.452625 16.5875063,7.907625 L8.9310375,15.1995 Z"})}).withConfig({componentId:"s16nrt15-1"})(["fill: ",";"],function(e){return e.theme.activity.checkbox.checkmark}),f=function(e){return s.a.createElement(l.a,d()({},e,{viewBox:"0 0 20 20"}),a()("g",{},void 0,a()(h,{}),a()(b,{})))},p=o()(function(e){return a()("circle",{className:e.className,cy:"10",cx:"10",r:"9"})}).withConfig({componentId:"s1m6fab-0"})(["fill: ",";stroke: ",";"],function(e){return e.theme.activity.checkbox.unchecked},function(e){return e.theme.activity.checkbox.uncheckedBorder}),m=function(e){return s.a.createElement(l.a,d()({},e,{viewBox:"0 0 20 20"}),a()("g",{},void 0,a()(p,{})))},v=n("./src/chat/helpers/styles/mixins/index.tsx"),j=o.a.input.withConfig({componentId:"s1bhhu67-0"})(["position: absolute;appearance: none;visibility: hidden;"]),g=o()(f).withConfig({componentId:"s1bhhu67-1"})(["display: none;height: 1.1em;width 1.1em;"]),O=o()(m).withConfig({componentId:"s1bhhu67-2"})(["display: inline-block;height: 1.1em;width 1.1em;"]),x=o.a.span.withConfig({componentId:"s1bhhu67-3"})(["vertical-align: middle;display: table;padding: 0 15px;"]),y=o.a.span.withConfig({componentId:"s1bhhu67-4"})(["","vertical-align: middle;display: table-cell;padding-right: 1em;max-width: 0;"],v.a.titleFontH5),C=o.a.span.withConfig({componentId:"s1bhhu67-5"})(["vertical-align: middle;display: table-cell;width: 1%;"]),E=o()(function(e){return a()("label",{className:e.className},void 0,a()(x,{},void 0,e.children?a()(y,{},void 0,e.children):null,a()(C,{},void 0,a()(j,{tabIndex:0,type:e.type||"checkbox",checked:e.checked,disabled:e.disabled,name:e.name,value:e.value,onChange:e.onChange,id:e.id}),a()(g,{}),a()(O,{}))))}).withConfig({componentId:"s1bhhu67-6"})(["height: ",";width: ",";vertical-align: middle;display: inline-block;cursor: pointer;position: relative;","{&:checked ~ {"," { display: inline-block; }"," { display: none; }}}"],function(e){return e.height?e.height:"auto"},function(e){return e.width?e.width:"auto"},j,g,O);t.a=E},"./src/chat/controls/Counter/index.tsx":function(e,t,n){"use strict";n.d(t,"a",function(){return u}),n.d(t,"b",function(){return d});var r=n("./node_modules/babel-runtime/helpers/jsx.js"),a=n.n(r),c=(n("./node_modules/react/index.js"),n("./bundled-modules/styled-components/styled-components.min.js")),s=n.n(c),i=n("./src/chat/helpers/styles/mixins/index.tsx"),o=function(e){return a()("span",{className:e.className},void 0,e.count)},u=s()(o).withConfig({componentId:"s1r6f7so-0"})(["","color: ",";font-size: 1em;padding-left: 15px;padding-right: 15px;text-align: right;"],i.a.titleFontH4,function(e){return e.count&&e.count<0?e.theme.activity.text.warning:function(e){return e.theme.activity.text.regular}});u.displayName="Counter";var d=s()(o).withConfig({componentId:"s1r6f7so-1"})(["",";background: ",";border-radius: 5em;transform: ",";color: ",";display: inline-block;font-size: 9px;font-weight: 600;height: 14px;inline-block;line-height: 14px;margin-left: 6px;min-width: 14px;padding: 0 3px;position: relative;text-align: center;box-sizing: border-box;"],i.a.bodyFontSmall,function(e){return e.theme.layout.header.counterBg},function(e){return e.count?"none":"scale(0.3)"},function(e){return e.theme.layout.header.counterText});d.displayName="UnreadCounter"},"./src/chat/controls/Overlay/index.tsx":function(e,t,n){"use strict";var r=n("./node_modules/babel-runtime/helpers/jsx.js"),a=n.n(r),c=n("./node_modules/babel-runtime/helpers/slicedToArray.js"),s=n.n(c),i=n("./node_modules/react/index.js"),o=n.n(i),u=n("./bundled-modules/styled-components/styled-components.min.js"),d=n.n(u),l=d.a.div.withConfig({componentId:"s1dmzak7-0"})(["flex: 1 1 auto;overflow-y: auto;"]),h=d()(function(e){var t=e.form?"form":"div",n=o.a.Children.toArray(e.children),r=s()(n,3),c=r[0],i=r[1],u=r[2];return a()(t,{className:e.className,onSubmit:e.onSubmit},void 0,c,e.innerContent?i:a()(l,{},void 0,i),u)}).withConfig({componentId:"s1dmzak7-1"})(["display: flex;flex-direction: column;height: 100%;width: 100%;"]);h.displayName="Overlay",t.a=h},"./src/chat/controls/OverlayControlBar/index.tsx":function(e,t,n){"use strict";var r=n("./node_modules/babel-runtime/helpers/jsx.js"),a=n.n(r),c=(n("./node_modules/react/index.js"),n("./node_modules/react-redux/es/index.js")),s=n("./node_modules/react-router-redux/es/index.js"),i=n("./bundled-modules/styled-components/styled-components.min.js"),o=n.n(i),u=n("./src/chat/controls/Button/index.tsx"),d=n("./src/chat/helpers/dom.ts"),l=n("./src/chat/helpers/styles/mixins/index.tsx"),h=n("./src/chat/strings/index.ts"),b=o()(u.a).withConfig({componentId:"n1sg2r-0"})(["margin: 0 4px;min-width: 6.328em;",""],l.b),f=Object(c.connect)(void 0,function(e){return{onSubmit:function(){},onCancel:Object(d.b)(function(){return e(Object(s.a)())})}}),p=o()(f(function(e){return a()("div",{className:e.className},void 0,!e.primaryButtonOnly&&a()(b,{onClick:e.secondaryButtonAction||e.onCancel,primary:!!e.secondaryButtonOnly,secondary:!e.secondaryButtonOnly},void 0,e.secondaryButtonText),!e.secondaryButtonOnly&&a()(b,{type:"submit",primary:!0,onClick:e.primaryButtonAction||e.onSubmit,disabled:e.primaryButtonDisabled},void 0,e.primaryButtonText))})).withConfig({componentId:"n1sg2r-1"})(["background: ",";border-top: 1px solid ",";display: flex;flex: 0 0 auto;justify-content: ",";padding: 0.375em 0.750em;"],function(e){return e.theme.layout.body},function(e){return e.theme.layout.colsBorder},function(e){return e.primaryButtonOnly?"center":"flex-end"});p.defaultProps={primaryButtonText:Object(h.a)("en","app.button.submit"),secondaryButtonText:Object(h.a)("en","app.button.cancel")},p.displayName="OverlayControlBar",t.a=p},"./src/chat/controls/OverlayHeader/index.tsx":function(e,t,n){"use strict";var r=n("./node_modules/babel-runtime/helpers/jsx.js"),a=n.n(r),c=(n("./node_modules/react/index.js"),n("./bundled-modules/styled-components/styled-components.min.js")),s=n.n(c),i=n("./src/chat/components/ToastNotification/index.tsx"),o=n("./src/chat/helpers/styles/mixins/index.tsx"),u=s.a.header.withConfig({componentId:"ajgokq-0"})(["align-items: center;border-bottom: 1px solid ",";display: flex;min-height: 1.6875em;padding: 0 .625em;position: relative;"],function(e){return e.theme.layout.colsBorder}),d=s.a.h1.withConfig({componentId:"ajgokq-1"})(["",";font-weight: bold;"],o.a.titleFontH5),l="\n  font-size: 0.75em;\n  padding-left: 0.6875em;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n",h=s.a.span.withConfig({componentId:"ajgokq-2"})(["",""],l),b=s.a.span.withConfig({componentId:"ajgokq-3"})(["","color: ",";"],l,function(e){return e.theme.activity.text.warning});t.a=function(e){var t=e.message,n=e.title,r=e.warning?b:h;return a()(u,{},void 0,a()(d,{},void 0,n),a()(r,{},void 0,t),a()(i.a,{}))}},"./src/chat/controls/Svg/index.tsx":function(e,t,n){"use strict";var r=n("./node_modules/babel-runtime/helpers/jsx.js"),a=n.n(r),c=(n("./node_modules/react/index.js"),n("./bundled-modules/styled-components/styled-components.min.js")),s=n.n(c);t.a=s()(function(e){return a()("svg",{className:e.className,viewBox:e.viewBox},void 0,e.children)}).withConfig({componentId:"unllzc-0"})(["height: ",";width: ",";vertical-align: middle;transition: all 0.2s;fill: ",";",";"],function(e){return e.height?e.height:"100%"},function(e){return e.width?e.width:"100%"},function(e){return e.disable?e.theme.activity.icon.disable:e.active?e.theme.activity.icon.active:e.hover?e.theme.activity.icon.hover:e.theme.activity.icon.default},function(e){return!1!==e.hover?"&:hover {\n        fill: "+function(e){return e.disable?e.theme.activity.icon.disable:e.theme.activity.icon.hover}+";\n    };":""})},"./src/chat/customMiddleware/containerSize.ts":function(e,t,n){"use strict";var r=n("./node_modules/lodash/once.js"),a=n.n(r),c=n("./src/chat/actions/container.ts"),s=n("./src/chat/constants/container.ts"),i=n("./src/chat/customMiddleware/noop.ts"),o=n("./src/chat/selectors/app.ts"),u=n("./src/lib/cache/index.ts"),d=n("./src/lib/constants/index.ts"),l=n("./src/lib/messageIframeParent/index.ts"),h=s.a.HIDDEN,b=s.a.HIDDEN,f=function(e){return e&&s.b[e]&&e!==s.a.FULL&&e||h||b},p=void 0,m=function(e){return Object(l.a)({type:"resize.chat",data:{size:e,dimensions:s.b[e]}})},v=a()(function(e){var t=e.getState(),n=Object(o.d)(t),r=void 0;r=t.meta.isRedesign?b:n?h:s.a.FULL,e.dispatch(Object(c.c)(r)),m(r)});t.a=function(e){if("undefined"==typeof window)return i.a;var t=e.getState(),n=t.user.account,r=n&&n.id||"unknown";return p=Object(u.c)(d.o.CHAT,"container",r),Object(o.b)(t)||v(e),window.addEventListener("storage",function(e){e.key}),function(e){return function(t){var n=e(t);switch(t.type){case c.a:var r=f(t.payload);!function(e){Object(u.d)(p,e,u.a)}(r),m(r)}return n}}}},"./src/chat/customMiddleware/heartbeat.ts":function(e,t,n){"use strict";var r=n("./src/chat/constants/container.ts"),a=n("./src/chat/tracking/sendEvent.ts"),c=n("./src/telemetry/models/Event.ts"),s=n("./src/chat/tracking/fields/common.ts"),i=function(e){Object(a.a)(Object.assign({noun:"timing",source:c.b.Global,action:c.a.Heartbeat},Object(s.a)(e)))},o=n("./src/lib/constants/index.ts");t.a=function(e){var t=e.getState();i(t);return function e(){setTimeout(function(){var n=t.container.size;n!==r.a.EMBED&&n!==r.a.FULL||!document.hasFocus()||i(t),e()},30*o.nb)}(),function(n){return function(r){var a=n(r);return t=e.getState(),a}}}},"./src/chat/customMiddleware/iframeDispatcher.ts":function(e,t,n){"use strict";var r,a=n("./node_modules/lodash/once.js"),c=n.n(a),s=n("./node_modules/react-router-redux/es/index.js"),i=n("./node_modules/url/url.js"),o=n("./src/lib/constants/index.ts"),u=n("./src/lib/messageIframeParent/index.ts"),d=n("./src/chat/actions/channel.ts"),l=n("./src/chat/actions/container.ts"),h=n("./src/chat/actions/message/unreadCount.ts"),b=n("./src/chat/actions/promo.ts"),f=n("./src/chat/constants/container.ts"),p=n("./src/chat/customMiddleware/noop.ts"),m=n("./src/chat/helpers/unreadCount.ts"),v=n("./src/chat/helpers/urls/index.ts"),j=n("./src/chat/selectors/promos.ts"),g=n("./src/chat/tracking/events/platform.ts");!function(e){e.Navigate="navigate.chat",e.Websocket="websocket.chat",e.Expand="expand.chat",e.UnreadCount="unreadCount.chat"}(r||(r={}));var O=c()(function(e){window.addEventListener("message",function(t){var n=function(e){try{return JSON.parse(e.data)}catch(e){return}}(t);if(n)switch(n.type){case r.Navigate:var a=Object(i.parse)(n.data.href).pathname||v.i;e.dispatch(Object(s.b)(a)),e.dispatch(Object(l.c)(f.a.EMBED));break;case r.Websocket:e.dispatch(Object(h.b)());break;case r.Expand:var c=e.getState();e.dispatch(Object(l.c)(f.a.EMBED));var u=c.platform.currentPage;u&&u.meta&&u.meta.name===o.ib.CHAT_MINIMIZE&&e.dispatch(Object(d.P)());var b=n.data.telemetry,p=b.action,m=b.noun,j=b.source;Object(g.a)(c,m,j,p)}})});t.a=function(e){return"undefined"==typeof window?p.a:(O(e),function(t){return function(n){switch(n.type){case b.b:case h.a:var a=Object(j.b)(e.getState()),c=Object.assign({},n.payload),s=Object(m.a)(c,a),i=s.unread,o=s.count;Object(u.a)({type:r.UnreadCount,data:{unread:i,count:o}})}return t(n)}})}},"./src/chat/customMiddleware/loggedOutPreferencesSync.ts":function(e,t,n){"use strict";var r=n("./node_modules/js-cookie/src/js.cookie.js"),a=n.n(r),c=n("./node_modules/lodash/pick.js"),s=n.n(c),i=n("./src/config.ts"),o=n("./src/chat/actions/theme.ts"),u=new Set([o.a]);t.a=function(e){return function(t){return function(n){var r=t(n);if(u.has(n.type)){var c=e.getState().user,o={prefs:s()(c.prefs,["layout","globalTheme"]),language:c.language};a.a.set("USER",btoa(JSON.stringify(o)),{domain:i.a.cookieDomain})}return r}}}},"./src/chat/customMiddleware/noop.ts":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(e){return function(t){return e(t)}}},"./src/chat/customMiddleware/sendbirdToken.ts":function(e,t,n){"use strict";var r=n("./node_modules/babel-runtime/regenerator/index.js"),a=n.n(r),c=n("./node_modules/babel-runtime/helpers/asyncToGenerator.js"),s=n.n(c),i=n("./node_modules/lodash/defer.js"),o=n.n(i),u=n("./src/lib/constants/index.ts"),d=n("./src/chat/actions/channel.ts"),l=n("./src/chat/actions/container.ts"),h=n("./src/chat/actions/message/unreadCount.ts"),b=n("./src/chat/actions/platform.ts"),f=n("./src/chat/actions/sendbird/index.ts"),p=n("./src/chat/actions/sendbird/config.ts"),m=n("./src/chat/actions/sendbird/sdk.ts"),v=n("./src/chat/actions/session.ts"),j=n("./src/chat/constants/container.ts"),g=n("./src/chat/constants/sendbird.ts"),O=n("./src/chat/customMiddleware/noop.ts"),x=n("./src/chat/selectors/platform.ts"),y=n("./src/chat/selectors/sendbird.ts"),C=function(e,t){var n=t&&t.type===l.a?t.payload:e.container.size,r=n===j.a.MINIMIZED||n===j.a.HIDDEN,a=t&&t.type===b.a?t.payload&&t.payload.routeMatch&&t.payload.routeMatch.route.meta.name===u.ib.CHAT_MINIMIZE:e.platform.currentPage&&e.platform.currentPage.meta&&e.platform.currentPage.meta.name===u.ib.CHAT_MINIMIZE;return!r&&a};t.a=function(e){if("undefined"==typeof window)return O.a;var t=void 0,n=function(){var n=e.getState().sendbird.session;n.expires&&n.active?function(n){var r=new Date,a=new Date(n.expires||0),c=Math.floor(.9*(a.getTime()-r.getTime()));t=setTimeout(function(){e.dispatch(Object(f.m)())},c)}(n):o()(function(){return e.dispatch(Object(f.m)())})};Object(x.a)(e.getState())===u.ib.CHAT_MINIMIZE?o()(s()(a.a.mark(function t(){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!C(e.getState())){t.next=4;break}n(),t.next=9;break;case 4:return t.next=6,e.dispatch(Object(f.m)(!1));case 6:if(!e.getState().sendbird.session.token){t.next=9;break}return t.next=9,e.dispatch(Object(h.b)());case 9:case"end":return t.stop()}},t,void 0)}))):n();var r=void 0;return function(c){return function(i){var h=e.getState(),O=Object(y.b)(h)===g.b.Closed,x=Object(y.e)(h);switch(i.type){case l.a:if(!i.payload)break;var E=i.payload!==j.a.MINIMIZED&&i.payload!==j.a.HIDDEN;E&&(clearTimeout(r),r=null),O&&E&&!x&&n(),!x||i.payload!==j.a.HIDDEN&&i.payload!==j.a.MINIMIZED||(r=setTimeout(function(){e.dispatch(Object(m.f)())},10*u.Da));break;case b.a:var _=C(h,i);O&&_?n():_&&e.dispatch(Object(d.P)());break;case f.h:if(!i.payload)break;if(!i.payload.active)break;o()(s()(a.a.mark(function t(){var n;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.dispatch(Object(p.d)());case 2:if(!i.payload||!i.payload.token){t.next=6;break}return n=i.payload.token,t.next=6,e.dispatch(Object(m.e)(n));case 6:case"end":return t.stop()}},t,void 0)})));break;case v.b:e.dispatch(Object(m.f)()),clearTimeout(t),clearTimeout(r),t=null,r=null}return c(i)}}}},"./src/chat/customMiddleware/title.ts":function(e,t,n){"use strict";var r=n("./src/chat/actions/message/unreadCount.ts"),a=n("./src/chat/customMiddleware/noop.ts");t.a=function(){var e="undefined"!=typeof window;if(!e)return a.a;var t=window.document.title;return function(n){return function(a){var c=n(a);switch(a.type){case r.a:var s=a.payload,i=s.basicChannelCount,o=s.subredditChannelCount;e&&(window.document.title=i>0?"("+i+") "+t:o>0?"(*) "+t:t)}return c}}}},"./src/chat/customMiddleware/tokenRefresher.ts":function(e,t,n){"use strict";var r=n("./node_modules/lodash/throttle.js"),a=n.n(r),c=n("./src/lib/constants/index.ts"),s=n("./src/chat/actions/channel.ts"),i=n("./src/chat/actions/session.ts"),o=n("./src/chat/helpers/errors.ts"),u=5*c.Da;t.a=function(e){var t=a()(function(){e.dispatch(Object(i.d)())},u),n=void 0,r=void 0,c=function(){var n=e.getState().user.session;if(n&&r){var a=new Date(n.expires),c=r+Math.floor(.8*(a.getTime()-r));Date.now()>c&&t&&t()}},d=function(e){r=Date.now();var a=new Date(e.expires).getTime()-r,c=.8+.1*Math.random(),s=Math.min(Math.floor(c*e.expiresIn*1e3),Math.floor(c*a));n=setTimeout(t,s)},l=e.getState();l.user.session&&d(l.user.session);try{window.parent.addEventListener("focus",c),window.parent.addEventListener("touchend",c),document.body.addEventListener("mouseenter",c)}catch(e){Object(o.b)("Token Refresher Error: "+e)}return function(e){return function(t){return t.type!==i.a&&t.type!==i.c||d(t.payload),t.type===s.w&&c(),t.type===i.b&&(clearTimeout(n),n=null),e(t)}}}},"./src/chat/customMiddleware/tracking.ts":function(e,t,n){"use strict";var r=n("./node_modules/lodash/once.js"),a=n.n(r),c=n("./src/lib/logs/timing.js"),s=n("./src/chat/actions/channel.ts"),i=n("./src/chat/actions/message/index.ts"),o=n("./src/chat/actions/platform.ts"),u=n("./src/chat/actions/sendbird/index.ts"),d=n("./src/chat/actions/sidebar.ts"),l=n("./src/chat/constants/channels.ts"),h=n("./src/chat/constants/sidebar.ts"),b=n("./src/chat/selectors/channels.ts"),f=n("./src/chat/selectors/platform.ts"),p=n("./src/chat/tracking/sendEvent.ts"),m=n("./src/telemetry/models/Event.ts"),v=n("./src/telemetry/models/Timer.ts"),j=n("./src/chat/tracking/fields/chat.ts"),g=n("./src/chat/tracking/fields/common.ts"),O=function(e){return{type:e}},x=function(e){return{millis:e}},y=n("./src/chat/tracking/events/chatPreview.ts"),C=n("./src/chat/tracking/events/chatView.ts"),E=n("./src/chat/tracking/events/contactsList.ts"),_=n("./src/chat/tracking/events/invitationInbox.ts"),I=n("./src/chat/tracking/events/messagesInbox.ts"),w=a()(function(e,t){return function(e,t){Object(p.a)(Object.assign({noun:"inbox_new",source:m.b.ChatPerformance,action:m.a.Load,chat:Object.assign({},Object(j.n)(e),Object(j.p)(e)),timer:Object.assign({},O(v.TimerType.ChatLoadInboxNew),x(t))},Object(g.a)(e)))}(e,function(e){return Date.now()-e}(t))}),k=a()(function(e){return Object(f.d)(e)&&S(e)}),S=function(e){e.sidebarTabs.activeIndex===h.a.DirectChannels?Object(I.e)(e):Object(I.f)(e)},N=Object(c.d)(function(e,t,n){Object(b.K)(e)?function(e,t){Object(p.a)(Object.assign({noun:"channel_cached",source:m.b.ChatPerformance,action:m.a.Load,chat:Object.assign({},Object(j.g)(e)),timer:Object.assign({},O(v.TimerType.ChatLoadChannelCached),x(t))},Object(g.a)(e)))}(t,n):function(e,t){Object(p.a)(Object.assign({noun:"channel_new",source:m.b.ChatPerformance,action:m.a.Load,chat:Object.assign({},Object(j.g)(e)),timer:Object.assign({},O(v.TimerType.ChatLoadChannelNew),x(t))},Object(g.a)(e)))}(t,n)}),A=function(e){Object(f.c)(e)===l.a.CREATE&&Object(E.g)(e)};t.a=function(e){return function(t){return function(n){return function(r){var a=n(r),c=t.getState();switch(r.type){case o.a:w(c,e),A(c);break;case s.p:N(c,!0);break;case s.r:A(c),k(c);break;case s.q:w(c,e),function(e){Object(f.c)(e)===l.a.VIEW_INVITE&&Object(_.g)(e)}(c),function(e){Object(f.g)(e)&&Object(C.c)(e)}(c),N(c),function(e){Object(f.c)(e)===l.a.VIEW_JOIN&&Object(y.b)(e)}(c);break;case i.k:case u.c:w(c,e);break;case d.b:S(c)}return a}}}}},"./src/chat/customMiddleware/unreadMessageCount.ts":function(e,t,n){"use strict";var r=n("./node_modules/lodash/debounce.js"),a=n.n(r),c=n("./src/chat/actions/message/unreadCount.ts"),s=n("./src/chat/customMiddleware/noop.ts"),i=n("./src/lib/cache/index.ts"),o=n("./src/lib/constants/index.ts"),u=void 0,d=void 0,l=a()(function(e){Object(i.d)(u,e,5*o.Da)},5*o.nb,{leading:!1,trailing:!0}),h=void 0,b=function(){h&&clearInterval(h),h=setInterval(function(){void 0===Object(i.b)(u)&&Object(c.b)()},5*o.Da)};t.a=function(e){if("undefined"==typeof window)return s.a;var t=e.getState(),n=t.user.account,r=n&&n.id||"unknown";u=Object(i.c)(o.o.CHAT,"unread_message_count",r),l(t.messages.unread.basicChannelCount),b();try{window.parent.addEventListener("focus",b)}catch(e){}return function(e){return function(t){var n=e(t);switch(t.type){case c.a:var r=t.payload.basicChannelCount;r!==d&&l(r)}return n}}}},"./src/chat/endpoints/accounts/index.ts":function(e,t,n){"use strict";n.d(t,"c",function(){return h}),n.d(t,"a",function(){return b}),n.d(t,"b",function(){return f});var r,a,c,s=n("./node_modules/babel-runtime/regenerator/index.js"),i=n.n(s),o=n("./node_modules/babel-runtime/helpers/asyncToGenerator.js"),u=n.n(o),d=n("./src/lib/constants/index.ts"),l=n("./src/lib/makeApiRequest/index.ts"),h=(r=u()(i.a.mark(function e(t){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(l.b)(t,{endpoint:t.apiUrl+"/api/v1/me",method:d.Ca.GET,data:{raw_json:1}}));case 1:case"end":return e.stop()}},e,void 0)})),function(e){return r.apply(this,arguments)}),b=(a=u()(i.a.mark(function e(t,n){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(l.b)(t,{data:{account_id:n,raw_json:1},endpoint:t.apiUrl+"/api/block_user",method:d.Ca.POST}));case 1:case"end":return e.stop()}},e,void 0)})),function(e,t){return a.apply(this,arguments)}),f=(c=u()(i.a.mark(function e(t,n){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(l.b)(t,{endpoint:t.apiUrl+"/user/"+n+"/about",method:d.Ca.GET,data:{raw_json:1}}));case 1:case"end":return e.stop()}},e,void 0)})),function(e,t){return c.apply(this,arguments)})},"./src/chat/helpers/dom.ts":function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return a});var r=function(e){return function(t){if(t.preventDefault(),e&&"function"==typeof e)return e(t)}},a=function(e){return function(t){if(t.preventDefault(),t.stopPropagation(),e&&"function"==typeof e)return e(t)}}},"./src/chat/helpers/linkParser/index.ts":function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"c",function(){return i});var r=n("./src/lib/linkMatchers/index.ts"),a=function(e){return!!r.c.test(e)},c=function(e,t,n){var r=[],a=0;return t.forEach(function(t){var c=t.index,s=t.lastIndex,i=t.text,o=t.url,u=t.schema,d="mailto:"===u?"_self":"_blank";r.push(e.substring(a,c)),r.push(n(o,i,d,u)),a=s}),r.push(e.substring(a,e.length)),r},s=/^(((file|https?|ftps?):)?\/|mailto:)/i,i=function(e){return void 0===e?e:e.match(s)?e:"#"};t.a=function(e,t,n){var a=Object(r.a)(e,t);return a&&a.length?c(e,a,n):e}},"./src/chat/helpers/styles/components/index.tsx":function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"c",function(){return u}),n.d(t,"a",function(){return h});var r=n("./node_modules/babel-runtime/helpers/jsx.js"),a=n.n(r),c=(n("./node_modules/react/index.js"),n("./bundled-modules/styled-components/styled-components.min.js")),s=n.n(c),i=n("./src/chat/helpers/styles/mixins/index.tsx"),o=s.a.h2.withConfig({componentId:"tfcdf4-0"})(["",";padding: 0;margin: 0;"],i.a.titleFontH4),u=s.a.p.withConfig({componentId:"tfcdf4-1"})(["",";padding: 0;margin: 0;"],i.a.titleFontH5),d=s.a.div.withConfig({componentId:"tfcdf4-2"})(["display: table;width: 100%;height: 100%;"]),l=s.a.div.withConfig({componentId:"tfcdf4-3"})(["display: table-cell;vertical-align: middle;text-align: center;"]),h=function(e){return a()(d,{className:e.className},void 0,a()(l,{},void 0,e.children))}},"./src/chat/helpers/styles/functions/index.tsx":function(e,t,n){"use strict";function r(){return"transition: "+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all")+" "+(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0.2s")+";"}n.d(t,"a",function(){return r})},"./src/chat/helpers/styles/mixins/index.tsx":function(e,t,n){"use strict";n.d(t,"a",function(){return d}),n.d(t,"b",function(){return l}),n.d(t,"c",function(){return h}),n.d(t,"d",function(){return b}),n.d(t,"f",function(){return f}),n.d(t,"g",function(){return p}),n.d(t,"e",function(){return m});var r=n("./node_modules/lodash/omit.js"),a=n.n(r),c=n("./bundled-modules/styled-components/styled-components.min.js"),s=n("./src/reddit/helpers/styles/mixins/fonts.tsx"),i=n("./src/chat/helpers/styles/functions/index.tsx"),o=Object(c.css)(["color: ",";",";-moz-osx-font-smoothing: grayscale;"],function(e){return e.theme.activity.text.regular},Object(i.a)("color")),u=a()(s,["BODY_FONT_FAMILY","CODE_FONT_FAMILY"]);var d=function(e){for(var t in e)e[t]=Object(c.css)(["","",""],o,e[t]);return e}(Object.assign({},u,{usernameFont:"\n    font-size: 13px;\n    line-height: 15px;\n  "})),l=Object(c.css)(["outline: none;&:focus {box-shadow: 0 0 3px 1px ",";}"],function(e){return e.theme.activity.input.focusBg}),h=Object(c.css)(["color: ",";"],function(e){return e.theme.activity.link.staticText}),b=Object(c.css)(["",";",";cursor: pointer;border-bottom: 1px solid ",";&:hover{color: ",";border-bottom: 1px solid ",";}"],h,Object(i.a)(),function(e){return e.theme.activity.link.staticUnderline},function(e){return e.theme.activity.link.hoverText},function(e){return e.theme.activity.link.hoverText}),f=Object(c.css)(["word-break: break-all;line-break: strict;overflow-wrap: break-word;word-break: break-word;word-break: break-all;word-wrap: break-word;hyphens: auto;"]),p=Object(c.css)(["display: inline-block;overflow-wrap: break-word;word-wrap: break-word;a {","}"],f),m=Object(c.css)(["width: 2em;height: 2em;padding: 0;box-sizing: content-box;border: 0;transition: background 0.3s;"])},"./src/chat/icons/Loader/index.tsx":function(e,t,n){"use strict";var r=n("./node_modules/babel-runtime/helpers/jsx.js"),a=n.n(r),c=n("./src/config.ts"),s=(n("./node_modules/react/index.js"),n("./node_modules/react-redux/es/index.js")),i=n("./node_modules/reselect/lib/index.js"),o=n("./bundled-modules/styled-components/styled-components.min.js"),u=n.n(o),d=n("./src/chat/constants/theme.ts").b.REDDIT,l=u.a.div.withConfig({componentId:"s19ftv2p-0"})(['position: absolute;display: inline-block;text-align: center;width: 10%;top: 50%;left: 50%;margin-left: -20px;margin-top: -20px;:after {content: "";display: block;padding-bottom: 100%;}']),h=u.a.img.withConfig({componentId:"s19ftv2p-1"})(["height: 40px;width: 40px;"]),b=u()(function(e){return a()("div",{role:"progressbar",className:e.className},void 0,e.children)}).withConfig({componentId:"s19ftv2p-2"})(["position: absolute;top:0; right:0; left:0; bottom:0;z-index: ",";box-shadow: inset 0px 0px 150px 2000px ",";text-align: center;"],function(e){return e.zIndex?e.zIndex:1},function(e){return e.theme.layout.body}),f=Object(i.createStructuredSelector)({isNightmode:function(e){return function(e){return!(e.user.prefs.globalTheme!==d)}(e)}}),p=Object(s.connect)(f);t.a=p(function(e){return a()(b,{zIndex:e.zIndex},void 0,a()(l,{},void 0,a()(h,{src:e.isNightmode?c.a.assetPath+"/img/loader_2orbit_loop.gif":c.a.assetPath+"/img/loader_2orbit_loop_nightmode.gif",alt:"Loading"})))})},"./src/chat/icons/Userpic/index.tsx":function(e,t,n){"use strict";var r=n("./node_modules/babel-runtime/helpers/extends.js"),a=n.n(r),c=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),s=n.n(c),i=n("./node_modules/babel-runtime/helpers/createClass.js"),o=n.n(i),u=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),d=n.n(u),l=n("./node_modules/babel-runtime/helpers/inherits.js"),h=n.n(l),b=n("./node_modules/babel-runtime/helpers/jsx.js"),f=n.n(b),p=n("./node_modules/react/index.js"),m=n.n(p),v=n("./node_modules/react-redux/es/index.js"),j=n("./node_modules/reselect/lib/index.js"),g=n("./bundled-modules/styled-components/styled-components.min.js"),O=n.n(g),x=n("./src/config.ts"),y=n("./src/lib/constants/index.ts"),C=["#FF4500","#0DD3BB","#24A0ED","#FFB000","#FF8717","#46D160","#25B79F","#0079D3","#4856A3","#C18D42","#A06A42","#46A508","#008985","#7193FF","#7E53C1","#FFD635","#DDBD37","#D4E815","#94E044","#FF66AC","#DB0064","#FF585B","#EA0027","#A5A4A4","#545452"],E=n("./src/chat/strings/index.ts"),_=Object(g.css)(["border-radius: 3px;text-align: center;display: inline-block;vertical-align: middle;"]),I=O.a.i.withConfig({componentId:"xs3x3c-0"})(["","border: 1px solid ",";background: ",";"],_,function(e){return e.theme.layout.colsBorder},function(e){return e.theme.layout.body}),w=O()(function(e){return f()("i",{className:e.className})}).withConfig({componentId:"xs3x3c-1"})(["","height: ",";width: ",';background-size: 100% 100%;background-position: center bottom;background-image: url("',"/img/userpic-icons/",'.png");background-color: ',""],_,function(e){return e.height?e.height:"25px"},function(e){return e.width?e.width:"25px"},x.a.assetPath,function(e){return e.imageIndex},function(e){return C[e.colorIndex]}),k=function(e){function t(e){s()(this,t);var n=d()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={profileImgFailed:!1},n.onError=n.onError.bind(n),n}return h()(t,e),o()(t,[{key:"onError",value:function(){this.setState({profileImgFailed:!0})}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.contact,r=e.currentUser,a=e.userId,c=this.state.profileImgFailed,s="",i="";return r.id===a?(s=r.subreddit&&r.subreddit.icon_img||"",i=r.name):n&&(s=n.profileImg||"",i=n.name),c||!s?f()(I,{className:t,title:i+" "+Object(E.a)("en","app.chat.user.snoovatar")}):f()("img",{onError:this.onError,className:t,src:s,alt:i+" "+Object(E.a)("en","app.chat.user.snoovatar")})}}]),t}(m.a.Component),S=O()(k).withConfig({componentId:"xs3x3c-2"})(["","height: ",";width: ",";color: transparent;"],_,function(e){return e.height?e.height:"25px"},function(e){return e.width?e.width:"25px"}),N=Object(j.createStructuredSelector)({contact:function(e,t){return e.contacts.models[t.userId]},currentUser:function(e){return e.user.account}}),A=Object(v.connect)(N);t.a=A(function(e){var t=e.className,n=e.contact,r=e.currentUser,c=e.height,s=e.width,i=e.userId,o=i.replace(y.Pa.ACCOUNT+"_",""),u=n&&n.profileImg,d=i===r.id,l=r.subreddit&&r.subreddit.icon_img,h=function(e){var t=parseInt(e,36),n=C.length;return{imageIndex:t%30+1,colorIndex:Math.floor(t/30)%n}}(o);return u||d&&l?f()(S,{contact:n,currentUser:r,className:t,height:c,width:s,userId:i}):m.a.createElement(w,a()({className:t,height:c,width:s,userId:o},h))})},"./src/chat/icons/svgs/ChatNew/index.tsx":function(e,t,n){"use strict";var r=n("./node_modules/babel-runtime/helpers/extends.js"),a=n.n(r),c=n("./node_modules/babel-runtime/helpers/jsx.js"),s=n.n(c),i=n("./node_modules/react/index.js"),o=n.n(i),u=n("./src/chat/controls/Svg/index.tsx");t.a=function(e){return o.a.createElement(u.a,a()({},e,{viewBox:"0 0 16 16"}),s()("path",{d:"M10.625 8.656h-1.97v1.97c0 .36-.293.655-.655.655-.362 0-.656-.293-.656-.655v-1.97h-1.97c-.36 0-.655-.293-.655-.655 0-.362.293-.656.655-.656h1.97v-1.97c0-.36.293-.655.655-.655.362 0 .656.293.656.655v1.97h1.97c.36 0 .655.293.655.655 0 .362-.293.656-.655.656M8 1C4.14 1 1 4.14 1 8c0 1.222.317 2.372.87 3.373l-.824 2.476c-.105.313-.024.66.21.894.167.167.39.256.62.256.09 0 .185-.015.275-.045l2.478-.825c1 .553 2.15.87 3.372.87 3.86 0 7-3.14 7-7s-3.14-7-7-7"}))}},"./src/chat/icons/svgs/Flag/index.tsx":function(e,t,n){"use strict";var r=n("./node_modules/babel-runtime/helpers/extends.js"),a=n.n(r),c=n("./node_modules/babel-runtime/helpers/jsx.js"),s=n.n(c),i=n("./node_modules/react/index.js"),o=n.n(i),u=n("./src/chat/controls/Svg/index.tsx");t.a=function(e){return o.a.createElement(u.a,a()({},e,{viewBox:"0 0 16 16"}),s()("path",{d:"M11.829 6.722l1.677-3.145A.802.802 0 0 0 12.8 2.4H3.2a.8.8 0 0 0-.8.8v10.243a.8.8 0 1 0 1.6 0v-2.4h8.8a.799.799 0 0 0 .706-1.176L11.83 6.722z"}))}},"./src/chat/icons/svgs/NavClose/index.tsx":function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n("./node_modules/babel-runtime/helpers/extends.js"),a=n.n(r),c=n("./node_modules/babel-runtime/helpers/jsx.js"),s=n.n(c),i=n("./node_modules/react/index.js"),o=n.n(i),u=n("./src/chat/controls/Svg/index.tsx"),d=function(e){return o.a.createElement(u.a,a()({},e,{viewBox:"0 0 20 20"}),s()("path",{d:"M11.105 9.75l4.114-4.114a.957.957 0 1 0-1.355-1.355L9.75 8.395 5.636 4.281a.957.957 0 1 0-1.355 1.355L8.395 9.75l-4.114 4.114a.957.957 0 1 0 1.355 1.355l4.114-4.114 4.114 4.114a.956.956 0 0 0 1.355 0 .957.957 0 0 0 0-1.355L11.105 9.75z",fillRule:"evenodd"}))};d.displayName="NavClose"},"./src/chat/icons/svgs/Trash/index.tsx":function(e,t,n){"use strict";var r=n("./node_modules/babel-runtime/helpers/extends.js"),a=n.n(r),c=n("./node_modules/babel-runtime/helpers/jsx.js"),s=n.n(c),i=n("./node_modules/react/index.js"),o=n.n(i),u=n("./src/chat/controls/Svg/index.tsx");t.a=function(e){return o.a.createElement(u.a,a()({},e,{viewBox:"0 0 16 16"}),s()("path",{d:"M10.845 11.6c0 .22-.182.4-.407.4a.403.403 0 0 1-.406-.4V7.2c0-.22.182-.4.406-.4.225 0 .407.18.407.4v4.4zm-2.438 0c0 .22-.183.4-.407.4a.403.403 0 0 1-.406-.4V7.2c0-.22.182-.4.406-.4.224 0 .407.18.407.4v4.4zm-2.439 0c0 .22-.182.4-.406.4a.403.403 0 0 1-.406-.4V7.2c0-.22.182-.4.406-.4.224 0 .406.18.406.4v4.4zm6.426-6.8c.225 0 .406.18.406.4v8c0 .662-.547 1.2-1.219 1.2H4.42c-.672 0-1.219-.538-1.219-1.2v-8c0-.22.181-.4.407-.4h8.787zm0-2.4c.224 0 .406.18.406.4v.8c0 .22-.182.4-.407.4H3.606a.403.403 0 0 1-.406-.4v-.8c0-.22.182-.4.406-.4H6.01l.602-.666a.411.411 0 0 1 .304-.134h2.166c.116 0 .226.049.304.134l.602.666h2.404z",fillRule:"evenodd"}))}},"./src/chat/models/Channel/moderator.ts":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(e){var t={};return e&&e.forEach(function(e){return t[e.userId]={}}),t}},"./src/chat/models/Channel/platform.ts":function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("./src/chat/models/Channel/subreddit.ts"),a=n("./src/chat/models/Channel/utils.ts"),c=n("./src/chat/models/User/inviter.ts"),s=n("./src/chat/models/User/member.ts");function i(e,t){return{channelId:Object(a.e)(e.channel_url),channelSendbirdUrl:e.channel_url,channelState:Object(a.b)(t),fetchingFirstMessage:!1,fetchingMessages:!1,fetchingMessagesError:!1,hasMoreMessages:!1,isMessageListLoaded:!1,inviter:Object(c.b)(e.inviter),coverUrl:e.cover_url,createdAt:e.created_at,customType:e.custom_type,data:e.data,maxLengthMessage:-1,memberCount:e.member_count,name:e.name,type:Object(a.d)(e),lastMessage:void 0,unreadMessageCount:e.unread_message_count,unreadMentionCount:e.unread_mention_count,members:Object(s.a)(e.members),customData:Object(r.d)(e.data)}}},"./src/chat/models/Contact/index.ts":function(e,t,n){"use strict";n.d(t,"c",function(){return a}),n.d(t,"a",function(){return c}),n.d(t,"d",function(){return s}),n.d(t,"b",function(){return i});var r=n("./src/lib/constants/index.ts");function a(e){return e?e.map(s).filter(function(e){return!!e}):[]}var c=3;function s(e){if(e.contact_account_id||e.id)return{id:e.contact_account_id||r.Pa.ACCOUNT+"_"+e.id,name:e.name,lastInteraction:e.last_interaction,created:e.created_utc,linkKarma:e.link_karma,commentKarma:e.comment_karma,profileImg:e.profile_img,isNSFW:e.profile_over_18}}var i={id:"",name:"",profileImg:"",lastInteraction:0,created:0,linkKarma:0,commentKarma:0,isNSFW:!1}},"./src/chat/models/Theme/index.ts":function(e,t,n){"use strict";n.d(t,"a",function(){return m});var r,a=n("./node_modules/babel-runtime/helpers/defineProperty.js"),c=n.n(a),s=n("./node_modules/polished/dist/polished.es.js"),i=n("./src/reddit/constants/theme.ts"),o=n("./src/reddit/models/Theme/index.ts"),u=n("./src/chat/constants/theme.ts"),d=n("./src/reddit/constants/colors.ts"),l=i.b.REDDIT,h=i.b.NIGHT,b=function(e){return o.d[e].newRedditTheme},f={activity:{icon:{default:Object(s.a)(.3,d.a.white),active:d.a.op,disable:Object(s.a)(.5,d.a.white),hover:Object(s.a)(.5,d.a.white),contrast:b(l).bodyText,nsfw:{bg:d.a.black,text:d.a.white}},text:{regular:b(l).bodyText,active:d.a.op,fade:Object(s.a)(.4,d.a.white),light:b(l).actionIcon,warning:d.a.warning,highlight:d.a.white},button:{active:d.a.alienblue},send:{disable:Object(s.a)(.5,d.a.white),hover:Object(s.a)(.08,d.a.op)},checkbox:{checked:d.a.alienblue,checkmark:d.a.white,unchecked:b(l).body,uncheckedBorder:Object(s.a)(.3,d.a.white)},input:{border:d.a.defaultFlair,focusColor:d.a.white,focusBg:d.a.approved,ownerBg:b(l).line,color:b(l).bodyText,error:d.a.warning,channelRename:Object(s.a)(.1,d.a.white)},link:{staticUnderline:d.a.alienblue,staticText:d.a.op,hoverText:d.a.snoo}},layout:{body:b(l).body,colsBorder:b(l).line,header:{counterBg:d.a.snoo,counterText:d.a.white},scrollbar:Object(s.a)(.4,d.a.white)},message:{list:{item:{ownerBg:b(l).inactive,button:b(l).actionIcon}}},subreddit:{iconBg:d.a.alienblue},sidebar:{background:Object(s.e)(Object(s.a)(.3,d.a.white),.1),subreddit:{background:{active:d.a.alienblue,hover:b(l).canvas}},basic:{background:{active:d.a.alienblue,hover:b(l).canvas}},text:{divider:Object(s.a)(.5,d.a.white)}},toast:{pending:d.a.black,success:d.a.approved}},p={activity:{icon:{default:Object(s.a)(.3,d.a.white),active:d.a.op,disable:Object(s.a)(.5,d.a.white),hover:Object(s.a)(.5,d.a.white),contrast:Object(s.a)(.4,b(h).bodyText),nsfw:{bg:d.a.black,text:d.a.white}},text:{regular:b(h).bodyText,active:d.a.op,fade:Object(s.a)(.4,d.a.white),light:b(h).actionIcon,warning:d.a.warning,highlight:d.a.white},button:{active:d.a.alienblue},send:{disable:Object(s.a)(.5,d.a.white),hover:Object(s.a)(.08,d.a.op)},checkbox:{checked:d.a.alienblue,checkmark:d.a.white,unchecked:b(h).body,uncheckedBorder:Object(s.a)(.3,d.a.white)},input:{border:d.a.defaultFlair,focusColor:d.a.white,focusBg:d.a.approved,ownerBg:b(h).line,color:b(h).bodyText,error:d.a.warning,channelRename:Object(s.a)(.1,d.a.white)},link:{staticUnderline:d.a.alienblue,staticText:d.a.op,hoverText:d.a.snoo}},layout:{body:b(h).body,colsBorder:b(h).line,header:{counterBg:d.a.snoo,counterText:d.a.white},scrollbar:Object(s.a)(.4,b(h).bodyText)},message:{list:{item:{ownerBg:b(h).inactive,button:b(h).actionIcon}}},subreddit:{iconBg:d.a.alienblue},sidebar:{background:Object(s.e)(Object(s.a)(.4,d.a.white),.1),subreddit:{background:{active:d.a.alienblue,hover:Object(s.f)(.2,b(h).canvas)}},basic:{background:{active:d.a.alienblue,hover:Object(s.f)(.2,b(h).canvas)}},text:{divider:Object(s.a)(.5,d.a.white)}},toast:{pending:d.a.black,success:d.a.approved}},m=(r={},c()(r,u.b.REDDIT,f),c()(r,u.b.NIGHT,p),r)},"./src/chat/models/User/index.ts":function(e,t,n){"use strict";n.d(t,"a",function(){return c}),n.d(t,"b",function(){return s});var r=n("./src/lib/constants/index.ts"),a=n("./src/lib/convertToCamelCase/index.ts"),c=function(e){var t,n={};for(var r in e)n[r]={id:(t=Object.assign({id:r},e[r])).id,name:t.name,created:t.created_utc,linkKarma:t.link_karma,commentKarma:t.comment_karma,profileImg:t.profile_img,isNSFW:t.profile_over_18};return n};var s=function(e){var t=function(e){var t=r.Pa.ACCOUNT+"_";return e.id.includes(t)?e.id=e.id:e.id=t+e.id,e}(e);return Object(a.a)(t)}},"./src/chat/pageLoaders/async.ts":function(e,t,n){"use strict";var r=n("./src/lib/constants/index.ts"),a=n("./node_modules/babel-runtime/helpers/jsx.js"),c=n.n(a),s=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),i=n.n(s),o=n("./node_modules/babel-runtime/helpers/createClass.js"),u=n.n(o),d=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),l=n.n(d),h=n("./node_modules/babel-runtime/helpers/inherits.js"),b=n.n(h),f=n("./node_modules/react/index.js"),p=n.n(f),m=n("./src/chat/components/OverlayCreateChannel/index.tsx"),v=function(e){function t(){return i()(this,t),l()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return b()(t,e),u()(t,[{key:"render",value:function(){return c()(m.a,{})}}]),t}(p.a.Component),j=n("./src/chat/components/EmptyState/index.tsx"),g=function(e){function t(){return i()(this,t),l()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return b()(t,e),u()(t,[{key:"render",value:function(){return c()(j.a,{})}}]),t}(p.a.Component);t.a=function(e){return function(){switch(e){case r.p.CHAT:return Promise.all([n.e("ChatMembers~ChatPage~ChatTest"),n.e("ChatPage~ChatTest"),n.e("ChatPage")]).then(n.bind(null,"./src/chat/pages/Chat.tsx")).then(function(e){return e.default});case r.p.CHAT_EMPTY:return Promise.resolve(g);case r.p.CHAT_CREATE:return Promise.resolve(v);case r.p.CHAT_MINIMIZE:return n.e("Minimize").then(n.bind(null,"./src/chat/pages/Minimize.tsx")).then(function(e){return e.default});case r.p.CHAT_MEMBERS:return Promise.all([n.e("ChatMembers~ChatPage~ChatTest"),n.e("ChatMembers")]).then(n.bind(null,"./src/chat/pages/Members.tsx")).then(function(e){return e.default});case r.p.CHAT_INVITE:return Promise.all([n.e("ChatMembers~ChatPage~ChatTest"),n.e("ChatMembers")]).then(n.bind(null,"./src/chat/pages/Invite.tsx")).then(function(e){return e.default});case r.p.CHAT_TEST:return Promise.all([n.e("ChatMembers~ChatPage~ChatTest"),n.e("ChatPage~ChatTest"),n.e("ChatTest")]).then(n.bind(null,"./src/chat/pages/ChatTest.tsx")).then(function(e){return e.default});default:throw new Error("Route is not defined for '"+e+"'.")}}}},"./src/chat/reducers/index.ts":function(e,t,n){"use strict";var r=n("./node_modules/redux/es/index.js"),a=n("./src/app/reducers/tooltipId/index.ts"),c=n("./src/chat/actions/channel.ts"),s=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch(arguments[1].type){case c.r:return!0;default:return e}},i=n("./node_modules/babel-runtime/helpers/toConsumableArray.js"),o=n.n(i),u=n("./node_modules/lodash/uniq.js"),d=n.n(u),l=n("./src/chat/models/Channel/index.ts"),h=n("./src/chat/models/Channel/utils.ts"),b={fetchingChannels:!1,hasMoreChannels:!1,sortedKeys:[]},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments[1];switch(t.type){case c.h:return Object.assign({},e,{fetchingChannels:!0});case c.i:return Object.assign({},e,{fetchingChannels:!1});case c.a:var n=t.payload,r=n.channels,a=n.hasMoreChannels,s=Object(h.c)(r,[l.a.Direct,l.a.Group]);if(!s)return e;var i=Object.keys(s),u=a&&!!i.length;return Object.assign({},e,{fetchingChannels:!1,hasMoreChannels:u,sortedKeys:[].concat(o()(e.sortedKeys),o()(i))});case c.t:var f=t.payload.channelId;return Object.assign({},e,{sortedKeys:e.sortedKeys.filter(function(e){return e!==f})});case c.v:case c.m:var p=t.payload.channelId;return Object.assign({},e,{sortedKeys:e.sortedKeys.filter(function(e){return e!==p})});case c.y:var m=t.payload.channel.channelId;return e.sortedKeys.indexOf(m)>-1?Object.assign({},e,{sortedKeys:e.sortedKeys.filter(function(e){return e!==m})}):e;case c.x:var v=t.payload.channel;return e.sortedKeys.includes(v.channelId)?e:Object.assign({},e,{sortedKeys:d()([v.channelId].concat(o()(e.sortedKeys)))});default:return e}},p=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch(arguments[1].type){case c.c:return!1;case c.g:return!0;default:return e}},m=n("./src/chat/actions/message/index.ts"),v={fetchingChannels:!1,hasMoreChannels:!0,sortedKeys:[]},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments[1];switch(t.type){case c.j:return Object.assign({},e,{fetchingChannels:!0});case c.k:return Object.assign({},e,{fetchingChannels:!1});case c.b:var n=t.payload,r=n.channels,a=n.hasMoreChannels,s=Object(h.c)(r,[l.a.Direct,l.a.Group]);if(!s)return e;var i=Object.keys(s),u=a&&!!i.length;return Object.assign({},e,{fetchingChannels:!1,hasMoreChannels:u,sortedKeys:[].concat(o()(e.sortedKeys),o()(i))});case c.v:case c.m:var b=t.payload.channelId;return Object.assign({},e,{sortedKeys:e.sortedKeys.filter(function(e){return e!==b})});case c.t:var f=t.payload.channelId;return Object.assign({},e,{sortedKeys:[f].concat(o()(e.sortedKeys))});case c.f:var p=Object.keys(t.payload);return Object.assign({},e,{sortedKeys:d()([].concat(o()(p),o()(e.sortedKeys)))});case c.u:var j=t.payload.channelId;return e.sortedKeys.includes(j)?Object.assign({},e,{sortedKeys:d()([j].concat(o()(e.sortedKeys)))}):e;case m.a:var g=t.payload.channelId;return e.sortedKeys.includes(g)?Object.assign({},e,{sortedKeys:d()([g].concat(o()(e.sortedKeys)))}):e;default:return e}},g=n("./node_modules/babel-runtime/helpers/defineProperty.js"),O=n.n(g),x=n("./node_modules/lodash/first.js"),y=n.n(x),C=n("./node_modules/lodash/omit.js"),E=n.n(C),_=n("./node_modules/lodash/reduce.js"),I=n.n(_),w=n("./src/chat/actions/channel/dropdown.ts"),k=n("./src/chat/actions/channel/moderator.ts"),S=n("./src/chat/actions/channel/subreddit.ts"),N=n("./src/chat/actions/message/inboxScroller.ts"),A=n("./src/chat/constants/channels.ts"),T={},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments[1];switch(t.type){case c.f:return Object.assign({},e,t.payload);case c.b:case c.a:case S.e:case S.f:var n=t.payload.channels,r=I()(e,function(e,t,r){return n[r]&&t.channelState===A.b.PARTIAL&&(e[r]=n[r])&&e||e},{});return Object.assign({},n,e,r);case S.g:return Object.assign({},t.payload.channels,e);case c.o:var a=t.payload,s=e[a];return!s||s&&0===s.unreadMessageCount?e:Object.assign({},e,O()({},a,Object.assign({},s,{unreadMessageCount:0,unreadMentionCount:0})));case c.t:case S.b:var i=t.payload.channelId,o=Object.assign({},e[i],{channelState:A.b.JOINED});return Object.assign({},e,O()({},o.channelId,o));case c.y:var u=t.payload.channel,d=e[u.channelId],l=Object.assign({},d,E()(u,"hasMoreMessages","isMessageListLoaded")),h=O()({},u.channelId,l);return Object.assign({},e,h);case S.m:case c.x:var b=t.payload.channel,f=e[b.channelId],p=Object.assign({},f,b,{channelState:A.b.INVITED}),v=O()({},b.channelId,p);return Object.assign({},e,v);case c.w:var j=t.payload.channel;return Object.assign({},e,O()({},j.channelId,j));case c.m:var g=t.payload.channelId;return E()(e,g);case c.v:var x=t.payload.channelId,C=Object.assign({},e[x],{channelState:A.b.UNSORTED});return Object.assign({},e,O()({},C.channelId,C));case w.a:var _=t.payload,D=_.channelId,M=_.name,L=Object.assign({},e[D],{name:M});return Object.assign({},e,O()({},D,Object.assign({},L)));case m.a:var R=t.payload.channelId,U=Number(y()(Object.keys(t.payload.message))),P=Object.assign({},e[R],{lastMessage:t.payload.message[U]});return Object.assign({},e,O()({},R,P));case m.g:var H=t.payload;return Object.assign({},e,O()({},H,Object.assign({},e[H],{fetchingMessages:!0,fetchingMessagesError:!1})));case m.b:case m.e:var B=t.payload,F=B.hasMore,G=B.channelId;return Object.assign({},e,O()({},G,Object.assign({},e[G],{isMessageListLoaded:!0,hasMoreMessages:F,fetchingMessages:!1,fetchingMessagesError:!1})));case m.f:var K=t.payload;return Object.assign({},e,O()({},K,Object.assign({},e[K],{fetchingMessages:!1,fetchingMessagesError:!0})));case c.l:var V=t.payload.channelId;return Object.assign({},e,O()({},V,Object.assign({},e[V],{fetchingFirstMessage:!0})));case c.s:var z=t.payload,J=z.channelId,Q=z.firstMessageId;return Object.assign({},e,O()({},J,Object.assign({},e[J],{fetchingFirstMessage:!1,firstMessageId:Q})));case k.a:var q=t.payload,W=q.channelId,Z=q.moderators;return Object.assign({},e,O()({},W,Object.assign({},e[W],{moderators:Object.assign({},e[W].moderators,Z)})));case N.b:var Y=t.payload.channelId;return Object.assign({},e,O()({},Y,Object.assign({},e[Y],{hasMoreMessages:!0})));default:return e}},M={channelId:void 0,isLoaded:!1},L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments[1];switch(t.type){case c.p:var n=Object.assign({},e,{isLoaded:!1});if(t.payload){var r=t.payload.channelId;r&&(n.channelId=r)}return n;case c.q:return Object.assign({},e,{isLoaded:!0});case c.v:case c.m:return t.payload.channelId!==e.channelId?e:Object.assign({},e,{channelId:""});default:return e}},R={sortedKeys:[]},U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments[1];switch(t.type){case S.a:return{sortedKeys:[t.payload.channelId]};default:return e}},P={fetchingChannels:!1,hasMoreChannels:!1,sortedKeys:[]},H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments[1];switch(t.type){case S.h:return Object.assign({},e,{fetchingChannels:!0});case S.i:return Object.assign({},e,{fetchingChannels:!1});case S.e:var n=t.payload,r=n.channels,a=n.hasMoreChannels,s=Object(h.f)(r,"name"),i=Object.keys(s);return i.length?{fetchingChannels:!1,hasMoreChannels:a&&!!i,sortedKeys:[].concat(o()(i))}:e;case c.v:case c.m:case S.b:var u=t.payload.channelId;return e.sortedKeys.includes(u)?Object.assign({},e,{sortedKeys:e.sortedKeys.filter(function(e){return e!==u})}):e;case S.m:var l=t.payload.channel;return Object.assign({},e,{sortedKeys:d()([l.channelId].concat(o()(e.sortedKeys)))});default:return e}},B={fetchingChannels:!1,sortedKeys:{}},F=function(e,t,n){return Object.assign({},e,O()({},t.toLowerCase(),e[t.toLowerCase()].filter(function(e){return e!==n})))},G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments[1];switch(t.type){case S.j:return Object.assign({},e,{fetchingChannels:!0});case S.k:return Object.assign({},e,{fetchingChannels:!1});case S.b:case S.f:var n=t.payload.sortedKeys;return{fetchingChannels:!1,sortedKeys:Object.assign({},n)};case c.v:case c.m:var r=t.payload,a=r.channelId,s=r.subredditName,i=s&&s.toLowerCase();if(!e.sortedKeys[i]||!e.sortedKeys[i].includes(a))return e;var o=e.sortedKeys[i].length<=1?E()(e.sortedKeys,i):F(e.sortedKeys,i,a);return Object.assign({},e,{sortedKeys:o});case c.w:var u=e.sortedKeys,d=t.payload.channel.channelId;for(var l in u)e.sortedKeys[l.toLowerCase()].includes(d)&&F(u,l.toLowerCase(),d);return Object.assign({},e,{sortedKeys:u});default:return e}},K={sortedKeys:[]},V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments[1];switch(t.type){case S.c:return{sortedKeys:[t.payload.channelId]};default:return e}},z={fetchingChannels:!1,firstLoaded:!1,sortedKeys:[]},J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments[1];switch(t.type){case S.l:return Object.assign({},e,{firstLoaded:!0,fetchingChannels:!0});case S.g:var n=t.payload.channels,r=Object.keys(n);return r.length?{fetchingChannels:!1,firstLoaded:e.firstLoaded,sortedKeys:[].concat(o()(r))}:e;default:return e}},Q=Object(r.c)({banned:U,invited:H,joined:G,kicked:V,recommended:J}),q=Object(r.c)({isCreatingChannel:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch(arguments[1].type){case c.e:return!0;case c.f:case c.d:return!1;default:return e}},firstLoaded:s,inviteListExpanded:p,invited:f,joined:j,models:D,selected:L,subreddit:Q}),W=n("./src/chat/actions/user.ts"),Z=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch(arguments[1].type){case W.b:return!0;default:return e}},Y=n("./node_modules/lodash/values.js"),X=n.n(Y),$=n("./src/chat/actions/sendbird/index.ts"),ee="search",te="contacts",ne={},re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments[1];switch(t.type){case $.g:return Object.assign({},e,t.payload.reduce(function(e,t){return e[t.name.toLowerCase()]={loaded:!0,userId:t.id,valid:!0,method:te},e},{}));case $.b:return Object.assign({},t.payload.reduce(function(e,t){return e[t.name.toLowerCase()]={loaded:!0,userId:t.id,valid:!0,method:te},e},{}),e);case $.d:var n=t.payload.username;return Object.assign({},e,O()({},n,{loaded:!1,userId:null,valid:!1,method:ee}));case $.e:var r=t.payload,a=r.contact,c=r.username,s=!!(r.valid&&a&&a.id);return Object.assign({},e,O()({},c.toLowerCase(),{loaded:!0,userId:a?a.id:null,valid:s,method:ee}));case W.i:var i=t.payload;return Object.assign({},e,X()(i).reduce(function(e,t){return e[t.name.toLowerCase()]={loaded:!0,userId:t.id,valid:!0,method:ee},e},{}));case W.c:var o=t.payload.username;return o?E()(e,o):e;default:return e}},ae={},ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments[1];switch(t.type){case $.g:return Object.assign({},e,t.payload.reduce(function(t,n){return t[n.id]=Object.assign({},e[n.id],n),t},{}));case $.e:var n=t.payload.contact;return n?Object.assign({},e,O()({},n.id,n)):e;case W.i:return Object.assign({},e,t.payload||{});case W.c:var r=t.payload.userId;return r?Object.assign({},e,O()({},r,Object.assign({},e[r],{isBlocked:!0}))):e;case W.b:var a=t.payload.blockedContacts;return Object.assign({},e,a);default:return e}},se=[],ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,t=arguments[1];switch(t.type){case W.h:return[].concat(o()(e),[t.payload]);case W.k:return e.filter(function(e){return e!==t.payload});case W.j:return se;default:return e}},oe=[],ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,t=arguments[1];switch(t.type){case $.g:return[].concat(o()(e),o()(t.payload.map(function(e){return e.id})));case W.c:return e.filter(function(e){return e!==t.payload.userId});default:return e}},de=Object(r.c)({fetchedBlockedUsers:Z,knownContacts:re,models:ce,selectedUserIds:ie,suggestedKeys:ue}),le=n("./src/chat/actions/container.ts"),he=n("./src/chat/constants/container.ts"),be={size:he.a.EMBED},fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be,t=arguments[1];switch(t.type){case le.a:if(he.b[t.payload])return Object.assign({},e,{size:t.payload});default:return e}},pe=(n("./node_modules/babel-runtime/regenerator/index.js"),n("./node_modules/babel-runtime/helpers/asyncToGenerator.js"),n("./src/lib/makeActionCreator/index.ts")),me=n("./src/lib/constants/index.ts"),ve=(n("./src/lib/makeApiRequest/index.ts"),Object(pe.a)("EMOJIS__FETCH_EMOJIS_FAILED"),Object(pe.a)("EMOJI__ADD_EMOJIS"),{snoomojis:{}}),je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve,t=arguments[1];switch(t.type){case"EMOJI__ADD_EMOJIS":var n=t.payload.snoomojis;return{snoomojis:Object.assign({},n)};default:return e}},ge=n("./node_modules/lodash/toArray.js"),Oe=n.n(ge),xe=n("./node_modules/lodash/uniqBy.js"),ye=n.n(xe),Ce=n("./src/chat/actions/members.ts"),Ee={},_e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee,t=arguments[1];switch(t.type){case Ce.b:var n=t.payload.channelId;return Object.assign({},e,O()({},n,Object.assign({},e[n],{fetchingMembers:!0})));case Ce.c:var r=t.payload,a=r.channelId,c=r.hasMoreMembers;return Object.assign({},e,O()({},a,Object.assign({},e[a],{hasMoreMembers:c,fetchingMembers:!1})));case Ce.a:var s=t.payload,i=s.channelId,u=s.members,d=Oe()(u),l=e[i]&&e[i].model||[],h=ye()([].concat(o()(l),o()(d)),"id");return Object.assign({},e,O()({},i,Object.assign({},e[i],{model:h})));case Ce.d:return{};default:return e}},Ie=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch(arguments[1].type){case m.b:case m.k:return!0;default:return e}},we={},ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we,t=arguments[1];switch(t.type){case m.b:var n=t.payload.messages;return Object.assign({},e,n);case m.a:return Object.assign({},e,t.payload.message);case m.h:return Object.assign({},e,t.payload);case m.d:case m.i:return E()(e,t.payload);case m.e:var r=t.payload.messages;return Object.assign({},e,r);case c.n:var a=t.payload;return Object.assign({},E.a.apply(void 0,[e].concat(o()(a))));case N.a:var s=t.payload.messageIdList;return E()(e,s);default:return e}},Se={},Ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se,t=arguments[1];switch(t.type){case m.c:var n=t.payload;return Object.assign({},e,O()({},n.clientMessageId,n));case m.l:var r=t.payload,a=r.clientMessageId,c=r.toggle;if(a){var s=e[a];return Object.assign({},e,O()({},a,Object.assign({},s,{error:c})))}return Object.assign({},e);case m.a:case m.j:var i=t.payload.clientMessageId;return Object.assign({},i?E()(e,i):e);default:return e}},Ae=n("./node_modules/lodash/isEqual.js"),Te=n.n(Ae),De=n("./src/chat/actions/message/unreadCount.ts"),Me={basicChannelCount:0,subredditChannelCount:0},Le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me,t=arguments[1];switch(t.type){case De.a:return Te()(e,t.payload)?e:Object.assign({},e,t.payload)}return e},Re=Object(r.c)({firstLoaded:Ie,models:ke,pending:Ne,unread:Le}),Ue=n("./src/chat/reducers/meta/index.ts"),Pe=n("./src/chat/reducers/platform/index.ts"),He=n("./src/chat/reducers/promos/index.ts"),Be=n("./src/chat/actions/sendbird/config.ts"),Fe={maxMessageLength:void 0},Ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fe,t=arguments[1];switch(t.type){case Be.b:return Object.assign({},e,t.payload);default:return e}},Ke={host:void 0},Ve=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ke,t=arguments[1];switch(t.type){case Be.c:return Object.assign({},e,t.payload);default:return e}},ze=n("./src/chat/actions/sendbird/sdk.ts"),Je=n("./src/chat/constants/sendbird.ts"),Qe={connectionStatus:Je.b.Closed,initialized:!1},qe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qe,t=arguments[1];switch(t.type){case ze.a:return Object.assign({},e,{initialized:!0,connectionStatus:Je.b.Open});case ze.c:var n=Object.assign({},t.payload);return Object.assign({},e,{error:n,connectionStatus:Je.b.Closed});case ze.b:return Object.assign({},e,{connectionStatus:Je.b.Closed});case ze.d:var r=t.payload.connectionStatus;return Object.assign({},e,{connectionStatus:r});default:return e}},We={expires:void 0,token:void 0,active:!1},Ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We,t=arguments[1];switch(t.type){case $.h:return Object.assign({},e,t.payload);case $.a:return Object.assign({},e,{active:!0});case $.c:return Object.assign({},e,{active:!1});default:return e}},Ye=Object(r.c)({globalSettings:Ge,proxy:Ve,session:Ze,sdk:qe}),Xe=n("./src/chat/actions/sidebar.ts"),$e=n("./src/chat/constants/sidebar.ts").a.SubredditChannels,et=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$e,t=arguments[1];switch(t.type){case Xe.b:return t.payload.activeIndex;default:return e}},tt={},nt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tt,t=arguments[1];switch(t.type){case Xe.a:var n=t.payload,r=n.channelId,a=n.tabIndex;return Object.assign({},e,O()({},a,r));default:return e}},rt=Object(r.c)({activeIndex:et,lastChannelIdPerTab:nt}),at=n("./node_modules/lodash/isEmpty.js"),ct=n.n(at),st=n("./node_modules/lodash/keyBy.js"),it=n.n(st),ot=n("./src/chat/models/Channel/subreddit.ts"),ut={},dt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ut,t=arguments[1];switch(t.type){case S.d:return Object.assign({},e,t.payload);case c.b:case c.a:var n=t.payload.channels,r=Object(h.c)(n,[l.a.Subreddit]);if(ct()(r))return e;var a=Oe()(r).map(function(e){var t=e&&Object(ot.d)(e.data);if(t&&t.subreddit)return t.subreddit});return Object.assign({},e,it()(a,"id"));default:return e}},lt=Object(r.c)({models:dt}),ht=n("./src/chat/reducers/subscribe.ts"),bt=n("./src/chat/actions/theme.ts"),ft=n("./src/chat/constants/theme.ts"),pt=n("./src/chat/models/Theme/index.ts"),mt={current:pt.a[ft.a],cached:{}},vt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mt,t=arguments[1];switch(t.type){case bt.a:return e.current=pt.a[t.payload.themeKey],Object.assign({},e);default:return e}},jt=n("./src/chat/actions/toast.ts"),gt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1];switch(t.type){case jt.a:return null;case jt.b:return t.payload.toast;default:return e}},Ot=n("./src/chat/actions/typingIndicator.ts"),xt={usernames:[]};var yt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xt,t=arguments[1];switch(t.type){case Ot.a:var n=t.payload.usernames;return r=n,a=e.usernames,r!==a&&(0!==r.length||0!==a.length)&&(0===r.length&&a.length>0||r.length>0&&0===a.length||(1===r.length&&1===a.length?r[0]!==a[0]:2===r.length&&2===a.length?r[0]!==a[0]||r[1]!==a[1]:3===r.length&&3===a.length?r[0]!==a[0]||r[1]!==a[1]||r[2]!==a[2]:!Te()(r,a)))?{usernames:n}:e;case c.p:return{usernames:[]};default:return e}var r,a},Ct=n("./src/chat/actions/promo.ts"),Et=n("./src/lib/reducers/addAuthentication/index.ts"),_t=Object(Et.a)(function(e,t){switch(void 0===e&&(e=null),t.type){case W.a:return t.payload;case Ct.d:return Object.assign({},e,{seenSubredditChatFtux:!0});default:return e}},null),It={userSubredditChatEnabled:!1},wt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:It,t=arguments[1];switch(t.type){case $.f:case Be.a:var n=(t.payload||It).userSubredditChatEnabled;return Object.assign({},e,t.payload,{userSubredditChatEnabled:e.userSubredditChatEnabled||n})}return e},kt={},St=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kt,t=arguments[1];switch(t.type){case W.d:return t.payload;default:return e}},Nt=me.x,At=Object(Et.a)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nt;return arguments[1].type,e},Nt),Tt={blob:"",loid:"",loidCreated:"",version:-1},Dt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tt,t=arguments[1];switch(t.type){case W.e:return t.payload;default:return e}},Mt={globalTheme:ft.a},Lt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt,t=arguments[1];switch(t.type){case bt.a:var n=t.payload.themeKey;return Object.assign({},e,{globalTheme:n});default:return e}},Rt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments[1];switch(t.type){case W.f:return t.payload;default:return e}},Ut=n("./src/chat/actions/session.ts"),Pt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1];switch(t.type){case Ut.a:case Ut.c:return t.payload;case Ut.b:return null;default:return e}},Ht=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments[1];switch(t.type){case W.g:return t.payload;default:return e}},Bt=Object(r.c)({account:_t,chatExperiments:wt,experiments:St,language:At,loid:Dt,prefs:Lt,reddaid:Rt,session:Pt,sessionTracker:Ht});t.a=Object(r.c)({channels:q,contacts:de,container:fe,members:_e,messages:Re,meta:Ue.b,platform:Pe.b,promos:He.b,themes:vt,sendbird:Ye,sidebarTabs:rt,emojis:je,subreddits:lt,toast:gt,tooltipId:a.a,typingIndicator:yt,user:Bt,actionListener:ht.a})},"./src/chat/reducers/meta/index.ts":function(e,t,n){"use strict";var r=n("./src/lib/makeActionCreator/index.ts");Object(r.a)("META__META_RECEIVED");n.d(t,"a",function(){return a});var a={country:"",domain:"",isBot:!1,isRedesign:!1,isSessionSeo:!1,method:"",protocol:"",sessionReferrerDomain:"",userAgent:""};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments[1];switch(t.type){case"META__META_RECEIVED":return t.payload;default:return e}}},"./src/chat/reducers/platform/index.ts":function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n("./node_modules/babel-runtime/helpers/defineProperty.js"),a=n.n(r),c=n("./node_modules/history/index.js"),s=n("./src/chat/actions/platform.ts"),i=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&(n[r[a]]=e[r[a]])}return n},o={currentPage:null,referrers:{},metas:{}};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments[1];switch(t.type){case s.a:if(!t.payload)return e;var n=e.currentPage,r=t.payload,u=r.routeMatch,d=r.location,l=d.key,h=Object(c.createPath)(d),b=u?function(e,t,n,r){var a=n.route,c=(a.action,i(a,["action"]));return{key:e,locationState:r.state,meta:n.route.meta,queryParams:n.match.queryParams,routeMatch:Object.assign({},n,{route:c}),status:200,url:t,urlParams:n.match.params}}(l,h,u,d):function(e,t){return{key:e,locationState:{},queryParams:{},routeMatch:null,status:404,url:t,urlParams:{}}}(l,h),f=e.referrers;if("PUSH"===r.action){var p=n&&n.url||"";f=Object.assign({},f,a()({},l,p))}return Object.assign({},e,{referrers:f,currentPage:b});case s.c:if(!t.payload)return e;var m=t.payload,v=m.key,j=m.title,g=m.description,O=m.icon,x=m.type;return Object.assign({},e,{metas:Object.assign({},e.metas,a()({},v,{description:g,icon:O,title:j,type:x}))});case s.b:return t.payload,e;default:return e}}},"./src/chat/reducers/promos/index.ts":function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n("./node_modules/babel-runtime/helpers/defineProperty.js"),a=n.n(r),c=n("./src/chat/actions/promo.ts"),s={displayNSFWWarning:!1,displaySubredditChatFtux:!1};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments[1];switch(t.type){case c.a:var n=t.payload;return Object.assign({},e,a()({},n,!0));case c.c:var r=t.payload;return Object.assign({},e,a()({},r,!1));default:return e}}},"./src/chat/routes/chat.ts":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r,a=n("./node_modules/babel-runtime/helpers/toConsumableArray.js"),c=n.n(a),s=n("./src/lib/constants/index.ts"),i=n("./src/chat/actions/page.ts");!function(e){e.Message="message",e.User="user"}(r||(r={}));var o={action:i.b,chunk:s.p.CHAT,exact:!0,meta:{name:s.ib.CHAT},path:"/chat/"},u={action:i.b,chunk:s.p.CHAT_EMPTY,exact:!0,meta:{name:s.ib.CHAT_EMPTY},path:"/chat/empty/"},d={action:i.a,chunk:s.p.CHAT_CREATE,exact:!0,meta:{name:s.ib.CHAT_CREATE},path:"/chat/channel/:action(create)/"},l=["/chat/channel/:channelId/:action(invite)/","/chat/r/:subredditName/channel/:channelId/:action(invite)/"].map(function(e){return{action:i.a,chunk:s.p.CHAT_INVITE,exact:!0,meta:{name:s.ib.CHAT_INVITE},path:e}}),h=["/chat/channel/:channelId/:action(members)/","/chat/r/:subredditName/channel/:channelId/:action(members)/"].map(function(e){return{action:i.a,chunk:s.p.CHAT_MEMBERS,exact:!0,meta:{name:s.ib.CHAT_MEMBERS},path:e}}),b={action:i.c,chunk:s.p.CHAT_MINIMIZE,exact:!0,meta:{name:s.ib.CHAT_MINIMIZE},path:"/chat/minimize/"},f=["/chat/channel/:channelId/:action(block|decline|delete|invited|kick|leave|nsfw|report)?/:attr(message|user)?/:attrId?","/chat/r/:subredditName/channel/:channelId/:action(ban|block|decline|delete|deny|invited|join|kick|leave|lock_confirmation|private|report)?/:attr(message|user)?/:attrId?"].map(function(e){return{action:i.a,chunk:s.p.CHAT,exact:!0,meta:{name:s.ib.CHAT},path:e}}),p=["/chat/user_id/:userIds/"].map(function(e){return{action:i.d,chunk:s.p.CHAT,exact:!0,meta:{name:s.ib.CHAT},path:e}});t.b=[o,u,b,d].concat(c()(l),c()(h),c()(f),c()(p))},"./src/chat/routes/index.ts":function(e,t,n){"use strict";var r=n("./node_modules/babel-runtime/helpers/toConsumableArray.js"),a=n.n(r),c=n("./src/lib/constants/index.ts"),s={action:n("./src/chat/actions/page.ts").b,chunk:c.p.CHAT,exact:!0,meta:{name:c.ib.CHAT},path:"/chat/*"},i=n("./src/chat/routes/chat.ts"),o=n("./node_modules/babel-runtime/regenerator/index.js"),u=n.n(o),d=n("./node_modules/babel-runtime/helpers/asyncToGenerator.js"),l=n.n(d);var h=function(e){var t=this;return function(n){return r=l()(u.a.mark(function r(a,c,s){return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(n)(a,c,s);case 2:case"end":return t.stop()}},r,t)})),function(e,t,n){return r.apply(this,arguments)};var r}}(function(e){return t=l()(u.a.mark(function e(t,n,r){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e,void 0)})),function(e,n,r){return t.apply(this,arguments)};var t}),b=["/chat/test"].map(function(e){return{action:h,chunk:c.p.CHAT_TEST,exact:!0,meta:{name:c.ib.CHAT_TEST},path:e}}),f=[].concat(a()(i.b),a()(b),[s]);t.a=f},"./src/chat/selectors/channels/next.tsx":function(e,t,n){"use strict";n.d(t,"d",function(){return d}),n.d(t,"f",function(){return l}),n.d(t,"g",function(){return h}),n.d(t,"c",function(){return f}),n.d(t,"e",function(){return p}),n.d(t,"a",function(){return j}),n.d(t,"b",function(){return g});var r=n("./node_modules/babel-runtime/helpers/toConsumableArray.js"),a=n.n(r),c=n("./src/chat/constants/channels.ts"),s=n("./src/chat/constants/sidebar.ts"),i=n("./src/chat/selectors/channels.ts"),o=n("./src/chat/selectors/experiments.ts"),u=n("./src/chat/selectors/subreddit.ts"),d=function(e){var t=e.channels.subreddit.invited.sortedKeys[0],n=Object(u.b)(e,t);return{channelId:t,subredditName:n&&n.name,channelAction:c.a.VIEW_INVITE}},l=function(e){var t=e.channels.subreddit.joined.sortedKeys,n=Object.keys(t),r=!n.length?void 0:n[0];return{channelId:r&&t[r][0],subredditName:r}},h=function(e){var t=e.channels.subreddit.recommended.sortedKeys[0],n=Object(u.b)(e,t);return{channelId:t,subredditName:n&&n.name,channelAction:c.a.VIEW_JOIN}},b=function(e){return[d(e),l(e),h(e)]},f=function(e){return{channelId:e.channels.invited.sortedKeys[0],channelAction:c.a.VIEW_INVITE}},p=function(e){return{channelId:e.channels.joined.sortedKeys[0]}},m=function(e){return[f(e),p(e)]},v=function(e){return e.find(function(e){return!!e.channelId})},j=function(e,t){var n=t===s.a.SubredditChannels?b(e):m(e),r=v(n);return r&&r.channelId},g=function(e,t){var n=Object(o.b)(e),r=[].concat(a()(t?[function(e){var t=Object(i.k)(e);return{channelId:t&&t.channelId}}(e)]:[]),a()(n?b(e):[]),a()(m(e)));return v(r)}},"./src/chat/selectors/platform.ts":function(e,t,n){"use strict";n.d(t,"d",function(){return a}),n.d(t,"c",function(){return c}),n.d(t,"e",function(){return s}),n.d(t,"a",function(){return i}),n.d(t,"f",function(){return o}),n.d(t,"b",function(){return u}),n.d(t,"g",function(){return d});var r=n("./src/chat/constants/sidebar.ts"),a=function(e){return e.platform&&e.platform.currentPage&&e.platform.currentPage.urlParams.channelId},c=function(e){return e.platform&&e.platform.currentPage&&e.platform.currentPage.urlParams.action},s=function(e){return e.platform&&e.platform.currentPage&&e.platform.currentPage.urlParams.subredditName||void 0},i=function(e){return e.platform&&e.platform.currentPage&&e.platform.currentPage.meta&&e.platform.currentPage.meta.name},o=function(e){return!!s(e)?r.a.SubredditChannels:r.a.DirectChannels},u=function(e){return e.platform.currentPage&&e.platform.currentPage.queryParams},d=function(e){return!(!a(e)||c(e))}},"./src/chat/selectors/sendbird.ts":function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"d",function(){return a}),n.d(t,"a",function(){return c}),n.d(t,"c",function(){return s}),n.d(t,"e",function(){return i});var r=function(e){return e.sendbird.sdk.connectionStatus},a=function(e){return e.sendbird.sdk.initialized},c=function(e){return e.sendbird.proxy.host},s=function(e){return e.sendbird.session},i=function(e){return e.sendbird.session.active}},"./src/chat/selectors/sidebar.ts":function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"a",function(){return c});var r=n("./src/chat/constants/sidebar.ts"),a=function(e){return e.sidebarTabs.activeIndex===r.a.SubredditChannels},c=function(e){return e.sidebarTabs.activeIndex}},"./src/chat/selectors/subreddit.ts":function(e,t,n){"use strict";n.d(t,"d",function(){return u}),n.d(t,"c",function(){return d}),n.d(t,"b",function(){return l}),n.d(t,"a",function(){return h});var r=n("./node_modules/lodash/isEmpty.js"),a=n.n(r),c=n("./node_modules/lodash/map.js"),s=n.n(c),i=n("./src/chat/models/Channel/index.ts"),o=n("./src/chat/selectors/channels.ts"),u=function(e){return e.subreddits&&e.subreddits.models},d=function(e,t){var n=u(e);return n&&n[t]},l=function(e,t){var n=t?Object(o.h)(e,t):Object(o.x)(e);if(n&&n.type===i.a.Subreddit){var r=n.customData;return d(e,r.subredditId)}},h=function(e){var t=e.subreddits.models,n=e.channels.models,r=e.channels.subreddit.joined.sortedKeys;if(!a()(r))return s()(r,function(e){var r,a=e[0],c=n[a].customData.subredditId;return{name:t[c].name,keyColor:t[c].keyColor,iconImg:t[c].iconImg,sortedChannels:(r=e,s()(r,function(e){return n[e]}))}})}},"./src/chat/singleton/SendbirdSDK.ts":function(e,t,n){"use strict";var r=n("./node_modules/babel-runtime/helpers/slicedToArray.js"),a=n.n(r),c=n("./node_modules/babel-runtime/helpers/defineProperty.js"),s=n.n(c),i=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),o=n.n(i),u=n("./node_modules/babel-runtime/helpers/createClass.js"),d=n.n(u),l=n("./src/config.ts"),h=n("./node_modules/sendbird/SendBird.min.js"),b=n.n(h),f=n("./src/lib/constants/index.ts"),p=n("./src/chat/actions/channel.ts"),m=n("./node_modules/babel-runtime/regenerator/index.js"),v=n.n(m),j=n("./node_modules/babel-runtime/helpers/asyncToGenerator.js"),g=n.n(j),O=n("./node_modules/react-router-redux/es/index.js"),x=n("./src/chat/constants/channels.ts"),y=n("./src/chat/helpers/urls/index.ts"),C=n("./src/chat/selectors/channels.ts"),E=n("./src/chat/selectors/subreddit.ts"),_=n("./src/chat/actions/channel/subreddit.ts"),I=n("./src/chat/actions/message/index.ts"),w=n("./src/chat/actions/sendbird/index.ts"),k=n("./src/chat/actions/sendbird/sdk.ts"),S=n("./src/chat/actions/toast.ts"),N=n("./src/chat/actions/typingIndicator.ts"),A=n("./src/chat/constants/batchSizes.ts"),T=n("./src/chat/constants/messages.ts"),D=n("./src/chat/constants/sendbird.ts"),M=n("./src/chat/constants/toast.ts"),L=n("./src/chat/models/Channel/index.ts"),R=n("./src/chat/models/Channel/platform.ts"),U=n("./src/chat/models/Channel/subreddit.ts"),P=n("./src/chat/models/Channel/utils.ts"),H=n("./src/chat/models/Message/index.ts"),B=n("./src/chat/models/User/member.ts"),F=n("./node_modules/timers-browserify/main.js");n.d(t,"a",function(){return G}),n.d(t,"c",function(){return V});var G,K=l.a.sendbirdAppId;!function(e){e.VIEW_PRIVATE="view_private",e.KICKED="kicked",e.BANNED="banned"}(G||(G={}));var V=new(function(){function e(){var t=this;o()(this,e),this.channels={},this.channelUniqueHandlerID=[],this.connectionUniqueHandlerID=[],this.switchChannel=function(e,n){if(t.channel=e,n)return new Promise(function(e){return e([])});t.operatorListQuery=t.channel.createOperatorListQuery(),t.subredditChannelMembersQuery=t.channel.createMemberListQuery(),t.memberListQuery=t.channel.createMemberListQuery(),t.createPreviousMessageListQuery();var r=t.getPreviousMessages(T.c.USER),a=t.getOperators();return Promise.all([r,a])},(this.self=new b.a({appId:K})).Options.typingIndicatorThrottle=1e4}return d()(e,[{key:"connect",value:function(e,t,n,r,a){var c=this;return new Promise(function(r){c.dispatch=a,c.self.connect(n,t,"https://"+e,"wss://"+e,function(e,t){c.toggleUpdateListeners(!0),r({data:e,error:t})})})}},{key:"isConnected",value:function(){return!!this.self.currentUser}},{key:"disconnect",value:function(){var e=this;return new Promise(function(t){e.isConnected()&&(e.toggleUpdateListeners(!1),e.self.disconnect(function(){return t()}))})}},{key:"toggleUpdateListeners",value:function(e){var t=this;e?(this.onChannelChanged(),this.onChannelDeleted(),this.onChannelLocked(),this.onChannelUnlocked(),this.onReceiveInvite(),this.onReceiveMessage(),this.onDeleteMessage(),this.onUserActions(),this.onUserKicked(),this.onTypingStatusUpdated(),this.onReconnectStarted(),this.onReconnectSucceeded(),this.onReconnectFailed()):(this.channelUniqueHandlerID.length&&this.channelUniqueHandlerID.forEach(function(e){t.self.removeChannelHandler(e)}),this.connectionUniqueHandlerID.length&&this.channelUniqueHandlerID.forEach(function(e){t.self.removeConnectionHandler(e)}))}},{key:"reconnect",value:function(){this.dispatch(Object(S.e)({toast:M.a.ConnectionPending})),this.dispatch(Object(w.m)())}},{key:"onReconnectStarted",value:function(){var e=this,t=new this.self.ConnectionHandler,n={connectionStatus:D.b.Pending},r={toast:M.a.ConnectionPending};t.onReconnectStarted=function(){e.dispatch(Object(k.h)(n)),e.dispatch(Object(S.e)(r))},this.self.addConnectionHandler("CONNECTION_CHANGE",t),this.connectionUniqueHandlerID.push("CONNECTION_CHANGE")}},{key:"onReconnectSucceeded",value:function(){var e=this,t=new this.self.ConnectionHandler,n={connectionStatus:D.b.Open};t.onReconnectSucceeded=function(){e.dispatch(Object(k.h)(n)),e.dispatch(Object(S.e)({toast:M.a.ConnectionOpen})),Object(F.setTimeout)(function(){return e.dispatch(Object(S.d)())},3*f.nb),e.dispatch(Object(I.q)(!0)),e.dispatch(Object(p.F)())},this.self.addConnectionHandler("RECONNECT_SUCCEEDED",t),this.connectionUniqueHandlerID.push("RECONNECT_SUCCEEDED")}},{key:"onReconnectFailed",value:function(){var e=this,t=new this.self.ConnectionHandler,n={connectionStatus:D.b.Closed};t.onReconnectFailed=function(){e.dispatch(Object(k.h)(n)),e.dispatch(Object(S.e)({toast:M.a.ConnectionClosed}))},this.self.addConnectionHandler("RECONNECT_FAILED",t),this.connectionUniqueHandlerID.push("RECONNECT_FAILED")}},{key:"onReceiveInvite",value:function(){var e=this,t=new this.self.ChannelHandler;t.onUserReceivedInvitation=function(t){var n=Object(L.d)(t,t.memberState);e.dispatch(Object(p.S)(n))},this.self.addChannelHandler("RECEIVE_CHANNEL_INVITE",t),this.channelUniqueHandlerID.push("RECEIVE_CHANNEL_INVITE")}},{key:"onReceiveMessage",value:function(){var e=this,t=new this.self.ChannelHandler;t.onMessageReceived=function(t,n){var r=t.myMemberState,a=Object(L.d)(t,r);e.dispatch(Object(p.R)(a));var c=Object(H.b)(n);c&&e.dispatch(Object(I.r)(c))},this.self.addChannelHandler("RECEIVE_CHANNEL_MESSAGE",t),this.channelUniqueHandlerID.push("RECEIVE_CHANNEL_MESSAGE")}},{key:"onDeleteMessage",value:function(){var e=this,t=new this.self.ChannelHandler;t.onMessageDeleted=function(t,n){e.dispatch(Object(I.t)(n))},this.self.addChannelHandler("DELETE_CHANNEL_MESSAGE",t),this.channelUniqueHandlerID.push("DELETE_CHANNEL_MESSAGE")}},{key:"onTypingStatusUpdated",value:function(){var e=this,t=new this.self.ChannelHandler;t.onTypingStatusUpdated=function(t){var n=Object(P.e)(t.url),r=t.getTypingMembers().map(function(e){return e.nickname});e.dispatch(Object(N.b)({channelId:n,usernames:r}))},this.self.addChannelHandler("TYPING_STATUS_UPDATED",t),this.channelUniqueHandlerID.push("TYPING_STATUS_UPDATED")}},{key:"onUserActions",value:function(){var e=this,t=void 0;!function(e){e.onUserLeft="USER_LEFT_CHANNEL",e.onUserBanned="USER_BANNED_CHANNEL"}(t||(t={})),Object.keys(t).map(function(n){var r=new e.self.ChannelHandler,a=t[n];r[n]=function(t,n){var r=Object(L.d)(t,t.memberState);e.dispatch(Object(p.S)(r,!0))},e.self.addChannelHandler(a,r),e.channelUniqueHandlerID.push(a)})}},{key:"onChannelChanged",value:function(){var e=this,t=new this.self.ChannelHandler;t.onChannelChanged=function(t){var n=t.myMemberState,r=Object(L.d)(t,n);e.dispatch(Object(p.S)(r))},this.self.addChannelHandler("ON_CHANNEL_CHANGED",t),this.channelUniqueHandlerID.push("ON_CHANNEL_CHANGED")}},{key:"onChannelDeleted",value:function(){var e=this,t=new this.self.ChannelHandler;t.onChannelDeleted=function(t){var n,r,a=Object(P.e)(t);e.dispatch((n=a,r=g()(v.a.mark(function e(t,r){var a,c,s,i;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=r(),c=Object(C.x)(a),s=Object(E.b)(a,n),i=s&&s.name.toLowerCase()){e.next=6;break}return e.abrupt("return");case 6:t(Object(p.M)({channelId:n,subredditName:i})),c&&c.channelId===n&&t(Object(O.b)(Object(y.b)(n,x.a.DENY,i)));case 8:case"end":return e.stop()}},e,void 0)})),function(e,t){return r.apply(this,arguments)}))},this.self.addChannelHandler("ON_CHANNEL_DELETED",t),this.channelUniqueHandlerID.push("ON_CHANNEL_DELETED")}},{key:"onChannelLocked",value:function(){var e=this,t=new this.self.ChannelHandler;t.onChannelFrozen=function(t){var n=Object(L.d)(t,t.myMemberState);e.dispatch(Object(p.S)(n))},this.self.addChannelHandler("ON_CHANNEL_LOCKED",t),this.channelUniqueHandlerID.push("ON_CHANNEL_LOCKED")}},{key:"onChannelUnlocked",value:function(){var e=this,t=new this.self.ChannelHandler;t.onChannelUnfrozen=function(t){var n=Object(L.d)(t,t.myMemberState);e.dispatch(Object(p.S)(n))},this.self.addChannelHandler("ON_CHANNEL_UNLOCKED",t),this.channelUniqueHandlerID.push("ON_CHANNEL_UNLOCKED")}},{key:"mapCodeToError",value:function(e){switch(e){case 400750:return G.KICKED;case 400751:return G.BANNED;default:return G.VIEW_PRIVATE}}},{key:"autoJoinSubredditChannel",value:function(e,t){var n=this;return new Promise(function(e,r){var a=t.channelSendbirdUrl,c=t.customData;c&&c.subredditId?n.dispatch(Object(_.u)(a,c.subredditId)).then(function(t){t.error?r({error:n.mapCodeToError(t.error.code)}):e(t.body)}).catch(function(e){r({error:n.mapCodeToError(e.code)})}):e()})}},{key:"convertPartialToSubredditChannel",value:function(e,t){var n=x.b.PARTIAL,r=x.b.INVITED;t===n&&(e.channelState=r,this.dispatch(Object(p.T)({channel:e})))}},{key:"getChannelByChannelId",value:function(e){var t=this;return new Promise(function(n,r){var a=Object(P.a)(e);t.self.GroupChannel.getChannel(a,function(e,t){t?r(t):n(e)})})}},{key:"addChannelModelByChannelId",value:function(e){var t=this;return new Promise(function(n,r){t.getChannelByChannelId(e).then(function(e){if(!e)return n();var r=Object(L.d)(e);if(!r)return n();if(r.type===L.a.Subreddit){var a=r.customData.subreddit;a&&t.dispatch(Object(_.o)(s()({},a.id,a)))}t.dispatch(Object(p.T)({channel:r})),n(r)}).catch(function(e){n()})})}},{key:"enterChannel",value:function(e,t,n){var r=this;return new Promise(function(c){var s=function(){return{data:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}}};if(!r.isConnected())return c(s());var i=e.channelId,o=r.channels[i];if(o&&!t)return r.switchChannel(o,n).then(function(e){var t=a()(e,2),n=t[0],r=t[1];return c(s({messageListData:n,moderators:r}))}).catch(function(){return c(s())});r.getChannelByChannelId(i).then(function(o){if(!o)return c(s());r.channels[i]=o;var u=Object(L.d)(o);if(r.convertPartialToSubredditChannel(u,e.channelState),t&&u.type===L.a.Subreddit)return r.autoJoinSubredditChannel(o,u).then(function(e){var t=Object(R.a)(e,x.b.JOINED);r.dispatch(Object(p.T)({channel:t})),r.switchChannel(o).then(function(e){var t=a()(e,2),n=t[0],r=t[1];return c(s({messageListData:n,moderators:r}))}).catch(function(){return c(s())})}).catch(function(e){return c(s(e.error))});r.switchChannel(o,n).then(function(e){var t=a()(e,2),n=t[0],r=t[1];return c(s({messageListData:n,moderators:r}))}).catch(function(){return c(s())})}).catch(function(){return c(s())})})}},{key:"updateChannel",value:function(e){var t=this,n=e.name,r=e.coverUrl,a=e.data;return new Promise(function(e,c){t.channel?t.channel.updateChannel(n,r,a,function(t,n){return t?e():c(n)}):c("No channel selected")})}},{key:"hideChannel",value:function(){var e=this;return new Promise(function(t){if(e.channel)return e.channel.hide(),t();t()})}},{key:"leaveChannel",value:function(){var e=this;return new Promise(function(t,n){if(e.channel)return e.channel.leave(function(e,t){t&&n(t)}),t();n("No channel selected")})}},{key:"acceptChannelInvite",value:function(){var e=this;return new Promise(function(t){if(e.channel)return e.channel.acceptInvitation(),t();t()})}},{key:"declineChannelInvite",value:function(){var e=this;return new Promise(function(t,n){e.channel?e.channel.declineInvitation(function(e,r){r?n(r):t(e)}):t()})}},{key:"lockChannel",value:function(){var e=this;return new Promise(function(t,n){return e.channel&&e.channel.freeze(function(e,t){t&&n(t)}),t()})}},{key:"unlockChannel",value:function(){var e=this;return new Promise(function(t,n){return e.channel&&e.channel.unfreeze(function(e,t){t&&n(t)}),t()})}},{key:"getOperators",value:function(){var e=this;return new Promise(function(t,n){e.operatorListQuery?(e.operatorListQuery.limit=100,e.operatorListQuery.hasNext&&e.operatorListQuery.next(function(e,r){r&&n(r),t(e)})):n("No channel selected")})}},{key:"onUserKicked",value:function(){var e=this,t=new this.self.ChannelHandler;t.onUserBanned=function(t,n){var r=Object(U.b)(t,t.memberState);r&&e.dispatch(Object(_.s)(r,n.userId))},this.self.addChannelHandler("CHANNEL_USER_KICKED",t),this.channelUniqueHandlerID.push("CHANNEL_USER_KICKED")}},{key:"kickUserFromChannel",value:function(e,t,n){var r=this;return new Promise(function(a,c){return r.channel?(r.channel.banUserWithUserId(e,t,n,function(e,t){return e?a():c(t)}),a()):a()})}},{key:"getExistingChannels",value:function(e,t){var n=this;return new Promise(function(r,a){var c=void 0;e===x.b.INVITED&&t===x.f.NonSuper?n.channelListQueryInvited?c=n.channelListQueryInvited:(n.channelListQueryInvited=n.self.GroupChannel.createMyGroupChannelListQuery(),c=n.channelListQueryInvited):e===x.b.JOINED&&t===x.f.NonSuper?n.channelListQueryJoined?c=n.channelListQueryJoined:(n.channelListQueryJoined=n.self.GroupChannel.createMyGroupChannelListQuery(),c=n.channelListQueryJoined):e===x.b.JOINED&&t===x.f.Super?n.channelListQueryJoinedSubreddit?c=n.channelListQueryJoinedSubreddit:(n.channelListQueryJoinedSubreddit=n.self.GroupChannel.createMyGroupChannelListQuery(),c=n.channelListQueryJoinedSubreddit):e===x.b.INVITED&&t===x.f.Super&&(n.channelListQueryInvitedSubreddit?c=n.channelListQueryInvitedSubreddit:(n.channelListQueryInvitedSubreddit=n.self.GroupChannel.createMyGroupChannelListQuery(),c=n.channelListQueryInvitedSubreddit)),c.includeEmpty=!0,c.limit=A.a.Channels,c.memberStateFilter=n.self.GroupChannel.memberState[e],c.superChannelFilter=t,c.hasNext?c.next(function(e,t){if(t)a(t);else{var n=c.hasNext;r({channels:e,hasMoreChannels:n})}}):r()})}},{key:"getSubredditChannelMembers",value:function(){var e=this;return new Promise(function(t,n){e.subredditChannelMembersQuery.hasNext&&e.subredditChannelMembersQuery.next(function(r,a){if(a)n(a);else{var c=e.subredditChannelMembersQuery.hasNext;t({members:r,hasMoreMembers:c})}})})}},{key:"getChannelMembersStartsWith",value:function(e){var t=this;return new Promise(function(n,r){t.memberListQuery=t.channel.createMemberListQuery(),t.memberListQuery?(t.memberListQuery.nicknameStartsWithFilter=e,t.memberListQuery.next(function(e,a){if(a)r(a);else{var c=t.memberListQuery&&t.memberListQuery.hasNext||!1;n({members:e,hasMoreMembers:c})}})):r(Error("this.memberListQuery is null or undefined"))})}},{key:"searchMemberByName",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new Promise(function(r,a){t.memberListQuery=t.channel.createMemberListQuery(),t.memberListQuery?(t.memberListQuery.nicknameStartsWithFilter=e,t.memberListQuery.next(function(a,c){var s=Object(B.a)(a),i=s.filter(function(t){return n&&t&&t.name===e||!n&&t});s.length&&t.dispatch(Object(w.i)(s)),r(i)})):a(Error("this.memberListQuery is null or undefined"))})}},{key:"startTypingIndicator",value:function(){this.channel&&this.channel.startTyping()}},{key:"endTypingIndicator",value:function(){this.channel&&this.channel.endTyping()}},{key:"getPreviousMessages",value:function(e,t){var n=this;return new Promise(function(r,a){if(n.channel){var c={};t&&n.createPreviousMessageListQuery(),n.messageListQuery.load(A.a.Messages,!0,e,function(e,t){if(t)a();else{e.forEach(function(e){c[e.messageId]=Object(H.b)(e)});var s=n.messageListQuery.hasMore;r({messages:c,hasMore:s})}})}else a()})}},{key:"addMessage",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return new Promise(function(a,c){if(n.channel){var s=new n.self.UserMessageParams;s.data=t,s.message=e,r&&r.length&&(s.mentionType=n.self.BaseMessageParams.MentionType.USERS,s.mentionedUserIds=r),n.channel.sendUserMessage(s,function(e,t){t?c():a(Object(H.b)(e))})}})}},{key:"createPreviousMessageListQuery",value:function(){this.messageListQuery=this.channel.createPreviousMessageListQuery()}},{key:"deleteMessage",value:function(e){var t=this;return new Promise(function(n){t.channel&&t.channel.deleteMessage(e,function(e,t){t||n(e)})})}},{key:"getFirstMessage",value:function(){var e=this;return new Promise(function(t,n){e.channel?e.channel.getNextMessagesByTimestamp(0,!0,1,!0,"","",function(e,n){n||t(e)}):n()})}},{key:"markChannelAsRead",value:function(){var e=this;return new Promise(function(t){e.channel&&e.channel.markAsRead(),t()})}},{key:"setMyCountPreference",value:function(e){var t=this;return new Promise(function(n){t.channel&&t.channel.setMyCountPreference(e),n()})}},{key:"resetChannelMessageListQuery",value:function(){var e=this;return new Promise(function(t){e.messageListQuery=e.channel.createPreviousMessageListQuery(),t()})}}]),e}());t.b=V},"./src/chat/tracking/events/chatPreview.ts":function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"a",function(){return u});var r=n("./src/telemetry/models/Event.ts"),a=n("./src/chat/tracking/fields/chat.ts"),c=n("./src/chat/tracking/fields/common.ts"),s=n("./src/chat/tracking/fields/subreddit.ts"),i=n("./src/chat/tracking/sendEvent.ts"),o=function(e){Object(i.a)(Object.assign({noun:"preview",source:r.b.ChatPreview,action:r.a.View,chat:Object.assign({},Object(a.g)(e),Object(a.y)(e),Object(a.o)(e),Object(a.r)(e)),subreddit:Object.assign({},Object(s.a)(e),Object(s.b)(e))},Object(c.a)(e)))},u=function(e){Object(i.a)(Object.assign({noun:"join",source:r.b.ChatPreview,action:r.a.Click,chat:Object.assign({},Object(a.g)(e),Object(a.y)(e),Object(a.o)(e),Object(a.r)(e)),subreddit:Object.assign({},Object(s.a)(e),Object(s.b)(e))},Object(c.a)(e)))}},"./src/chat/tracking/events/chatView.ts":function(e,t,n){"use strict";n.d(t,"c",function(){return o}),n.d(t,"a",function(){return u}),n.d(t,"d",function(){return d}),n.d(t,"b",function(){return l}),n.d(t,"e",function(){return h});var r=n("./src/telemetry/models/Event.ts"),a=n("./src/chat/tracking/fields/chat.ts"),c=n("./src/chat/tracking/fields/common.ts"),s=n("./src/chat/tracking/fields/subreddit.ts"),i=n("./src/chat/tracking/sendEvent.ts"),o=function(e){return Object(i.a)(Object.assign({noun:"chat",source:r.b.ChatView,action:r.a.View,chat:Object.assign({},Object(a.y)(e),Object(a.o)(e),Object(a.g)(e),Object(a.r)(e),Object(a.l)(e),Object(a.w)(e)),subreddit:Object.assign({},Object(s.a)(e),Object(s.b)(e))},Object(c.a)(e)))},u=function(e,t){Object(i.a)(Object.assign({noun:"chat_message",source:r.b.ChatView,action:r.a.Submit,chat:Object.assign({},Object(a.y)(e),Object(a.o)(e),Object(a.g)(e),Object(a.r)(e,0),Object(a.m)(e,t),Object(a.v)(e,t),Object(a.w)(e)),subreddit:Object.assign({},Object(s.a)(e),Object(s.b)(e))},Object(c.a)(e)))},d=function(e,t){Object(i.a)(Object.assign({noun:"chat_message_failed",source:r.b.ChatView,action:r.a.View,chat:Object.assign({},Object(a.y)(e),Object(a.o)(e),Object(a.g)(e),Object(a.r)(e,0),Object(a.s)(e,t),Object(a.v)(e),Object(a.w)(e)),subreddit:Object.assign({},Object(s.a)(e),Object(s.b)(e))},Object(c.a)(e)))},l=function(e,t){Object(i.a)(Object.assign({noun:"report_message",source:r.b.ChatView,action:r.a.Submit,chat:Object.assign({},Object(a.y)(e),Object(a.o)(e),Object(a.g)(e),Object(a.r)(e,0),Object(a.m)(e,t),Object(a.v)(e,t),Object(a.w)(e)),subreddit:Object.assign({},Object(s.a)(e),Object(s.b)(e))},Object(c.a)(e)))},h=function(e){Object(i.a)(Object.assign({noun:"history",source:r.b.ChatView,action:r.a.View,chat:Object.assign({},Object(a.y)(e),Object(a.o)(e),Object(a.g)(e),Object(a.w)(e)),subreddit:Object.assign({},Object(s.a)(e),Object(s.b)(e))},Object(c.a)(e)))}},"./src/chat/tracking/events/contactsList.ts":function(e,t,n){"use strict";n.d(t,"g",function(){return o}),n.d(t,"c",function(){return u}),n.d(t,"f",function(){return d}),n.d(t,"e",function(){return l}),n.d(t,"d",function(){return h}),n.d(t,"b",function(){return b}),n.d(t,"a",function(){return f});var r=n("./src/chat/tracking/sendEvent.ts"),a=n("./src/telemetry/models/Event.ts"),c=n("./src/chat/tracking/fields/chat.ts"),s=n("./src/chat/tracking/fields/common.ts"),i=n("./src/chat/tracking/fields/subreddit.ts"),o=function(e){Object(r.a)(Object.assign({noun:"contacts",source:a.b.ContactsList,action:a.a.View,chat:Object.assign({},Object(c.c)(e),Object(c.d)(e))},Object(s.a)(e)))},u=function(e,t){Object(r.a)(Object.assign({noun:"contact_add",source:a.b.ContactsList,action:a.a.Click,chat:Object.assign({},Object(c.e)(e),Object(c.a)(e,t),Object(c.c)(e),Object(c.g)(e),Object(c.f)(e),Object(c.z)(e,t))},Object(s.a)(e)))},d=function(e){Object(r.a)(Object.assign({noun:"alert_invalid_user",source:a.b.ContactsList,action:a.a.View,chat:Object.assign({},Object(c.y)(e),Object(c.c)(e),Object(c.d)(e),Object(c.g)(e),Object(c.z)(e,"search"),Object(c.f)(e))},Object(s.a)(e)))},l=function(e,t){Object(r.a)(Object.assign({noun:"alert_invalid_channel",source:a.b.ContactsList,action:a.a.View,chat:Object.assign({},Object(c.y)(e),Object(c.c)(e),Object(c.d)(e),Object(c.g)(e),Object(c.z)(e,t),Object(c.f)(e))},Object(s.a)(e)))},h=function(e,t){Object(r.a)(Object.assign({noun:"create_chat",source:a.b.ContactsList,action:a.a.Click,chat:Object.assign({},Object(c.y)(e,t),Object(c.c)(e),Object(c.d)(e),Object(c.g)(e,t),Object(c.f)(e))},Object(s.a)(e)))},b=function(e){Object(r.a)(Object.assign({noun:"close_contacts",source:a.b.ContactsList,action:a.a.Click,chat:Object.assign({},Object(c.e)(e),Object(c.c)(e),Object(c.d)(e),Object(c.g)(e),Object(c.f)(e))},Object(s.a)(e)))},f=function(e){Object(r.a)(Object.assign({noun:"add_to_chat",source:a.b.ContactsList,action:a.a.Click,chat:Object.assign({},Object(c.y)(e),Object(c.o)(e),Object(c.g)(e),Object(c.d)(e),Object(c.f)(e)),subreddit:Object.assign({},Object(i.a)(e),Object(i.b)(e))},Object(s.a)(e)))}},"./src/chat/tracking/events/invitationInbox.ts":function(e,t,n){"use strict";n.d(t,"f",function(){return o}),n.d(t,"g",function(){return u}),n.d(t,"c",function(){return d}),n.d(t,"d",function(){return l}),n.d(t,"e",function(){return h}),n.d(t,"b",function(){return b}),n.d(t,"a",function(){return f});var r=n("./src/chat/tracking/sendEvent.ts"),a=n("./src/telemetry/models/Event.ts"),c=n("./src/chat/tracking/fields/chat.ts"),s=n("./src/chat/tracking/fields/common.ts"),i=n("./src/chat/tracking/fields/subreddit.ts"),o=function(e){return Object(r.a)(Object.assign({noun:"inbox",source:a.b.InvitationInbox,action:a.a.View,chat:Object.assign({},Object(c.j)(e,"room"),Object(c.p)(e))},Object(s.a)(e)))},u=function(e){return Object(r.a)(Object.assign({noun:"invitation",source:a.b.InvitationInbox,action:a.a.View,chat:Object.assign({},Object(c.j)(e),Object(c.k)(e),Object(c.h)(e),Object(c.i)(e),Object(c.o)(e)),subreddit:Object.assign({},Object(i.a)(e),Object(i.b)(e))},Object(s.a)(e)))},d=function(e){return Object(r.a)(Object.assign({noun:"invitation_accept",source:a.b.InvitationInbox,action:a.a.Click,chat:Object.assign({},Object(c.j)(e),Object(c.k)(e),Object(c.h)(e),Object(c.i)(e),Object(c.o)(e)),subreddit:Object.assign({},Object(i.a)(e),Object(i.b)(e))},Object(s.a)(e)))},l=function(e){return Object(r.a)(Object.assign({noun:"invitation_decline",source:a.b.InvitationInbox,action:a.a.Click,chat:Object.assign({},Object(c.j)(e),Object(c.k)(e),Object(c.h)(e),Object(c.i)(e),Object(c.o)(e)),subreddit:Object.assign({},Object(i.a)(e),Object(i.b)(e))},Object(s.a)(e)))},h=function(e){return Object(r.a)(Object.assign({noun:"invitation_view_member",source:a.b.InvitationInbox,action:a.a.Click,chat:Object.assign({},Object(c.j)(e),Object(c.k)(e),Object(c.h)(e),Object(c.i)(e),Object(c.o)(e)),subreddit:Object.assign({},Object(i.a)(e),Object(i.b)(e))},Object(s.a)(e)))},b=function(e){Object(r.a)(Object.assign({noun:"expand",source:a.b.InvitationInbox,action:a.a.Click},Object(s.a)(e)))},f=function(e){Object(r.a)(Object.assign({noun:"collapse",source:a.b.InvitationInbox,action:a.a.Click},Object(s.a)(e)))}},"./src/chat/tracking/events/messagesInbox.ts":function(e,t,n){"use strict";var r=n("./src/chat/selectors/telemetry.ts"),a=n("./src/chat/selectors/promos.ts"),c=function(e){return{settingValue:Object(a.c)(e)?"ftue_none":"ftue_open"}},s=n("./src/chat/tracking/fields/chat.ts"),i=n("./src/chat/tracking/fields/common.ts"),o=n("./src/chat/tracking/sendEvent.ts"),u=n("./src/telemetry/models/Event.ts");n.d(t,"e",function(){return d}),n.d(t,"f",function(){return l}),n.d(t,"b",function(){return h}),n.d(t,"a",function(){return b}),n.d(t,"g",function(){return f}),n.d(t,"d",function(){return p}),n.d(t,"c",function(){return m});var d=function(e){Object(o.a)(Object.assign({noun:"inbox",source:u.b.MessageInbox,action:u.a.View,chat:Object.assign({},Object(s.n)(e),Object(s.x)(e),Object(s.p)(e,!1))},Object(i.a)(e)))},l=function(e){Object(o.a)(Object.assign({noun:"rooms_inbox",source:u.b.MessageInbox,action:u.a.View,chat:Object.assign({},Object(s.q)(e),Object(s.p)(e,!0))},Object(i.a)(e)))},h=function(e){Object(o.a)(Object.assign({noun:"create_chat",source:u.b.MessageInbox,action:u.a.Click,chat:Object.assign({},Object(s.n)(e),Object(s.x)(e),Object(s.p)(e))},Object(i.a)(e)))},b=function(e){Object(o.a)(Object.assign({noun:"close_chat",source:u.b.MessageInbox,action:u.a.Click,chat:Object.assign({},Object(s.n)(e),Object(s.p)(e))},Object(i.a)(e),{actionInfo:Object.assign({},c(e),Object(r.a)(e))}))},f=function(e){Object(o.a)(Object.assign({noun:"rooms_tooltip_523",source:u.b.MessageInbox,action:u.a.View,chat:Object.assign({},Object(s.n)(e),Object(s.p)(e))},Object(i.a)(e)))},p=function(e){Object(o.a)(Object.assign({noun:"dismiss_rooms_tooltip_523",source:u.b.MessageInbox,action:u.a.Click,chat:Object.assign({},Object(s.n)(e),Object(s.p)(e))},Object(i.a)(e)))},m=function(e){Object(o.a)(Object.assign({noun:"minimize_chat",source:u.b.MessageInbox,action:u.a.Click,chat:Object.assign({},Object(s.n)(e),Object(s.p)(e))},Object(i.a)(e),{actionInfo:Object.assign({},c(e),Object(r.a)(e))}))}},"./src/chat/tracking/fields/subreddit.ts":function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return c});var r=n("./src/chat/selectors/subreddit.ts"),a=function(e){var t=Object(r.b)(e);return t&&{id:t.id}},c=function(e){var t=Object(r.b)(e);return t&&{name:t.name}}},"./src/lib/linkMatchers/index.ts":function(e,t,n){"use strict";var r=n("./node_modules/babel-runtime/helpers/toConsumableArray.js"),a=n.n(r),c=n("./node_modules/linkify-it/index.js"),s=n.n(c),i=n("./node_modules/tlds/index.js"),o=n.n(i),u=n("./src/lib/linkMatchers/customLinks.ts"),d=n("./node_modules/lodash/values.js"),l=n.n(d),h=function(e){return l()(u.b).includes(e.substring(1))};n.d(t,"c",function(){return b}),n.d(t,"d",function(){return p}),n.d(t,"g",function(){return m}),n.d(t,"a",function(){return g}),n.d(t,"b",function(){return O}),n.d(t,"e",function(){return x}),n.d(t,"f",function(){return y});var b=s()().tlds(o.a).set({fuzzyIP:!0}),f=s()().set({fuzzyIP:!0}).add(u.f.mention.prefix,u.f.mention.config),p=s()().set({fuzzyLink:!1,fuzzyEmail:!1}).add(u.f.subreddit.prefix,u.f.subreddit.config).add(u.f.subredditFull.prefix,u.f.subreddit.config),m=s()().set({fuzzyLink:!1,fuzzyEmail:!1}).add(u.f.profile.prefix,u.f.profile.config).add(u.f.profileFull.prefix,u.f.profile.config),v=s()().tlds(o.a).set({fuzzyIP:!0}).add(u.f.subreddit.prefix,u.f.subreddit.config).add(u.f.subredditFull.prefix,u.f.subreddit.config).add(u.f.profile.prefix,u.f.profile.config).add(u.f.profileFull.prefix,u.f.profile.config).add(u.f.mention.prefix,u.f.mention.config),j=b.normalize;b.normalize=function(e){j.call(b,e),!e.schema&&e.url.startsWith("http:")&&(e.url="https:"+e.url.slice(5))};var g=function(e,t){return(v.match(e)||[]).filter(function(e){var n=h(e.text);return!n||n&&t})},O=function(e){var t=m.match(e)||[],n=f.match(e)||[];return[].concat(a()(t),a()(n)).map(function(e){return!h(e.text)&&e.text.replace(u.a,"")}).filter(function(e){return e})},x=function(e,t){var n=e.match(t);if(n&&1===n.length&&0===n[0].index&&n[0].lastIndex===t.length)return n[0]},y=function(e){var t=b.match(e);if(t&&1===t.length&&0===t[0].index){var n=t[0];return n.lastIndex===e.length?n:function(e,t){var n=e.substring(t.lastIndex);if(/.*\/\/.*\/.*/.test(t.url)&&/^(\?|\!)+$/.test(n))return t.lastIndex+=n.length,t.url+=n,t}(e,n)}}}}]);
//# sourceMappingURL=Chat~RedesignChat.bf23620a5ad7880b43ea.js.map